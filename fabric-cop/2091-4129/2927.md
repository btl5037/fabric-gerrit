<strong>Project</strong>: fabric-cop<br><strong>Branch</strong>: master<br><strong>ID</strong>: 2927<br><strong>Subject</strong>: Group Prekey, Serial Number, and Max Enrollments<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 12/1/2016, 2:32:18 PM<br><strong>LastUpdated</strong>: 12/12/2016, 5:32:49 PM<br><strong>CommitMessage</strong>:<br><pre>Group Prekey, Serial Number, and Max Enrollments

A prekey is generated for a group when a new group is created
and is stored in the groups table. Serial number and AKI has
been added to the users table and it will hold the serial number
and AKI for the current certificate for an enrolled. A configuration
option for repeated enrollment request by a user has been added. User
will be allowed a certain number of maximum enrollments which will
be specified in the server configuration file.

https://jira.hyperledger.org/browse/FAB-943
https://jira.hyperledger.org/browse/FAB-983

Change-Id: I34dff40a9eb8309da83395b242b24bb2e2c95873
Signed-off-by: Saad Karim <skarim@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/1/2016, 2:32:18 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/1/2016, 2:35:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/99/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/1/2016, 2:40:44 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/99/ : SUCCESS</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/1/2016, 2:50:25 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

why is this stacked on top of https://gerrit.hyperledger.org/r/#/c/2849/5?</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/1/2016, 2:56:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/1/2016, 2:56:30 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Cause it makes calls to functions that are implemented in that change set, so it has a dependency to it.</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/1/2016, 2:59:14 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/3/2016, 1:27:05 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(5 comments)

Minor comments</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/3/2016, 1:58:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/3/2016, 4:02:34 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/4/2016, 8:13:23 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/6/2016, 5:51:56 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/6/2016, 5:54:36 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/116/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/6/2016, 5:58:14 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/116/ : FAILURE</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/7/2016, 10:14:44 AM<br><strong>Message</strong>: <pre>Patch Set 2:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/7/2016, 10:15:49 AM<br><strong>Message</strong>: <pre>Patch Set 2: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/119/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/7/2016, 10:22:33 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/119/ : SUCCESS</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/9/2016, 7:57:12 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/9/2016, 12:08:20 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2

looks like a later changeset deals with my comment</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/9/2016, 12:29:28 PM<br><strong>Message</strong>: <pre>Patch Set 2:

> (1 comment)

 > looks like a later changeset deals with my comment

Right, I just addressed in a later changeset.</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 12/9/2016, 2:38:50 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/9/2016, 4:28:01 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/9/2016, 4:30:46 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/135/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/9/2016, 4:35:57 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/135/ : SUCCESS</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/10/2016, 10:35:07 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(6 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/11/2016, 6:11:59 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Also, pls document the MaxEnrollments option in README.md</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/11/2016, 9:39:34 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4: Patch Set 3 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/11/2016, 9:40:26 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/142/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/11/2016, 9:45:18 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/142/ : SUCCESS</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/12/2016, 12:30:02 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(3 comments)

please remove the tcertResponse*.json files (unless I missed something and they are actually needed)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/12/2016, 3:27:32 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/12/2016, 3:28:21 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/12/2016, 3:28:22 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/146/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/12/2016, 3:33:15 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-cop-verify-x86_64/146/ : SUCCESS</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/12/2016, 3:47:29 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 12/12/2016, 5:27:05 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 12/12/2016, 5:27:08 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Jonathan Levi</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/12/2016, 5:27:52 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-cop-merge-x86_64/14/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/12/2016, 5:32:49 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-cop-merge-x86_64/14/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/1/2016, 2:32:18 PM<br><strong>UnmergedRevision</strong>: [004fbab18587f6717e28e80877cb3c6f72a092c3](https://github.com/hyperledger-gerrit-archive/fabric-cop/commit/004fbab18587f6717e28e80877cb3c6f72a092c3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/1/2016, 2:40:44 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 12/3/2016, 1:27:05 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 12/1/2016, 2:50:25 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [cli/server/dbaccessor.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/dbaccessor.go#L87)<br><strong>Comment</strong>: <pre>why exactly are we adding this field here?  I thought there was a plan to try to add the user name / enrollId in the certificates table?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [cli/server/dbaccessor.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/dbaccessor.go#L87)<br><strong>Comment</strong>: <pre>This will contain the most recent serial number and AKI issued to the user. The enrollment id will be added to the certificates table as well that is just for making auditing easier.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cli/server/dbaccessor.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/dbaccessor.go#L87)<br><strong>Comment</strong>: <pre>More specifically, both a SerialNumber and AKI are required in order to retrieve a certificate from the certificate's table, so this allows us to retrieve the most recent one for the user.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [cli/server/dbaccessor.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/dbaccessor.go#L87)<br><strong>Comment</strong>: <pre>sure but if you are going to modify the certDB to get certificates by user, then why include this data here as well?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cli/server/dbaccessor.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/dbaccessor.go#L87)<br><strong>Comment</strong>: <pre>You're right of course.  As long as we pass the actual certificate in the authorization header along with the signature (which we currently do as shown by the code below from auth.go), I can't think of why we would ever need the SerialNumber or the AKI in the users table.  So Saad, I think both can be deleted.

                // check status of certificate
                serial := cert.SerialNumber.String()
                aki := hex.EncodeToString(cert.AuthorityKeyId)
                certs, err := CFG.certDBAccessor.GetCertificate(serial, aki)</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [cli/server/dbaccessor.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/dbaccessor.go#L87)<br><strong>Comment</strong>: <pre>cool - that was my thinking as well.  I would just hate to have to do multiple reads / writes as well as worry about keeping things in sync between tables if we can avoid it</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [cli/server/dbaccessor.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/dbaccessor.go#L87)<br><strong>Comment</strong>: <pre>Saad  -any reason not to remove SerialNumber and AKI here?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cli/server/factory.go#L34](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/cli/server/factory.go#L34)<br><strong>Comment</strong>: <pre>registry</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/crypto/cryptoutil.go#L161](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/lib/crypto/cryptoutil.go#L161)<br><strong>Comment</strong>: <pre>fix comment ... doesn't return -1</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [lib/crypto/cryptoutil.go#L162](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/lib/crypto/cryptoutil.go#L162)<br><strong>Comment</strong>: <pre>what does this change have to do with the actual intent of the changeset?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/crypto/cryptoutil.go#L162](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/lib/crypto/cryptoutil.go#L162)<br><strong>Comment</strong>: <pre>We are adding AKI to the users table so this function gets the AKI for a certificate.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/cop.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/testdata/cop.json#L2)<br><strong>Comment</strong>: <pre>delete this line</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/testconfig.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/004fbab18587f6717e28e80877cb3c6f72a092c3/testdata/testconfig.json#L2)<br><strong>Comment</strong>: <pre>delete this line</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/6/2016, 5:51:56 PM<br><strong>UnmergedRevision</strong>: [98c296681a7c6b822269340e12b294cd43ac7637](https://github.com/hyperledger-gerrit-archive/fabric-cop/commit/98c296681a7c6b822269340e12b294cd43ac7637)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/7/2016, 10:22:33 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 12/9/2016, 2:38:50 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 12/9/2016, 12:08:20 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Created</strong>: 12/9/2016, 4:28:01 PM<br><strong>UnmergedRevision</strong>: [cbe191c8dfffd46a48c9cf22802767bff636912d](https://github.com/hyperledger-gerrit-archive/fabric-cop/commit/cbe191c8dfffd46a48c9cf22802767bff636912d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/9/2016, 4:35:57 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 12/10/2016, 10:35:07 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cli/server/config.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/cli/server/config.go#L50)<br><strong>Comment</strong>: <pre>Some/all of these fields do not belong in config or they should have a json label.  They will be cleaned up in a later change set.  See https://jira.hyperledger.org/browse/FAB-1347</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cli/server/enroll.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/cli/server/enroll.go#L95)<br><strong>Comment</strong>: <pre>FYI, the update of the user registry is done in auth.go, thus removed here.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [cli/server/enroll.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/cli/server/enroll.go#L95)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cli/server/factory.go#L34](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/cli/server/factory.go#L34)<br><strong>Comment</strong>: <pre>A nit, but all occurrences of "registery" should be replaced with "registry" and "Registery" with "Registry".  This is in several debug messages, variable names, etc.  I'm wondering if some earlier review comments have been lost somehow or was this fixed in a later change set perhaps?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [cli/server/factory.go#L34](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/cli/server/factory.go#L34)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/cop.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/testdata/cop.json#L2)<br><strong>Comment</strong>: <pre>Please remove this option as we don't even want to document it and will probably remove it soon.  Authentication should always be enabled.  We added this option temporarily during start up.  It seems that it continues to be added back somehow.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [testdata/cop.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/testdata/cop.json#L2)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/tcertResponse1.json#L0](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/testdata/tcertResponse1.json#L0)<br><strong>Comment</strong>: <pre>You checked these tcertResponse files in by mistake.  Pls delete.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/testconfig.json#L0](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/testdata/testconfig.json#L0)<br><strong>Comment</strong>: <pre>Do you have a test case with max enrollments > 1?  If not, pls add.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [testdata/testconfig.json#L0](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/cbe191c8dfffd46a48c9cf22802767bff636912d/testdata/testconfig.json#L0)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Created</strong>: 12/11/2016, 9:39:34 PM<br><strong>UnmergedRevision</strong>: [7195e7d4368c9e553dc2fc7bed8e103c78d34a55](https://github.com/hyperledger-gerrit-archive/fabric-cop/commit/7195e7d4368c9e553dc2fc7bed8e103c78d34a55)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/11/2016, 9:45:18 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 12/12/2016, 12:30:02 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [testdata/tcertResponse1.json#L1](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/7195e7d4368c9e553dc2fc7bed8e103c78d34a55/testdata/tcertResponse1.json#L1)<br><strong>Comment</strong>: <pre>remove?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [testdata/tcertResponse1.json#L1](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/7195e7d4368c9e553dc2fc7bed8e103c78d34a55/testdata/tcertResponse1.json#L1)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [testdata/tcertResponse2.json#L1](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/7195e7d4368c9e553dc2fc7bed8e103c78d34a55/testdata/tcertResponse2.json#L1)<br><strong>Comment</strong>: <pre>remove?</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [testdata/tcertresponse.json#L1](https://github.com/hyperledger-gerrit-archive/fabric-cop/blob/7195e7d4368c9e553dc2fc7bed8e103c78d34a55/testdata/tcertresponse.json#L1)<br><strong>Comment</strong>: <pre>remove?</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/12/2016, 3:27:32 PM<br><strong>GitHubMergedRevision</strong>: [690c33c11be70e7ee870bfa3e7e0c120ace27e2d](https://github.com/hyperledger-gerrit-archive/fabric-cop/commit/690c33c11be70e7ee870bfa3e7e0c120ace27e2d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/12/2016, 3:33:15 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 12/12/2016, 5:27:05 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Jonathan Levi (HACERA)<br><strong>Merged</strong>: 12/12/2016, 5:27:08 PM<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 12/12/2016, 3:47:29 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>