<strong>Project</strong>: fabric-chaincode-node<br><strong>Branch</strong>: master<br><strong>ID</strong>: 25663<br><strong>Subject</strong>: FAB-10865 Add typescript definitions for shim<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 8/19/2018, 7:24:59 AM<br><strong>LastUpdated</strong>: 8/20/2018, 9:23:14 AM<br><strong>CommitMessage</strong>:<br><pre>FAB-10865 Add typescript definitions for shim

The provides typescript definitions for the shim
and client identity cababilities of fabric-shim.

Change-Id: Iedc4e99f0518cef5b25fc389b18b0e1289a428e9
Signed-off-by: Dave Kelsey <d_kelsey@uk.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/19/2018, 7:24:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 7:25:08 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/183/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 7:28:42 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/227/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 7:37:00 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/183/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/183/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/183

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/227/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/227/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/227</pre><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/19/2018, 7:41:39 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 7:41:48 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/184/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 7:45:12 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/228/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 7:56:20 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/228/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/228/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/228

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/184/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/184</pre><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/19/2018, 8:23:11 AM<br><strong>Message</strong>: <pre>Patch Set 2:

reverify-x</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 8:27:04 AM<br><strong>Message</strong>: <pre>Patch Set 2: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/229/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 8:41:11 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/229/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/229</pre><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/19/2018, 2:04:16 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 2:04:25 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/185/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 2:08:35 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/230/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 2:18:27 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/185/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/185

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/230/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/230</pre><strong>Reviewer</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>Reviewed</strong>: 8/20/2018, 1:57:41 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(8 comments)

a lot of trailing whitespace found</pre><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/20/2018, 2:47:14 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(4 comments)</pre><strong>Reviewer</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>Reviewed</strong>: 8/20/2018, 2:55:44 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/20/2018, 6:30:16 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:30:26 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/187/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:35:03 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/231/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:43:30 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/187/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/187

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/231/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/231</pre><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/20/2018, 8:01:53 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:02:03 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/188/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:05:47 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/232/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:16:08 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/188/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/188

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/232/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/232</pre><strong>Reviewer</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Reviewed</strong>: 8/20/2018, 9:23:14 AM<br><strong>Message</strong>: <pre>Abandoned</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Uploader</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Created</strong>: 8/19/2018, 7:24:59 AM<br><strong>UnmergedRevision</strong>: [13dd745133b5e237b986323caa6e50a2bab48ebf](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/13dd745133b5e237b986323caa6e50a2bab48ebf)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 7:37:00 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Uploader</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Created</strong>: 8/19/2018, 7:41:39 AM<br><strong>UnmergedRevision</strong>: [c2adeb7e9533e7da4e1c28ad977114f1bc39583f](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/c2adeb7e9533e7da4e1c28ad977114f1bc39583f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 8:41:11 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Uploader</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Created</strong>: 8/19/2018, 2:04:16 PM<br><strong>UnmergedRevision</strong>: [d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 2:18:27 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>Approved</strong>: 8/20/2018, 1:57:41 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [package.json#L43](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/package.json#L43)<br><strong>Comment</strong>: <pre>remove this</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [src/package.json#L23](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/package.json#L23)<br><strong>Comment</strong>: <pre>this should be ^8.9.4,  some interface changed for node 10</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L47](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L47)<br><strong>Comment</strong>: <pre>I recommend to rename this to ChaincodeStub to keep consistency with the golang chaincode</pre><strong>Commenter</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L47](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L47)<br><strong>Comment</strong>: <pre>Yep, good idea.</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L84](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L84)<br><strong>Comment</strong>: <pre>this should be renamed to CompositeKey</pre><strong>Commenter</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L84](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L84)<br><strong>Comment</strong>: <pre>hmm, tricky on as it isn't actually a composite key, but the parts that make up a composite key. I think calling it a compositekey could cause confusion especially as createCompositeKey will not return one of these.</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L113](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L113)<br><strong>Comment</strong>: <pre>remove this</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L126](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L126)<br><strong>Comment</strong>: <pre>remove this</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L174](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L174)<br><strong>Comment</strong>: <pre>can you try https://github.com/dcodeIO/protobuf.js#pbts-for-typescript?</pre><strong>Commenter</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L174](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L174)<br><strong>Comment</strong>: <pre>The automation ideally should be part of the build, and probably part of the protos gulp task. But I think that is beyond the scope for the jira. What is there currently is correct as of now manually crafted by hand and I was debating putting it in or not. I decided to put it in. As I don't believe these interfaces will change in a breaking manner.</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [src/types/index.d.ts#L174](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/src/types/index.d.ts#L174)<br><strong>Comment</strong>: <pre>sure, we can create a new jira for the automatic build</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [test/typescript/chaincode.ts#L9](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/test/typescript/chaincode.ts#L9)<br><strong>Comment</strong>: <pre>seems a lot of trailing whitespaces</pre><strong>Commenter</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>CommentLine</strong>: [test/typescript/chaincode.ts#L9](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/d6d2ad3167ff23c95a0c2a9ae7a99eec3ffa038e/test/typescript/chaincode.ts#L9)<br><strong>Comment</strong>: <pre>Hmm, my editor is supposed to be configured to remove those, need to look into that. Thanks. Found it, the eslint rules got changed into a file and that file was named incorrectly.</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Uploader</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Created</strong>: 8/20/2018, 6:30:16 AM<br><strong>UnmergedRevision</strong>: [2caa018d776de0b4aab0b65ab1a6600c08e10e8b](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/2caa018d776de0b4aab0b65ab1a6600c08e10e8b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 6:43:30 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Uploader</strong>: Dave Kelsey - d_kelsey@uk.ibm.com<br><strong>Created</strong>: 8/20/2018, 8:01:53 AM<br><strong>UnmergedRevision</strong>: [8fb9dcb05c6184ef02abe0b26400fecb135967db](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/8fb9dcb05c6184ef02abe0b26400fecb135967db)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 8:16:08 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>