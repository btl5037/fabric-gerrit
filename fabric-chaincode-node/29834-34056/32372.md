<strong>Project</strong>: fabric-chaincode-node<br><strong>Branch</strong>: release-1.4<br><strong>ID</strong>: 32372<br><strong>Subject</strong>: [FAB-15990] release scripts<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 7/17/2019, 9:38:10 AM<br><strong>LastUpdated</strong>: 7/18/2019, 4:31:15 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-15990] release scripts

PLEASE NOTE these changes are NOT releasing rather providing scripts so that they can be used to help the process

You shouldn't need to manually update version numbers.

Change-Id: I6a4e60ba79c5dd67081070f59fa27a2c94190031
Signed-off-by: Matthew B. White <whitemat@uk.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/17/2019, 9:38:10 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 9:38:18 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/595/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 9:38:18 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/596/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 9:58:05 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/595/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/595

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/596/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/596</pre><strong>Reviewer</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>Reviewed</strong>: 7/17/2019, 10:31:23 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(9 comments)

Please change the VERSION in all package.json files of each npm module like https://github.com/hyperledger/fabric-chaincode-node/blob/ec4fc4d0039d4cfc0de71b382c3e9164a31d68d7/fabric-contract-api/package.json#L3 ("1.4.2-snapshot" to "1.4.2") and also in the package.jason of root folder for release CR
CHANGELOG.md is also missing here.</pre><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/17/2019, 10:42:37 AM<br><strong>Message</strong>: <pre>Patch Set 1:

> Patch Set 1:
> 
> (9 comments)
> 
> Please change the VERSION in all package.json files of each npm module like https://github.com/hyperledger/fabric-chaincode-node/blob/ec4fc4d0039d4cfc0de71b382c3e9164a31d68d7/fabric-contract-api/package.json#L3 ("1.4.2-snapshot" to "1.4.2") and also in the package.jason of root folder for release CR
> CHANGELOG.md is also missing here.

Thanks for taking a look - however these scripts are NOT updating the version to 1.4.2; they are helper scripts for the maintainer to do the work for them.

The idea is that you shouldn't have to do this work manually.</pre><strong>Reviewer</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>Reviewed</strong>: 7/17/2019, 10:48:00 AM<br><strong>Message</strong>: <pre>Patch Set 1:

The "tag" on the package.jason of each npm module should be changed from "unstable-1.4" to 1.4.2, then the npmpublish script could be able to publish as latest.</pre><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/17/2019, 10:56:15 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 10:56:23 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/597/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 10:56:23 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/596/ (1/2)</pre><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/17/2019, 10:56:30 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(8 comments)</pre><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/17/2019, 10:57:39 AM<br><strong>Message</strong>: <pre>Patch Set 3: Commit message was updated.</pre><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/17/2019, 11:00:12 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 11:00:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/597/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 11:00:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/598/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 11:00:30 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/597/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/597

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/596/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/596</pre><strong>Reviewer</strong>: James Taylor - jamest@uk.ibm.com<br><strong>Reviewed</strong>: 7/17/2019, 11:08:44 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+1

Nice to get some of this automated</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 11:14:59 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/598/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/598

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-x86_64/597/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/597</pre><strong>Reviewer</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>Reviewed</strong>: 7/17/2019, 11:26:16 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify-z</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 11:26:24 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/599/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2019, 11:45:48 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-verify-s390x/599/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-s390x/599</pre><strong>Reviewer</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>Reviewed</strong>: 7/17/2019, 1:00:55 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+1</pre><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/18/2019, 4:10:31 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Reviewed</strong>: 7/18/2019, 4:10:35 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Matthew White</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/18/2019, 4:31:15 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-node-merge-x86_64/185/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-merge-x86_64/185

https://jenkins.hyperledger.org/job/fabric-chaincode-node-merge-s390x/186/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-merge-s390x/186</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Uploader</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Created</strong>: 7/17/2019, 9:38:10 AM<br><strong>UnmergedRevision</strong>: [b23b110746a69040297fc2fd1bd80c4d4c76b029](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/b23b110746a69040297fc2fd1bd80c4d4c76b029)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/17/2019, 9:58:05 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [scripts/release.sh#L6](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/scripts/release.sh#L6)<br><strong>Comment</strong>: <pre>Clean all of these white spaces.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/fv/annotations/package.json#L21](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/annotations/package.json#L21)<br><strong>Comment</strong>: <pre>This should be replaced with "file:./fabric-shim-1.4.2.tgz",

In all the package.json files the version will be change from 1.4.2-snapshot to 1.4.2 in release CR</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/fv/annotations/package.json#L21](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/annotations/package.json#L21)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/fv/annotations/package.json#L22](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/annotations/package.json#L22)<br><strong>Comment</strong>: <pre>same as L21</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/fv/annotations/package.json#L22](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/annotations/package.json#L22)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/fv/crud/package.json#L18](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/crud/package.json#L18)<br><strong>Comment</strong>: <pre>change 1.4.2-snapshot  to 1.4.2</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/fv/crud/package.json#L18](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/crud/package.json#L18)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/fv/crud/package.json#L19](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/crud/package.json#L19)<br><strong>Comment</strong>: <pre>same as above</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/fv/crud/package.json#L19](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/crud/package.json#L19)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/fv/query/package.json#L18](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/query/package.json#L18)<br><strong>Comment</strong>: <pre>Include 1.4.2 here</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/fv/query/package.json#L18](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/query/package.json#L18)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/fv/query/package.json#L19](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/query/package.json#L19)<br><strong>Comment</strong>: <pre>same as above</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/fv/query/package.json#L19](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/fv/query/package.json#L19)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/scenario/package.json#L18](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/scenario/package.json#L18)<br><strong>Comment</strong>: <pre>include 1.4.2</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/scenario/package.json#L18](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/scenario/package.json#L18)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre><strong>Commenter</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>CommentLine</strong>: [test/scenario/package.json#L19](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/scenario/package.json#L19)<br><strong>Comment</strong>: <pre>same as above</pre><strong>Commenter</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>CommentLine</strong>: [test/scenario/package.json#L19](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/blob/b23b110746a69040297fc2fd1bd80c4d4c76b029/test/scenario/package.json#L19)<br><strong>Comment</strong>: <pre>this is set like this so that it doesn't need to be changed on a per build basis.</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Uploader</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Created</strong>: 7/17/2019, 10:56:15 AM<br><strong>UnmergedRevision</strong>: [6072145175deb6742560102c899ae79b28ce94e5](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/6072145175deb6742560102c899ae79b28ce94e5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/17/2019, 11:00:30 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Uploader</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Created</strong>: 7/17/2019, 10:57:39 AM<br><strong>UnmergedRevision</strong>: [e6432248d9b9088846d3ee2967027e4ca63dd504](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/e6432248d9b9088846d3ee2967027e4ca63dd504)<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Uploader</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Created</strong>: 7/17/2019, 11:00:12 AM<br><strong>GitHubMergedRevision</strong>: [f93af734903a4a401ee1742806254f4bfe6af632](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-node/commit/f93af734903a4a401ee1742806254f4bfe6af632)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/17/2019, 11:45:48 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew White - whitemat@uk.ibm.com<br><strong>Approved</strong>: 7/18/2019, 4:10:31 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Matthew White<br><strong>Merged</strong>: 7/18/2019, 4:10:35 AM<br><br><strong>Approver</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>Approved</strong>: 7/17/2019, 1:00:55 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: James Taylor - jamest@uk.ibm.com<br><strong>Approved</strong>: 7/17/2019, 11:08:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>