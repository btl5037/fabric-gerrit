<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 16559<br><strong>Subject</strong>: [FAB-7465] Fix the authority checks on attributes<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 1/3/2018, 4:43:15 PM<br><strong>LastUpdated</strong>: 1/20/2018, 5:53:12 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-7465] Fix the authority checks on attributes

Fixes the authority checks on attributes being registered,
ensures that the registrar can not give a user being registered
more authority than themselves.

Change set seems large, but 1205 of the lines are test and
user guide related.

Change-Id: Ifecd80d8b9711a238935fd539e61803085a1a67f
Signed-off-by: Saad Karim <skarim@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/3/2018, 4:43:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/3/2018, 4:43:27 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2500/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/3/2018, 4:47:27 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2471/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/3/2018, 5:44:38 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2471/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2471

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2500/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2500</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 1/4/2018, 3:16:51 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/5/2018, 3:11:14 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/5/2018, 3:11:26 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2511/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/5/2018, 3:15:23 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2482/ (2/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/5/2018, 3:44:21 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/5/2018, 4:11:42 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2511/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2511/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2511

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2482/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2482/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2482</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/5/2018, 4:54:02 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/5/2018, 4:54:12 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2512/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/5/2018, 4:57:31 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2483/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/5/2018, 5:57:31 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2512/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2512

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2483/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2483</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/8/2018, 10:30:13 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(16 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/8/2018, 10:49:31 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(7 comments)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 1/11/2018, 1:25:13 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(4 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/16/2018, 11:25:39 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 11:25:48 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2545/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/16/2018, 11:26:05 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(27 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/16/2018, 11:26:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Changeset seems large, but about 1205 of the lines are test and user guide related.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 11:29:13 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2512/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 12:38:22 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2545/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2545

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2512/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2512</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 4:30:03 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(9 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 4:32:16 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 4:33:14 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/17/2018, 10:58:39 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 10:58:49 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2551/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/17/2018, 10:58:51 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(10 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 11:03:31 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2518/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 11:53:40 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2551/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2551

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2518/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2518</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/18/2018, 10:13:37 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/20/2018, 5:08:05 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2

I think we've made this whole thing way too complex, but that really has nothing to do with this change.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/20/2018, 5:08:08 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/20/2018, 5:53:12 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-merge-s390x/388/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-merge-s390x/388

https://jenkins.hyperledger.org/job/fabric-ca-merge-x86_64/389/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-merge-x86_64/389</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 1/3/2018, 4:43:15 PM<br><strong>UnmergedRevision</strong>: [a6fc5a8794744c639e024943d1ad9071afcbab2b](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/a6fc5a8794744c639e024943d1ad9071afcbab2b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/3/2018, 5:44:38 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1006](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6fc5a8794744c639e024943d1ad9071afcbab2b/docs/source/users-guide.rst#L1006)<br><strong>Comment</strong>: <pre>than --> then</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1006](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6fc5a8794744c639e024943d1ad9071afcbab2b/docs/source/users-guide.rst#L1006)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 1/5/2018, 3:11:14 PM<br><strong>UnmergedRevision</strong>: [bc0d60ce83d71357487542f552f1446fa6676eab](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/bc0d60ce83d71357487542f552f1446fa6676eab)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/5/2018, 4:11:42 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1080](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1080)<br><strong>Comment</strong>: <pre>"invoker" is used in #1 and #2 and "registrar" is used in #3.  Let's be consistent.  I suggest saying 
    "The registrar (i.e. the invoker) must have"
here, but just saying "registrar" from here on.  Also, don't say "registrar's identity" or "invoker's identity", but rather just "registrar".

Also, there are many places that we have "Registrar" in the middle of a sentence.  These should all be lowercase "registrar".  Pls search for all as there are many.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1080](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1080)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1081](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1081)<br><strong>Comment</strong>: <pre>values</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1081](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1081)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1095](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1095)<br><strong>Comment</strong>: <pre>if all of the</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1095](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1095)<br><strong>Comment</strong>: <pre>"registrar" is used here but "invoker" is used for #1 and #2.  Let's be consistent.  I'm fine with changing #1 and #2 to use "registrar" instead of "invoker", or vice-versa.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1095](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1095)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1095](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1095)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1104](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1104)<br><strong>Comment</strong>: <pre>the registrar can register the attribute only if the registrar's value for the attribute is 'true'.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1104](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1104)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1105)<br><strong>Comment</strong>: <pre>Make it lowercase "registrar" here and MANY other places.  Please search for all and replace, unless beginning of sentence of course.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1105)<br><strong>Comment</strong>: <pre>custom attributes (i.e. any attribute whose name does not begin with 'hf.')</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1105)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1105)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1133](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1133)<br><strong>Comment</strong>: <pre>the requested</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1133](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1133)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1154](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1154)<br><strong>Comment</strong>: <pre>the registrar does not have the orderer role in its value of the hf.Registrar.Roles attribute.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1154](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1154)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1158](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1158)<br><strong>Comment</strong>: <pre>the hf.Revoker attribute is a boolean attribute and the registrar's value for the attribute is not 'true'.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1158](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/docs/source/users-guide.rst#L1158)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/attribute.go#L62](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/attribute.go#L62)<br><strong>Comment</strong>: <pre>This map can be created once in a single var assignment rather than a new instance created for each request.
Also, I think a nice object-oriented design would be to put this in its own package (lib/attr) with a single public function similar to:
   func CanRegisterAttribute(attr *api.Attribute, user spi.User) error
where ALL registration checks are made by this function.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/attribute.go#L62](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/attribute.go#L62)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverregister.go#L253](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverregister.go#L253)<br><strong>Comment</strong>: <pre>Let's just not allow them to register these attributes at all, no matter what the value.  We will always register these attributes for them.

return fmt.Errorf("Registration of attribute '%s' is not permitted", name)</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverregister.go#L253](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverregister.go#L253)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L225](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L225)<br><strong>Comment</strong>: <pre>Delete this.  We must support attributes when using LDAP.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L225](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L225)<br><strong>Comment</strong>: <pre>Done. Must have come from a bad merge</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L620](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L620)<br><strong>Comment</strong>: <pre>This should be an authorization error:

return newAuthErr(ErrMissingRegAttr, fmt.Sprintf("Failed to get attribute: %s", err))</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L620](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L620)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L665](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L665)<br><strong>Comment</strong>: <pre>Use newAuthErr for all authorization errors</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L665](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L665)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L678](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L678)<br><strong>Comment</strong>: <pre>Let's have a function similar to
    getAttributeControl(attrName string) *attributeControl
which returns an attributeControl for any attribute.  For all attributes not starting with "hf.", we return a default control.
This will make it easier to support control over custom attributes in the future based on attribute type should be allow registration of attribute name and type.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L678](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/bc0d60ce83d71357487542f552f1446fa6676eab/lib/serverrequestcontext.go#L678)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 1/5/2018, 4:54:02 PM<br><strong>UnmergedRevision</strong>: [2cdad59d5a07c5cabce544ffe98a4f34dddfd253](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/2cdad59d5a07c5cabce544ffe98a4f34dddfd253)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/5/2018, 5:57:31 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/8/2018, 10:30:13 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1097](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1097)<br><strong>Comment</strong>: <pre>Fabric CA reserved</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1097](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1097)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1100](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1100)<br><strong>Comment</strong>: <pre>being registered</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1100](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1100)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1102](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1102)<br><strong>Comment</strong>: <pre>what about if the type is string, should the value being given match the registrar's attribute value?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1102](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1102)<br><strong>Comment</strong>: <pre>We currently don't have any attributes that are just one element strings, besides hf.Enrollment, hf.Type, and hf.Affiliation. These attributes are not allowed to registered we set these attributes always.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1105)<br><strong>Comment</strong>: <pre>couple of more examples would be useful.. For example, if registrar has hf.Registrar.Attributes=orgAdmin, then the registrar can register an identity with orgAdmin attribute</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/docs/source/users-guide.rst#L1105)<br><strong>Comment</strong>: <pre>Did you see the examples below? Any others we should?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/attribute.go#L37](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/attribute.go#L37)<br><strong>Comment</strong>: <pre>I don't think this type is really needed.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/attribute.go#L37](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/attribute.go#L37)<br><strong>Comment</strong>: <pre>I need some type to associate with a variable that cannot be modified, so when we initialize the attribute map I can look them up and throw an error if a request is made to modify fixed attribute types.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L112](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/ca.go#L112)<br><strong>Comment</strong>: <pre>This is a singleton thing.  That is, it doesn't need to be different for each CA, so no need to put here.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/ca.go#L112](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/ca.go#L112)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L154](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/ca.go#L154)<br><strong>Comment</strong>: <pre>Not needed</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/ca.go#L154](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/ca.go#L154)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L1230](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/ca.go#L1230)<br><strong>Comment</strong>: <pre>Migration of users only applies to DB, not to LDAP users, so I don't think we should be using the generic user object which applies to both LDAP and DB users.  So we wouldn't need to add this new boolean to the ModifyAttributes API.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/ca.go#L1230](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/ca.go#L1230)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L981](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/dbaccessor.go#L981)<br><strong>Comment</strong>: <pre>If only needed for migration, I don't think this is needed here.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L981](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/dbaccessor.go#L981)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L407](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/serveridentities.go#L407)<br><strong>Comment</strong>: <pre>Is this really always a 400?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L407](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/serveridentities.go#L407)<br><strong>Comment</strong>: <pre>With code change, this is no longer relevant.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L532](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/serveridentities.go#L532)<br><strong>Comment</strong>: <pre>I don't understand why this fixed value is needed.
We just make sure the registrar doesn't attempt to register them and set them ourself.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L532](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/2cdad59d5a07c5cabce544ffe98a4f34dddfd253/lib/serveridentities.go#L532)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 1/16/2018, 11:25:39 AM<br><strong>UnmergedRevision</strong>: [9077428410a33ed068c54436e8078285666960fc](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/9077428410a33ed068c54436e8078285666960fc)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/16/2018, 12:38:22 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/16/2018, 4:30:03 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1100](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/docs/source/users-guide.rst#L1100)<br><strong>Comment</strong>: <pre>Pls add a table with 3 columns for these hf attributes: name, type, and description</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1100](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/docs/source/users-guide.rst#L1100)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1104](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/docs/source/users-guide.rst#L1104)<br><strong>Comment</strong>: <pre>has the</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1104](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/docs/source/users-guide.rst#L1104)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1108](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/docs/source/users-guide.rst#L1108)<br><strong>Comment</strong>: <pre>For example, if the registrar has the attribute 'hf.Registrar.Attributes=orgAdmin', then the only attribute which the registrar can add or remove from an identity is the 'orgAdmin' attribute.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1108](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/docs/source/users-guide.rst#L1108)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/attr/attribute.go#L100](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/attr/attribute.go#L100)<br><strong>Comment</strong>: <pre>No biggy but I think it reads more clearly by just assigning directly rather than through a function.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/attr/attribute.go#L100](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/attr/attribute.go#L100)<br><strong>Comment</strong>: <pre>I've left this as is, I can't use loops if I assign directly to variable.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/attr/attribute.go#L286](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/attr/attribute.go#L286)<br><strong>Comment</strong>: <pre>requestAttrName</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/attr/attribute.go#L286](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/attr/attribute.go#L286)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/attr/attribute.go#L287](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/attr/attribute.go#L287)<br><strong>Comment</strong>: <pre>log.Debugf("Checking if registrar can register attribute '%s'", requestedAttrName)</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/attr/attribute.go#L287](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/attr/attribute.go#L287)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/attr/attribute_test.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/attr/attribute_test.go#L0)<br><strong>Comment</strong>: <pre>Nice</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L463](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serveridentities.go#L463)<br><strong>Comment</strong>: <pre>no error returned here, so delete</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L463](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serveridentities.go#L463)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L483](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serveridentities.go#L483)<br><strong>Comment</strong>: <pre>Should be req.Attributes</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L483](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serveridentities.go#L483)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L556](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serveridentities.go#L556)<br><strong>Comment</strong>: <pre>This should be a public function in lib/attr, and implemented differently per info that is already there.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L556](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serveridentities.go#L556)<br><strong>Comment</strong>: <pre>Wasn't used anywhere, so I just deleted.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L365](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serverrequestcontext.go#L365)<br><strong>Comment</strong>: <pre>Why not just pass in a user object rather than separately passing userAff, userType, and userAttrs?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L365](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/9077428410a33ed068c54436e8078285666960fc/lib/serverrequestcontext.go#L365)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 1/17/2018, 10:58:39 AM<br><strong>GitHubMergedRevision</strong>: [ea386cacba06b9931f4395223fa2b77437f2a749](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/ea386cacba06b9931f4395223fa2b77437f2a749)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2018, 11:53:40 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/18/2018, 10:13:37 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 1/20/2018, 5:08:05 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 1/20/2018, 5:08:08 AM<br><br></blockquote>