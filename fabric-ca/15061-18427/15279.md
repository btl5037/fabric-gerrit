<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 15279<br><strong>Subject</strong>: [FAB-5726] 3. Dynamic Cfg - identities: GetIDs<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 11/7/2017, 6:05:00 PM<br><strong>LastUpdated</strong>: 1/4/2018, 5:14:26 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-5726] 3. Dynamic Cfg - identities: GetIDs

This change set implements getting a specific
ID and getting all IDs that the caller is authorized
to view.

Next change set will implementing add a new identity
and removing an existing identity.

Change-Id: I60d1a11c3352e655cdbaceb29639a56d4ac153b6
Signed-off-by: Saad Karim <skarim@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/7/2017, 6:05:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/7/2017, 6:05:10 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2228/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/7/2017, 6:05:37 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2199/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/7/2017, 6:35:12 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2228/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2228

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2199/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2199</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/8/2017, 3:04:27 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(6 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/9/2017, 3:30:03 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/9/2017, 3:30:10 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2229/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/9/2017, 3:30:10 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2258/ (2/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/9/2017, 3:30:11 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/9/2017, 4:04:48 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2258/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2258

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2229/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2229</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/9/2017, 5:42:13 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(13 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/13/2017, 1:19:56 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2017, 1:20:03 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2282/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2017, 1:20:04 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2253/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/13/2017, 1:20:07 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(11 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2017, 2:03:21 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2282/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2282

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2253/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2253</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/13/2017, 3:12:02 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+2</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/16/2017, 1:01:20 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2017, 1:01:29 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2314/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2017, 1:04:46 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2284/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2017, 1:36:53 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2314/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2314

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2284/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2284</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/16/2017, 2:16:36 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/17/2017, 10:36:50 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5: Patch Set 4 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2017, 10:36:59 AM<br><strong>Message</strong>: <pre>Patch Set 5: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2323/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2017, 10:39:49 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2293/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2017, 11:26:55 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2323/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2323

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2293/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2293</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/21/2017, 1:25:10 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/21/2017, 1:25:21 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2336/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/21/2017, 1:27:36 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2307/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/21/2017, 2:18:12 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2336/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2336

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2307/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2307</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/21/2017, 3:30:12 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+2</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/8/2017, 9:38:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 9:38:17 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2364/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 9:38:17 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2393/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 10:36:41 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2364/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2364/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2364

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2393/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2393/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2393</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/8/2017, 11:13:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8: Patch Set 7 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 11:13:38 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2398/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 11:16:08 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2369/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 12:00:24 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2369/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2369

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2398/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2398</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/8/2017, 12:23:24 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/8/2017, 3:12:21 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/8/2017, 3:18:14 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review-2</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/8/2017, 4:50:20 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 4:50:27 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2404/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/8/2017, 4:50:45 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 4:51:37 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2375/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 5:37:49 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2375/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2375/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2375

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2404/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2404/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2404</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/8/2017, 5:47:23 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10: Patch Set 9 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 5:47:33 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2407/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 5:47:33 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2378/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/8/2017, 6:28:33 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2378/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2378

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2407/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2407</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/8/2017, 8:15:23 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 12/9/2017, 4:12:59 AM<br><strong>Message</strong>: <pre>Removed Code-Review-2 by Gari Singh <gari.r.singh@gmail.com>
</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/14/2017, 1:34:29 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2017, 1:34:37 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2437/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2017, 1:39:56 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2408/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2017, 2:24:12 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2408/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2408

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2437/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2437</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/14/2017, 8:55:46 PM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review-1

(9 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/15/2017, 3:01:37 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2017, 3:01:45 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2438/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2017, 3:03:13 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2409/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2017, 3:52:53 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2409/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2409

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2438/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2438</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/15/2017, 3:59:43 PM<br><strong>Message</strong>: <pre>Patch Set 12:

(9 comments)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 12/15/2017, 5:54:27 PM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/18/2017, 9:48:11 AM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/18/2017, 5:49:12 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/18/2017, 5:49:19 PM<br><strong>Message</strong>: <pre>Patch Set 12:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/18/2017, 5:49:23 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2449/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/18/2017, 5:51:29 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2420/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/18/2017, 5:56:28 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2420/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2420/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2420

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2449/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2449/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2449</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/18/2017, 7:28:47 PM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/18/2017, 7:28:53 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2450/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/18/2017, 7:29:21 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2421/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/18/2017, 8:15:56 PM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2421/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2421

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2450/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2450</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/19/2017, 9:01:12 AM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 9:01:19 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2455/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 9:04:32 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2426/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 10:02:20 AM<br><strong>Message</strong>: <pre>Patch Set 15: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2426/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2426

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2455/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2455</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/19/2017, 12:57:14 PM<br><strong>Message</strong>: <pre>Uploaded patch set 16: Patch Set 15 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 12:57:27 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2465/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 12:57:59 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2436/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 1:50:22 PM<br><strong>Message</strong>: <pre>Patch Set 16: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2436/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2436

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2465/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2465</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/19/2017, 10:10:17 PM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review+2</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/20/2017, 4:39:57 PM<br><strong>Message</strong>: <pre>Uploaded patch set 17.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 4:40:05 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2477/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 4:41:29 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2447/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 5:56:38 PM<br><strong>Message</strong>: <pre>Patch Set 17: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2447/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2447

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2477/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2477</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/2/2018, 11:10:16 AM<br><strong>Message</strong>: <pre>Uploaded patch set 18.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/2/2018, 11:10:25 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2496/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/2/2018, 11:12:26 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2467/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/2/2018, 11:52:16 AM<br><strong>Message</strong>: <pre>Patch Set 18: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2496/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2496

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2467/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2467</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/2/2018, 2:37:42 PM<br><strong>Message</strong>: <pre>Patch Set 18: Code-Review+2

(1 comment)

One minor comment in serveridentities.go
This has become quite large, but I understand it grew in order to handle client and server streaming appropriately for listing identities.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/4/2018, 4:26:06 AM<br><strong>Message</strong>: <pre>Patch Set 18:

(1 comment)

perhaps we can do some refactoring on the way from alpha to beta.  need to consider the entire series of course</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/4/2018, 4:26:28 AM<br><strong>Message</strong>: <pre>Patch Set 18: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/4/2018, 4:26:30 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2018, 5:14:26 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-merge-s390x/365/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-merge-s390x/365

https://jenkins.hyperledger.org/job/fabric-ca-merge-x86_64/365/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-merge-x86_64/365</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/7/2017, 6:05:00 PM<br><strong>UnmergedRevision</strong>: [fe01bee20349c6ad3b8cd78f93553e349764699a](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/fe01bee20349c6ad3b8cd78f93553e349764699a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/7/2017, 6:35:12 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/8/2017, 3:04:27 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L890](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/ca.go#L890)<br><strong>Comment</strong>: <pre>Add context to error so it includes 'username'</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/ca.go#L890](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/ca.go#L890)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L341](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/dbaccessor.go#L341)<br><strong>Comment</strong>: <pre>How about "GetUsersByAffiliation" since we're calling these
users in the database and user registry context.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L341](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/dbaccessor.go#L341)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L85](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/serveridentities.go#L85)<br><strong>Comment</strong>: <pre>Can 'vars' be nil?
If yes, need to error check.
If no, can collapse to 1 line.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L85](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/serveridentities.go#L85)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L104](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/serveridentities.go#L104)<br><strong>Comment</strong>: <pre>I think "getIdentities" and "GetIdentitiesResponse"
are better names to match the name in the URL</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L373](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/serverrequestcontext.go#L373)<br><strong>Comment</strong>: <pre>Fix comment ... or collapse this function into CanActOnType
if it is not called elsewhere</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L373](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/serverrequestcontext.go#L373)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/spi/userregistry.go#L67](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/spi/userregistry.go#L67)<br><strong>Comment</strong>: <pre>GetUsersByAffiliation

and put together with other GetUser calls</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/spi/userregistry.go#L67](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fe01bee20349c6ad3b8cd78f93553e349764699a/lib/spi/userregistry.go#L67)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/9/2017, 3:30:03 PM<br><strong>UnmergedRevision</strong>: [ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/9/2017, 4:04:48 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/9/2017, 5:42:13 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L475](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/cmd/fabric-ca-client/main_test.go#L475)<br><strong>Comment</strong>: <pre>Add positive test cases for identity CLI</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L475](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/cmd/fabric-ca-client/main_test.go#L475)<br><strong>Comment</strong>: <pre>Postive testcases for add/modify/remove can't be added until they are implemented, which happens in changesets after this one. Postive test cases for getid and getallids are present below.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L890](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/ca.go#L890)<br><strong>Comment</strong>: <pre>attribute</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/ca.go#L890](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/ca.go#L890)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L341](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L341)<br><strong>Comment</strong>: <pre>All errors should either be wrapped or WithMessage
and include the affiliation for context.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L341](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L341)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L354](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L354)<br><strong>Comment</strong>: <pre>wrap error with context</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L354](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L354)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L360](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L360)<br><strong>Comment</strong>: <pre>wrap error with context</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L360](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L360)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L364](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L364)<br><strong>Comment</strong>: <pre>wrap error with context</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L364](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L364)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L374](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L374)<br><strong>Comment</strong>: <pre>We could be hitting the DB pretty hard here, depending
on number of users.  Can you populate users with data
you get from select, thus making a only 1 or 2 DB calls?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L374](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/dbaccessor.go#L374)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L88](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L88)<br><strong>Comment</strong>: <pre>Can the user make this happen with a bad request?
If not, then this should be a 500 error.
If yes, then the error message should tell what was wrong
with the request.
I'm guessing the former.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L117](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L117)<br><strong>Comment</strong>: <pre>Hmm ... I think we should rename this to
GetFilteredUsers and pass both the caller's
affiliation and hf.Registrar.Roles it has access to
and select on both criteria to be more efficient
and would not have to call CanActOnType below.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L117](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L117)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L119](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L119)<br><strong>Comment</strong>: <pre>users by affiliation</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L119](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L119)<br><strong>Comment</strong>: <pre>500</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L119](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L119)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L119](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L119)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L152](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L152)<br><strong>Comment</strong>: <pre>Maybe I mentioned in another change set?
Anyway, register.GetUser should return
nil, nil if the user wasn't found.  That's the only
case to return a 400 error; otherwise, an error connecting
to the DB would result in a 500 error.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L152](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L152)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L170](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/ff831e4488ec51a39b5a5179dc1aaf88a6e26eb1/lib/serveridentities.go#L170)<br><strong>Comment</strong>: <pre>I think it is better to have a single
   ctx.CanActOn(user)
which does all of this, including returning the appropriate
error.  Reminder that it should be an newAuthErr (which is
401) or a 5XX server-side error code.</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/13/2017, 1:19:56 PM<br><strong>UnmergedRevision</strong>: [be83984bdf9d4776edcb79a536156fb2d011899e](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/be83984bdf9d4776edcb79a536156fb2d011899e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/13/2017, 2:03:21 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/13/2017, 3:12:02 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/16/2017, 1:01:20 PM<br><strong>UnmergedRevision</strong>: [9589386eab89694f6dfad18d54f69681b135c556](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/9589386eab89694f6dfad18d54f69681b135c556)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/16/2017, 1:36:53 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/16/2017, 2:16:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: NO_CHANGE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/17/2017, 10:36:50 AM<br><strong>UnmergedRevision</strong>: [fd457c9dde019a91deeea68702607649ddd6596a](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/fd457c9dde019a91deeea68702607649ddd6596a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/17/2017, 11:26:55 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/16/2017, 2:16:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/21/2017, 1:25:10 PM<br><strong>UnmergedRevision</strong>: [969f6c21fd85e44db2c5d63e491f7d099d8f1ed0](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/969f6c21fd85e44db2c5d63e491f7d099d8f1ed0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/21/2017, 2:18:12 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/21/2017, 3:30:12 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/8/2017, 9:38:08 AM<br><strong>UnmergedRevision</strong>: [2322ee11d9898c36bb99daef832182a193eef87b](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/2322ee11d9898c36bb99daef832182a193eef87b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/8/2017, 10:36:41 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/8/2017, 11:13:25 AM<br><strong>UnmergedRevision</strong>: [0ebcd76a2d0c882627dd247efbdd8ba9386ac645](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/0ebcd76a2d0c882627dd247efbdd8ba9386ac645)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/8/2017, 12:00:24 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 12/8/2017, 12:23:24 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 12/8/2017, 3:18:14 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L400](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/0ebcd76a2d0c882627dd247efbdd8ba9386ac645/lib/dbaccessor.go#L400)<br><strong>Comment</strong>: <pre>I'd change all of the Select calls to use Queryx (https://godoc.org/github.com/jmoiron/sqlx#DB.Queryx) and use the Queryx/StructScan iteration technique.  Select is going to read everything into memory whereas Queryx should take advantage at the underlying buffering of the cursor from the driver</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L400](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/0ebcd76a2d0c882627dd247efbdd8ba9386ac645/lib/dbaccessor.go#L400)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/8/2017, 4:50:20 PM<br><strong>UnmergedRevision</strong>: [f7b26798e2c379c20fefcccbfc92f0e531919e51](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/f7b26798e2c379c20fefcccbfc92f0e531919e51)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/8/2017, 5:37:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 12/8/2017, 3:18:14 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/8/2017, 5:47:23 PM<br><strong>UnmergedRevision</strong>: [b666c1ca551eb0d232185cb66bcf578ec8f4a74d](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/b666c1ca551eb0d232185cb66bcf578ec8f4a74d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/8/2017, 6:28:33 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L751](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/b666c1ca551eb0d232185cb66bcf578ec8f4a74d/lib/dbaccessor.go#L751)<br><strong>Comment</strong>: <pre>Saad, this is still going to read all user info in memory at the same time.  Gari was saying that this should be avoided which means that rather than returning []spi.User from GetFilteredUsers, you would return some sort of UserIterator object which contains the *sqlx.Rows object and a way to iterate and call StructScan one at a time.  Then we'll either need to a) use a pagination technique or b) use HTTP chunking to write back one user or group of users at a time.</pre></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/14/2017, 1:34:29 PM<br><strong>UnmergedRevision</strong>: [fb7e8f407bdae37d36182fadf40639da424f8f5f](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/fb7e8f407bdae37d36182fadf40639da424f8f5f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/14/2017, 2:24:12 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 12/14/2017, 8:55:46 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L772](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/cmd/fabric-ca-client/main_test.go#L772)<br><strong>Comment</strong>: <pre>Is this coming from another change set?  Otherwise, how is it related?  Also, I'm wondering if we should be populating the algo and size from the client's "csp" section.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L772](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/cmd/fabric-ca-client/main_test.go#L772)<br><strong>Comment</strong>: <pre>Yes, this is from a rebase.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L772](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/cmd/fabric-ca-client/main_test.go#L772)<br><strong>Comment</strong>: <pre>This is in master. It was merged as part of 16085, "Unmarshal key request object correctly"</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L346](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/ca.go#L346)<br><strong>Comment</strong>: <pre>BCCSP supports RSA, right?  Can we determine whether ECDSA or RSA is configured?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/ca.go#L346](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/ca.go#L346)<br><strong>Comment</strong>: <pre>I didn't introduce this, maybe we should handle this out of this change set.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L346](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/ca.go#L346)<br><strong>Comment</strong>: <pre>we also are not doing much with RSA at all</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/ca.go#L366](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/ca.go#L366)<br><strong>Comment</strong>: <pre>I think a lot of this can/should be put into a separate function and called from here and from the client code to generate a CSR</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/ca.go#L366](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/ca.go#L366)<br><strong>Comment</strong>: <pre>From rebase</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client.go#L302](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/client.go#L302)<br><strong>Comment</strong>: <pre>How is this related?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/client.go#L302](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/client.go#L302)<br><strong>Comment</strong>: <pre>From rebase again</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client.go#L524](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/client.go#L524)<br><strong>Comment</strong>: <pre>return err</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/client.go#L524](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/client.go#L524)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client.go#L539](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/client.go#L539)<br><strong>Comment</strong>: <pre>I think this function should be in fabric-ca/cmd/fabric-ca-client.  Also, I would print Attributes last.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/client.go#L539](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/client.go#L539)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L136](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/serveridentities.go#L136)<br><strong>Comment</strong>: <pre>Change to 500 because this is a server-side issue, not a client request problem.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L136](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/serveridentities.go#L136)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L176](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/serveridentities.go#L176)<br><strong>Comment</strong>: <pre>don't ignore error</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L176](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/serveridentities.go#L176)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L180](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/serveridentities.go#L180)<br><strong>Comment</strong>: <pre>The loops don't look correct to me.  I think the outer loop needs to be the inner loop so that we write 100 entries (by default) and then flush.  This looks like it will print all rows before flushing.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L180](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/fb7e8f407bdae37d36182fadf40639da424f8f5f/lib/serveridentities.go#L180)<br><strong>Comment</strong>: <pre>Done. Yeah, i don't know what I was thinking.</pre></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/15/2017, 3:01:37 PM<br><strong>UnmergedRevision</strong>: [cdd04af15ea2e55c0c343c4ab49651153541ebe4](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/cdd04af15ea2e55c0c343c4ab49651153541ebe4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/15/2017, 3:52:53 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 12/18/2017, 9:48:11 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client.go#L526](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/cdd04af15ea2e55c0c343c4ab49651153541ebe4/lib/client.go#L526)<br><strong>Comment</strong>: <pre>The stream will not be closed if there was an error.
I recommend adding a defer close to the StreamJSONArray function so we know that it is always closed.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/client.go#L526](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/cdd04af15ea2e55c0c343c4ab49651153541ebe4/lib/client.go#L526)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L129](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/cdd04af15ea2e55c0c343c4ab49651153541ebe4/lib/serveridentities.go#L129)<br><strong>Comment</strong>: <pre>Let's name this "FABRIC_CA_SERVER_MAX_IDS_PER_CHUNK".</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L129](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/cdd04af15ea2e55c0c343c4ab49651153541ebe4/lib/serveridentities.go#L129)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L138](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/cdd04af15ea2e55c0c343c4ab49651153541ebe4/lib/serveridentities.go#L138)<br><strong>Comment</strong>: <pre>Let's move this to the "newIdentities" constructor.
It is OK for the server to fail to start if the value of the env variable is bad.
The error message in that case should include the name of
the env variable whose value is bad to make it clear,
so is best to define a constant for the env variable name
and use that.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L138](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/cdd04af15ea2e55c0c343c4ab49651153541ebe4/lib/serveridentities.go#L138)<br><strong>Comment</strong>: <pre>Done. Opened up JIRA to handle returning errors from constructors. [FAB-7496]</pre></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/18/2017, 5:49:12 PM<br><strong>UnmergedRevision</strong>: [0f7d55e34e56e9722cf7cae5785f33dbd58d83e6](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/0f7d55e34e56e9722cf7cae5785f33dbd58d83e6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/18/2017, 5:56:28 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/18/2017, 7:28:47 PM<br><strong>UnmergedRevision</strong>: [dc9bb2236af4b0c27d5679bf722a3290d09ae4ad](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/dc9bb2236af4b0c27d5679bf722a3290d09ae4ad)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/18/2017, 8:15:56 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/19/2017, 9:01:12 AM<br><strong>UnmergedRevision</strong>: [68d32f75a800878b199a57cf7a06e463ebc422d4](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/68d32f75a800878b199a57cf7a06e463ebc422d4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/19/2017, 10:02:20 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/19/2017, 12:57:14 PM<br><strong>UnmergedRevision</strong>: [122fd4626b99864f6983fb7e5adc128c3cdd9185](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/122fd4626b99864f6983fb7e5adc128c3cdd9185)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/19/2017, 1:50:22 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 12/19/2017, 10:10:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/20/2017, 4:39:57 PM<br><strong>UnmergedRevision</strong>: [673a0ce79f034ea865e7fee39d941fd041b35ddf](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/673a0ce79f034ea865e7fee39d941fd041b35ddf)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/20/2017, 5:56:38 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 18</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 1/2/2018, 11:10:16 AM<br><strong>GitHubMergedRevision</strong>: [195992ba842380a9fbd2e745a9d8d70851af7a86](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/195992ba842380a9fbd2e745a9d8d70851af7a86)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/2/2018, 11:52:16 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/2/2018, 2:37:42 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 1/4/2018, 4:26:28 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 1/4/2018, 4:26:30 AM<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities.go#L49](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/195992ba842380a9fbd2e745a9d8d70851af7a86/lib/serveridentities.go#L49)<br><strong>Comment</strong>: <pre>I don't think you need separate functions now, do you?</pre></blockquote>