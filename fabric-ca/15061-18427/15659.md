<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 15659<br><strong>Subject</strong>: [FAB-5726] 8. Dynamic Cfg - Aff: Add/Remove<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 11/22/2017, 9:42:38 AM<br><strong>LastUpdated</strong>: 1/5/2018, 2:04:24 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-5726] 8. Dynamic Cfg - Aff: Add/Remove

This change set implements the functionality to add
a new affiliation and to remove an existing affiliation.

Next change set will implement modifying an affiliation
functionality.

Change-Id: I4d496e8eed7c4b1af36dc21269cd5b5dae51c7a5
Signed-off-by: Saad Karim <skarim@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/22/2017, 9:42:38 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/22/2017, 9:42:46 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2346/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/22/2017, 9:43:13 AM<br><strong>Message</strong>: <pre>Patch Set 2: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/22/2017, 9:43:26 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2347/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/22/2017, 9:43:58 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2318/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/22/2017, 10:45:15 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2347/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2347

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2318/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2318</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/27/2017, 5:37:17 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(12 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/29/2017, 3:36:32 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/29/2017, 3:36:49 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2363/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/29/2017, 3:36:56 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(12 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/29/2017, 3:37:31 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2334/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/29/2017, 4:45:17 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2363/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2363

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2334/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2334</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/29/2017, 5:25:19 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(4 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/30/2017, 9:43:55 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 9:44:04 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2366/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 9:47:06 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2337/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 10:28:05 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2337/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2337/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2337

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2366/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2366</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/30/2017, 11:13:46 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(4 comments)

re</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/30/2017, 11:13:55 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 11:14:04 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2367/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 11:19:19 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2338/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 1:21:39 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2338/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2338/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2338

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2367/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2367</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 11/30/2017, 1:43:50 PM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 1:44:00 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2370/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 1:44:51 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2341/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/30/2017, 2:40:27 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2341/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2341

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2370/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2370</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/30/2017, 4:06:36 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/1/2017, 11:52:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/1/2017, 11:52:16 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2378/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/1/2017, 11:52:27 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/1/2017, 11:57:25 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2349/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/1/2017, 12:39:08 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2349/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2349

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2378/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2378</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 12/1/2017, 4:34:50 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(6 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 12/3/2017, 7:52:46 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(7 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/6/2017, 1:13:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/6/2017, 1:13:24 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(13 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/6/2017, 1:13:25 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2387/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/6/2017, 1:13:58 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2358/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/6/2017, 1:59:34 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2358/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2358

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2387/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2387</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/19/2017, 12:48:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 12:48:29 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2434/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 12:48:29 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2463/ (2/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/19/2017, 12:57:14 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 12:57:42 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2470/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 12:58:04 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2434/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2434/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2434

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2463/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2463/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2463</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 1:00:36 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2441/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 2:03:27 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2441/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2441

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2470/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2470</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/20/2017, 4:39:57 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 4:40:26 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2481/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 4:42:15 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2452/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 4:49:15 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2452/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2452/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2452

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2481/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2481/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2481</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 12/21/2017, 12:54:53 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10: Patch Set 9 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/21/2017, 12:55:03 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2490/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/21/2017, 12:57:03 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2461/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/21/2017, 1:44:37 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2461/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2461

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2490/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2490</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/2/2018, 2:44:17 PM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review+2</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 1/4/2018, 10:40:39 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2018, 10:40:49 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2507/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2018, 10:45:08 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2478/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2018, 12:06:30 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/2507/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-s390x/2507

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/2478/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-x86_64/2478</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/4/2018, 12:43:50 PM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/5/2018, 1:01:36 PM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/5/2018, 1:04:10 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/5/2018, 2:04:24 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-merge-s390x/375/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-merge-s390x/375

https://jenkins.hyperledger.org/job/fabric-ca-merge-x86_64/375/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-merge-x86_64/375</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/22/2017, 9:42:38 AM<br><strong>UnmergedRevision</strong>: [699f5af398f9a634bc723bbe6ecd355d30a26a6d](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/699f5af398f9a634bc723bbe6ecd355d30a26a6d)<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/22/2017, 9:43:13 AM<br><strong>UnmergedRevision</strong>: [a0b0151a826fca405f6d35cf70a4028f359b4f5c](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/a0b0151a826fca405f6d35cf70a4028f359b4f5c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/22/2017, 10:45:15 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/27/2017, 5:37:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L325](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/dbaccessor.go#L325)<br><strong>Comment</strong>: <pre>You are mixing returning HTTP errors and non-HTTP errors in this function.  I think it is better to be consistent.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L325](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/dbaccessor.go#L325)<br><strong>Comment</strong>: <pre>Done. Using all HTTP errors.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L343](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/dbaccessor.go#L343)<br><strong>Comment</strong>: <pre>newAuthErr</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L343](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/dbaccessor.go#L343)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L374](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/dbaccessor.go#L374)<br><strong>Comment</strong>: <pre>newAuthErr
Also, pls include a list of identities.  You could move the 'idNames' loop before the "if force" loop and then use a join here.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L374](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/dbaccessor.go#L374)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/identity.go#L285](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/identity.go#L285)<br><strong>Comment</strong>: <pre>Are you adding the CA name as a query parm somewhere?  I don't see it.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/identity.go#L285](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/identity.go#L285)<br><strong>Comment</strong>: <pre>Look at the delete function further down in the code</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L174](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L174)<br><strong>Comment</strong>: <pre>newAuthErr</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L174](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L174)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L189](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L189)<br><strong>Comment</strong>: <pre>Looks like a good place for another function on ctx, like:
   force, err := ctx.GetBoolQueryParm("force")</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L189](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L189)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L197](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L197)<br><strong>Comment</strong>: <pre>The DeleteAffiliation call can't return this type?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L197](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L197)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L250](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L250)<br><strong>Comment</strong>: <pre>call ctx function</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L250](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L250)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L260](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L260)<br><strong>Comment</strong>: <pre>Shouldn't you check to see if the affiliation exists 1st, and if it doesn't exist, you need to check if the caller is authorized.  How about a recursive call?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L260](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L260)<br><strong>Comment</strong>: <pre>Check is made above that caller has correct authority to add affiliation.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L282](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L282)<br><strong>Comment</strong>: <pre>Should all failures be 500 errors?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L282](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/serveraffiliations.go#L282)<br><strong>Comment</strong>: <pre>I think so, if the entry already exists those errors are ignored.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/spi/userregistry.go#L65](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/spi/userregistry.go#L65)<br><strong>Comment</strong>: <pre>What is being returned?  Why an interface{}?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/spi/userregistry.go#L65](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/spi/userregistry.go#L65)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/spi/userregistry.go#L69](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/spi/userregistry.go#L69)<br><strong>Comment</strong>: <pre>Same here</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/spi/userregistry.go#L69](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a0b0151a826fca405f6d35cf70a4028f359b4f5c/lib/spi/userregistry.go#L69)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/29/2017, 3:36:32 PM<br><strong>UnmergedRevision</strong>: [37df292a5382698cff7e4d3f58fabdac531c1688](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/37df292a5382698cff7e4d3f58fabdac531c1688)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/29/2017, 4:45:17 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/29/2017, 5:25:19 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L310](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/dbaccessor.go#L310)<br><strong>Comment</strong>: <pre>Delete all of these?  Maybe that was on a different change set?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L310](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/dbaccessor.go#L310)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L315](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/dbaccessor.go#L315)<br><strong>Comment</strong>: <pre>*spi.DbTxResult

Please also review to make sure you return the address of structs in other places also ... well, unless you really do need to make a copy.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L315](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/dbaccessor.go#L315)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L423](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/dbaccessor.go#L423)<br><strong>Comment</strong>: <pre>&spi.DbTxResult

Return by reference rather than value to avoid extra copy</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L423](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/dbaccessor.go#L423)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L579](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/serverrequestcontext.go#L579)<br><strong>Comment</strong>: <pre>400
since this indicates a bad request</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L579](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/37df292a5382698cff7e4d3f58fabdac531c1688/lib/serverrequestcontext.go#L579)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 11/30/2017, 9:43:55 AM<br><strong>UnmergedRevision</strong>: [378894cc5384a8e39b27c4311142b7b694462b5d](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/378894cc5384a8e39b27c4311142b7b694462b5d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/30/2017, 2:40:27 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/30/2017, 4:06:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L377](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/378894cc5384a8e39b27c4311142b7b694462b5d/lib/dbaccessor.go#L377)<br><strong>Comment</strong>: <pre>Let's revoke the certificate rather than deleting them here since we want these to appear in a CRL.
This should also be done when deleting an identity.
Please also update the doc appropriately.
We will provide a way to delete all expired certificates (plus some buffer) at a later time.  See https://jira.hyperledger.org/browse/FAB-7238</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L377](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/378894cc5384a8e39b27c4311142b7b694462b5d/lib/dbaccessor.go#L377)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L173](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/378894cc5384a8e39b27c4311142b7b694462b5d/lib/serveraffiliations.go#L173)<br><strong>Comment</strong>: <pre>This error message is confusing...can you pls rephrase it...Basically, one cannot remove the affiliation that they are affiliated with?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L173](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/378894cc5384a8e39b27c4311142b7b694462b5d/lib/serveraffiliations.go#L173)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L228](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/378894cc5384a8e39b27c4311142b7b694462b5d/lib/serveraffiliations.go#L228)<br><strong>Comment</strong>: <pre>what is the need for this check? check below already checks if affiliation already exists</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L228](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/378894cc5384a8e39b27c4311142b7b694462b5d/lib/serveraffiliations.go#L228)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/1/2017, 11:52:08 AM<br><strong>UnmergedRevision</strong>: [3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/1/2017, 12:39:08 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 12/3/2017, 7:52:46 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/caconfig.go#L116](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/caconfig.go#L116)<br><strong>Comment</strong>: <pre>removal</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/caconfig.go#L116](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/caconfig.go#L116)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L170](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L170)<br><strong>Comment</strong>: <pre>Let's use constants rather than literal numbers.
This should be:
  golang.org/x/crypto/ocsp.CessationOfOperation
rather than 6 ... which is actually a 5 rather than 6.
Pls update all places this is done as there are others.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L170](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L170)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L194](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L194)<br><strong>Comment</strong>: <pre>Error encountered while revoking certificates for the identity '%s' that is being deleted</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L194](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L194)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L358](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L358)<br><strong>Comment</strong>: <pre>IDs '%s' to be removed based</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L358](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L358)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L376](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L376)<br><strong>Comment</strong>: <pre>Use golang.org/x/crypto/ocsp.AffiliationChanged rather than 4.  The constant is a 3 which agrees with the RFC.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L376](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L376)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L388](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L388)<br><strong>Comment</strong>: <pre>Need to use the 'force' query parameter to remove</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/dbaccessor.go#L388](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/dbaccessor.go#L388)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/identity.go#L432](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/identity.go#L432)<br><strong>Comment</strong>: <pre>It would be good if Delete and Post functions are consistent with respect to the order of parameters. For example, queryParam is the last parameter in Post function but it is not for Delete. Also, This changes public functions , so we should put it in the release note or something</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/identity.go#L432](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/identity.go#L432)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L229](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serveraffiliations.go#L229)<br><strong>Comment</strong>: <pre>This can be deleted I think because the following check to see if an affiliation already exists will also catch this.  Right?  If yes, I think it is clearer to delete this one.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L229](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serveraffiliations.go#L229)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L252](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serveraffiliations.go#L252)<br><strong>Comment</strong>: <pre>I don't see where we are checking to see if the parent affiliation already exists.  I think this also means we don't have a test case such adding "a.b.c" with the force option when "a" already exists.  I believe it would fail, assuming InsertAffiliation of "a" would fail in that case because it already exists.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveraffiliations.go#L252](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serveraffiliations.go#L252)<br><strong>Comment</strong>: <pre>The InsertAffilation function ignores the error if affiliation already exists. This prevents us from having to make two db calls, a Get and an Insert. So with the force option, we just try to insert all the affiliations and ignore the error if it already exists. There is a test case for this, see: TestDynamicAddAffiliation test case in serveraffiliations_test.go starting at line 213</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serveridentities_test.go#L398](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serveridentities_test.go#L398)<br><strong>Comment</strong>: <pre>It should be ocsp.CessationOfOperation rather than 6, which is 5.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serveridentities_test.go#L398](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serveridentities_test.go#L398)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L519](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serverrequestcontext.go#L519)<br><strong>Comment</strong>: <pre>Why don't we make it check for 'true'?  Any reason not to?
IIRC, there is an AssertAttributeValue call which we could use.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/serverrequestcontext.go#L519](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/3ea73dc3258e2f5429d97df0bee45c5db4ca0a7a/lib/serverrequestcontext.go#L519)<br><strong>Comment</strong>: <pre>I think this was just a bad comment, we do check to see if the boolean value is true or false in hasRole function.</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/6/2017, 1:13:15 PM<br><strong>UnmergedRevision</strong>: [fc6d5c3959428be9227c5c5e2790929f6a6633b9](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/fc6d5c3959428be9227c5c5e2790929f6a6633b9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/6/2017, 1:59:34 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/19/2017, 12:48:17 PM<br><strong>UnmergedRevision</strong>: [70bb54c994c6f671cf76165b0905cf472bbe53d5](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/70bb54c994c6f671cf76165b0905cf472bbe53d5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/19/2017, 12:58:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/19/2017, 12:57:14 PM<br><strong>UnmergedRevision</strong>: [1d62390e97f59fcb4d5e04ae20761c92642df845](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/1d62390e97f59fcb4d5e04ae20761c92642df845)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/19/2017, 2:03:27 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/20/2017, 4:39:57 PM<br><strong>UnmergedRevision</strong>: [28654f4ae389e022957f7e7823912a49a2935617](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/28654f4ae389e022957f7e7823912a49a2935617)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/20/2017, 4:49:15 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 12/21/2017, 12:54:53 PM<br><strong>UnmergedRevision</strong>: [ff9c8eaedda4850f16852827979651c23d290064](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/ff9c8eaedda4850f16852827979651c23d290064)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/21/2017, 1:44:37 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/2/2018, 2:44:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 1/4/2018, 10:40:39 AM<br><strong>GitHubMergedRevision</strong>: [66fafe25c0bd7d83db93abe776eec85b494760b6](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/66fafe25c0bd7d83db93abe776eec85b494760b6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/4/2018, 12:06:30 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/4/2018, 12:43:50 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 1/5/2018, 1:01:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 1/5/2018, 1:04:10 PM<br><br></blockquote>