<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 10151<br><strong>Subject</strong>: [FAB-4365] Update doc for configuring TLS<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 6/5/2017, 9:29:51 AM<br><strong>LastUpdated</strong>: 6/29/2017, 1:05:55 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-4365] Update doc for configuring TLS

Added instructions on how to get self-signed certificate/key using
openSSL to be used for TLS on both client and server side.

Change-Id: I0e145027ace90e946be30df7562cf3bc1e9f07f7
Signed-off-by: Saad Karim <skarim@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/5/2017, 9:29:51 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2017, 9:30:01 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1053/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/5/2017, 9:39:00 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2017, 9:39:06 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1054/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2017, 9:41:59 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1046/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2017, 9:42:58 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1047/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2017, 10:02:03 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1053/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1046/ : SUCCESS</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 6/5/2017, 10:08:14 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2017, 10:09:13 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1054/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1047/ : SUCCESS</pre><strong>Reviewer</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>Reviewed</strong>: 6/5/2017, 11:50:06 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(4 comments)

Please help see my comments in line, thanks!</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 6/6/2017, 11:43:38 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(5 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/7/2017, 10:03:07 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(13 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/7/2017, 10:04:03 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2017, 10:08:28 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1063/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2017, 10:16:59 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1070/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2017, 10:31:51 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1070/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1070

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1063/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1063</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 6/12/2017, 9:59:25 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/12/2017, 3:35:42 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 3:35:53 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1097/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 3:42:57 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1091/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 4:08:46 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1097/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1097

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1091/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1091</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/21/2017, 10:24:33 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/21/2017, 10:24:41 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1165/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/21/2017, 10:28:50 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1159/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/21/2017, 10:51:37 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1165/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1165

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1159/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1159</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 6/21/2017, 2:31:34 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(1 comment)</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 6/21/2017, 4:30:01 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

please see Allen's comment</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/22/2017, 9:38:51 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/22/2017, 9:38:59 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1178/ (1/2)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/22/2017, 9:39:36 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/22/2017, 9:42:17 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1172/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/22/2017, 10:00:05 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1172/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1172

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1178/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1178</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 6/22/2017, 11:22:40 AM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 6/28/2017, 12:46:12 PM<br><strong>Message</strong>: <pre>Abandoned</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 6/29/2017, 1:05:28 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(11 comments)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 6/29/2017, 1:05:55 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Awww.... I just noticed the 'abandoned' status.. :-(</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 6/5/2017, 9:29:51 AM<br><strong>UnmergedRevision</strong>: [569c5c338a14b5254bd75df864314090c3a2db6f](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/569c5c338a14b5254bd75df864314090c3a2db6f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/5/2017, 10:02:03 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 6/5/2017, 9:39:00 AM<br><strong>UnmergedRevision</strong>: [beb99aa9bbf85a13b1567445733b019ad56fbd00](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/beb99aa9bbf85a13b1567445733b019ad56fbd00)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/5/2017, 10:09:13 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 6/6/2017, 11:43:38 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1395](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1395)<br><strong>Comment</strong>: <pre>remove "in more detail"?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1395](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1395)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1140](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1140)<br><strong>Comment</strong>: <pre>may be</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1140](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1140)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1141](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1141)<br><strong>Comment</strong>: <pre>below will guide</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1141](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1141)<br><strong>Comment</strong>: <pre>I suggest just saying:

If you don't have a certificate and key to use for TLS, they may be generated using openSSL as shown below.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1141](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1141)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1143](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1143)<br><strong>Comment</strong>: <pre>delete "pair"</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1143](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1143)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1151](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1151)<br><strong>Comment</strong>: <pre>FQDN (fully qualified domain name)? better to expand</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1151](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1151)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1151](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1151)<br><strong>Comment</strong>: <pre>It is possible and more standard/preferable to specify hostnames in the cert as an x509 SAN (Subject Alternative Name) extension which allows multiple hostnames and/or IP addresses to be used.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1153](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1153)<br><strong>Comment</strong>: <pre>in the server TLS configuration</pre><strong>Commenter</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1153](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1153)<br><strong>Comment</strong>: <pre>be used</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1153](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1153)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1153](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1153)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1154](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1154)<br><strong>Comment</strong>: <pre>I suggest changing this sentence to "The `tls` section must be configured ..."

tls:
      # Enable TLS (default: false)
      enabled: true
      # TLS for the server's listening port
      certfile: <path to the certificate file generated in step 3>
      keyfile: <path to the key file generated in step 3>
      clientauth:
        type: noclientcert
        certfiles:</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1154](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1154)<br><strong>Comment</strong>: <pre>I am not sure if we should use "must", cause you can configure this options via CLI as well.</pre><strong>Commenter</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1441](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1441)<br><strong>Comment</strong>: <pre>maybe --> may be</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1441](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1441)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1443](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1443)<br><strong>Comment</strong>: <pre>as shown below.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1443](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1443)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1455](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1455)<br><strong>Comment</strong>: <pre>similar changes as suggested in server tls configuration section</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1455](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1455)<br><strong>Comment</strong>: <pre>Is better to say "certificate and key" rather than "certificate and key pair" since the public key is part of the certificate.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1455](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1455)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1455](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1455)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1469](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1469)<br><strong>Comment</strong>: <pre>Exactly how?  Which of these?

- RequireAnyClientCert
- VerifyClientCertIfGiven
- RequireAndVerifyClientCert</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1469](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/beb99aa9bbf85a13b1567445733b019ad56fbd00/docs/source/users-guide.rst#L1469)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 6/7/2017, 10:04:03 AM<br><strong>UnmergedRevision</strong>: [97b277e56f507e203fab5d14002fb3f60bc78d62](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/97b277e56f507e203fab5d14002fb3f60bc78d62)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2017, 10:31:51 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 6/12/2017, 9:59:25 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 6/12/2017, 3:35:42 PM<br><strong>UnmergedRevision</strong>: [9e5038ea381486b29207ec0961be47048b7e8363](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/9e5038ea381486b29207ec0961be47048b7e8363)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/12/2017, 4:08:46 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 6/21/2017, 10:24:33 AM<br><strong>UnmergedRevision</strong>: [aecca42ca5c6a838465c24be43db49b78a5094a2](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/aecca42ca5c6a838465c24be43db49b78a5094a2)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 6/21/2017, 4:30:01 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/21/2017, 10:51:37 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L420](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/aecca42ca5c6a838465c24be43db49b78a5094a2/docs/source/users-guide.rst#L420)<br><strong>Comment</strong>: <pre>This does not match what is in the code in cmd/fabric-ca-server/config.go:

   ca:
      expiry: 131400h
      pathlength: <<<PATHLENGTH>>></pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L420](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/aecca42ca5c6a838465c24be43db49b78a5094a2/docs/source/users-guide.rst#L420)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 6/22/2017, 9:38:51 AM<br><strong>UnmergedRevision</strong>: [a6ce8f30d6900febe24e15d89be3d89b8af8e534](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/a6ce8f30d6900febe24e15d89be3d89b8af8e534)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/22/2017, 10:00:05 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 6/22/2017, 11:22:40 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1240](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1240)<br><strong>Comment</strong>: <pre>Just an thought, but we could eliminate the interactive portion, and simplify the config considerably by using -subj. Also the same config file can be used for both client and server by using a unique section for each.

Client:
 openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout server-tls-key.pem -out server-tls-cert.pem -config server.cnf -extensions 'client_req' -subj '/C=US/ST=NC/L=RTP/O=Hyperledger/O=IBM/OU=fabric-ca/OU=dev/CN=fabric-ca-client/'

Server:
openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout server-tls-key.pem -out server-tls-cert.pem -config server.cnf -extensions 'server_req' -subj '/C=US/ST=NC/L=RTP/O=Hyperledger/O=IBM/OU=fabric-ca/OU=dev/CN=fabric-ca-server/'

simplified ssl.cnf:
# even though they're empty, some
# sections are mandatory
  [ req ]
  distinguished_name = req_distinguished_name
  [ req_distinguished_name ]
  [ server_req ]
  keyUsage = digitalSignature
  extendedKeyUsage = serverAuth
  [ client_req ]
  keyUsage = digitalSignature
  extendedKeyUsage = clientAuth
  [ subjectAltName ]
  DNS.1 = localhost
  DNS.2 = 127.0.0.1</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1260](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1260)<br><strong>Comment</strong>: <pre>Tabs, mis-aligned</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1266](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1266)<br><strong>Comment</strong>: <pre>According to the PKIX specs, Key usage bits that may be consistent with serverAuth are:
digitalSignature, keyEncipherment or keyAgreement

so strike dataEncipherment, and possibly indicate:

[ digitalSignature | keyEncipherment | keyAgreement ]</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1270](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1270)<br><strong>Comment</strong>: <pre>than -> then</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1278](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1278)<br><strong>Comment</strong>: <pre>Any reason to use RSA as the example rather than ECDSA?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1278](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1278)<br><strong>Comment</strong>: <pre>Actually, the renewal process is going to be messy
if using self-signed certs.  It means all clients will
need to be updated when it expires.  If we use enroll
to issue a TLS cert, this would no longer be necessary,
so I think we should recommend that option.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1278](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1278)<br><strong>Comment</strong>: <pre>This is not needed since it is in the config file</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1307](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1307)<br><strong>Comment</strong>: <pre>Note that for self-signed, this means the client-tls-cert.pem file itself. The server will need an exact copy of the client certificate.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1587](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1587)<br><strong>Comment</strong>: <pre>See above for alternative (and mutual config file)</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1609](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1609)<br><strong>Comment</strong>: <pre>Are we supporting multiple organizationName and organizationalUnitName?

It's fairly common, and openssl supports it. Perhaps provide example
   0.organizationName = hyperledger
   1.organizationName  = IBM
   0.organizationalUnitName = fabric-ca
   1.organizationalUnitName = dev</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1610](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1610)<br><strong>Comment</strong>: <pre>Tabs, misaligned.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1616](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1616)<br><strong>Comment</strong>: <pre>Key usage bits that may be consistent with clientAuth include only:
[ digitalSignature and/or keyAgreement ]

so strike both keyEncipherment and dataEncipherment</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1618](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1618)<br><strong>Comment</strong>: <pre>I'm curious here and above why two sections for subjectAltName? It's the same extension and the one above for DNS.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1646](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a6ce8f30d6900febe24e15d89be3d89b8af8e534/docs/source/users-guide.rst#L1646)<br><strong>Comment</strong>: <pre>Note that for self-signed, this means the server-tls-cert.pem file itself. The client will need an exact copy of the server certificate.</pre></blockquote>