<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 11687<br><strong>Subject</strong>: [FAB-1446] Adding the safesql script for FVT scanning.<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 7/17/2017, 11:12:51 AM<br><strong>LastUpdated</strong>: 2/7/2018, 5:05:20 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-1446] Adding the safesql script for FVT scanning.

Change-Id: Ia535a6fc75c47afebb1bab50d0805779d3a7f4a6
Signed-off-by: Jason Clark <jtclark@linux.vnet.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/17/2017, 11:12:51 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2017, 11:13:03 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1295/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2017, 11:18:07 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1290/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2017, 11:56:28 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1295/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1295

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1290/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1290</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/18/2017, 12:26:44 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/18/2017, 12:27:08 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1298/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/18/2017, 12:29:57 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1293/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/18/2017, 1:04:03 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1298/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1298

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1293/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1293</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/19/2017, 2:15:03 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/19/2017, 2:15:11 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1309/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/19/2017, 2:19:54 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1304/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/19/2017, 2:34:30 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1309/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1309

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1304/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1304</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/24/2017, 10:55:00 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2017, 10:55:09 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1366/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2017, 10:59:12 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1361/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2017, 11:25:29 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1366/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1366

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1361/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1361</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2017, 12:14:18 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1370/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2017, 12:37:30 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1366/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1366

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1370/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1370</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/25/2017, 8:18:14 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 8:18:25 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1400/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 8:22:48 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1397/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 8:46:24 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1400/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1400

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1397/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1397</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/25/2017, 8:57:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 8:58:05 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1401/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 9:02:27 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1398/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 9:30:52 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1398/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1398

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1401/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1401</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/25/2017, 3:27:09 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7: Patch Set 6 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 3:27:16 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1415/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 3:30:26 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1412/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/25/2017, 3:55:04 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1415/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1415

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1412/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1412</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 7/26/2017, 12:19:09 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/26/2017, 1:01:38 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)

Comments have been provided.</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/31/2017, 10:12:48 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)

Additional comments added.</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 7/31/2017, 10:45:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2017, 10:45:39 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1476/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2017, 10:45:40 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1489/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2017, 10:45:58 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1476/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1476

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1489/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1489</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2017, 12:19:48 PM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1481/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2017, 12:25:30 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1494/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2017, 12:46:03 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1494/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1494

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1481/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1481</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 8/7/2017, 7:57:24 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review-1

(2 comments)</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 9/13/2017, 10:20:47 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Jason, are you still working this?</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 9/13/2017, 10:23:05 AM<br><strong>Message</strong>: <pre>Patch Set 8:

@Chris: Yes. I'm still working on this, but I think we need to revisit the script. The return code issue still needs to be resolved.</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 11/28/2017, 5:31:21 PM<br><strong>Message</strong>: <pre>Patch Set 8:

> Patch Set 8:
> 
> @Chris: Yes. I'm still working on this, but I think we need to revisit the script. The return code issue still needs to be resolved.

@Jason... update? If not let's abandon this.</pre><strong>Reviewer</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Reviewed</strong>: 2/7/2018, 5:05:20 PM<br><strong>Message</strong>: <pre>Abandoned

Replaced by Patch #17649.</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/17/2017, 11:12:51 AM<br><strong>UnmergedRevision</strong>: [03f9a028b637e3ba27401cd15016a8887def64a6](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/03f9a028b637e3ba27401cd15016a8887def64a6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/17/2017, 11:56:28 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/18/2017, 12:26:44 PM<br><strong>UnmergedRevision</strong>: [6dcdfc3a150bf66e91269352386bfd58e15a29e1](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/6dcdfc3a150bf66e91269352386bfd58e15a29e1)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/18/2017, 1:04:03 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/19/2017, 2:15:03 PM<br><strong>UnmergedRevision</strong>: [1c9f158d7aae007cf2a45326eed6735908c67817](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/1c9f158d7aae007cf2a45326eed6735908c67817)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/19/2017, 2:34:30 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/24/2017, 10:55:00 AM<br><strong>UnmergedRevision</strong>: [f46582f3e1e904857ca7b7e19bf09c3502828c00](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/f46582f3e1e904857ca7b7e19bf09c3502828c00)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/24/2017, 12:37:30 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/25/2017, 8:18:14 AM<br><strong>UnmergedRevision</strong>: [9e7df9e43a05655530f90024ebf651f8f9f6ecd0](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/9e7df9e43a05655530f90024ebf651f8f9f6ecd0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/25/2017, 8:46:24 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/25/2017, 8:57:56 AM<br><strong>UnmergedRevision</strong>: [32b188cc06bc6924312bfc3ad7821aac488fd55c](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/32b188cc06bc6924312bfc3ad7821aac488fd55c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/25/2017, 9:30:52 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/25/2017, 3:27:09 PM<br><strong>UnmergedRevision</strong>: [e9e3740eb2c2024ff6f8f7bcd1282118d4b08ec3](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/e9e3740eb2c2024ff6f8f7bcd1282118d4b08ec3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/25/2017, 3:55:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Approved</strong>: 7/26/2017, 12:19:09 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [scripts/fvt/safesql_test.sh#L12](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/e9e3740eb2c2024ff6f8f7bcd1282118d4b08ec3/scripts/fvt/safesql_test.sh#L12)<br><strong>Comment</strong>: <pre>From what I can tell, we're not really doing anything. When I ran it manually, the exit code is '2', which infers a non-successful run -- which we really should be capturing in RC by inserting:
RC=$((RC+$?))

Anyway, I'm not sure how the tool actually works, but after the initial loading, it attempts to find any main() functions in the loaded packages:
   if ssaPkg.Func("main") != nil {
      mains = append(mains, ssaPkg)
   }
Since there aren't any, we just exit with a return code 2 without doing any analysis.

I certainly have no objections about installing an sql injection analysis tool, but I'm confused about what we're testing in this specific instance. Or is this supposed to be a prelude to something more detailed at a later time?</pre><strong>Commenter</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>CommentLine</strong>: [scripts/fvt/safesql_test.sh#L12](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/e9e3740eb2c2024ff6f8f7bcd1282118d4b08ec3/scripts/fvt/safesql_test.sh#L12)<br><strong>Comment</strong>: <pre>Thanks for your commentary.  To respond:

1) I can update the return code variable to capture the exit status as described.

2) The script is supposed to test both the lib/ and lib/dbutil packages in fabric-ca to determine if there are any queries inside those packages that are susceptible to SQL injections.  Based on the documentation provided with the tool, you simply run safesql against each of the packages, and should simply return with a short report of its findings. Perhaps the script needs to be tweaked to run the test properly. I will investigate.</pre><strong>Commenter</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>CommentLine</strong>: [scripts/fvt/safesql_test.sh#L12](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/e9e3740eb2c2024ff6f8f7bcd1282118d4b08ec3/scripts/fvt/safesql_test.sh#L12)<br><strong>Comment</strong>: <pre>Did some investigation, and yes, the safesql.go tool searches for main() functions in the packages being tested for SQL injections, but there are no main() functions in either of the lib/ or lib/dbutil packages.  I'll talk with @rennman and @smithbk for additional guidance.</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Uploader</strong>: Jason Clark - jtclark@linux.vnet.ibm.com<br><strong>Created</strong>: 7/31/2017, 10:45:32 AM<br><strong>UnmergedRevision</strong>: [8dd9b99a7611cd408036b860cdb92021ab604d05](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/8dd9b99a7611cd408036b860cdb92021ab604d05)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/31/2017, 12:46:03 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 8/7/2017, 7:57:24 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [scripts/fvt/safesql_test.sh#L6](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8dd9b99a7611cd408036b860cdb92021ab604d05/scripts/fvt/safesql_test.sh#L6)<br><strong>Comment</strong>: <pre>Please add a comment describing the purpose of the script to make it easier for someone looking later.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [scripts/fvt/safesql_test.sh#L15](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8dd9b99a7611cd408036b860cdb92021ab604d05/scripts/fvt/safesql_test.sh#L15)<br><strong>Comment</strong>: <pre>Are you sure this will return non-zero exit status when the safesql command exits with non-zero?  It looks like it will
always return 0.  You could just add the following after the safesql command:
   RC=$?
and then delete line 10.</pre></blockquote>