<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 13583<br><strong>Subject</strong>: [FAB-5300] Add support to generate CRL<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 9/18/2017, 11:10:38 AM<br><strong>LastUpdated</strong>: 10/6/2017, 11:32:39 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-5300] Add support to generate CRL

Added 'fabric-ca-client gencrl' command that provides
the ability to generate Certificate revocation list.

The command accepts optional parameters 'revokedafter',
'revokedbefore', 'expireafter' and 'expirebefore'.
By default, it will generate a CRL that contains all
revoked certificates. The 'revokedafter' and 'revokedbefore'
parameters can be used to generate a CRL that contains
only those certs that were revoked in a period.
The 'expireafter' and 'expirebefore'  parameters can
be used to generate a CRL that contains revoked certs
that expire in a period.

This change set also fixes the problem identified in the
JIRA FAB-6165. When adding test cases and benchmark for
gencrl feature, I encountered this problem. I resolved it
to make progress with this change set by redirecting stderr
to /dev/null in run_benchmarks script, which removed the
need for 'log.SetOutput(ioutil.Discard)' in the TestMain
function.

Change-Id: I033c1ca59b5214a5518e48163191d07307300430
Signed-off-by: Anil Ambati <aambati@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/18/2017, 11:10:38 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/18/2017, 11:13:29 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1816/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/18/2017, 11:53:55 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1822/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/18/2017, 12:13:09 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1816/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1816

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1822/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1822</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 9/19/2017, 10:13:33 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(15 comments)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/22/2017, 11:59:35 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/22/2017, 11:59:46 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1873/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2017, 12:00:41 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1864/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/23/2017, 12:02:00 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(8 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2017, 12:35:48 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1864/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1864

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1873/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1873</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/23/2017, 1:10:55 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2017, 1:11:07 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1875/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2017, 1:14:10 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1866/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2017, 1:46:50 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1866/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1866

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1875/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1875</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/24/2017, 12:12:06 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 12:12:14 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1876/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 12:13:19 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1867/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/24/2017, 12:38:15 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 12:38:25 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1877/ (1/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/24/2017, 12:38:44 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 12:39:29 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1867/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1867/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1867

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1876/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1876</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 12:39:32 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1868/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 1:16:14 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1868/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1868

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1877/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1877</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 9/24/2017, 12:48:04 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(5 comments)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/24/2017, 6:44:18 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 6:44:31 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1882/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 6:47:24 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1873/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/24/2017, 6:51:07 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 6:51:16 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1883/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 6:52:13 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1873/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1873/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1873

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1882/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1882/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1882</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 6:54:01 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1874/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/24/2017, 7:04:17 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(4 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 7:32:45 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1874/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1874

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1883/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1883</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/24/2017, 10:37:28 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 10:37:35 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1884/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 10:38:33 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1875/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2017, 11:16:35 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1875/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1875

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1884/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1884</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 9/25/2017, 11:07:59 AM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review-1

(11 comments)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/26/2017, 11:29:16 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(9 comments)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/26/2017, 11:30:00 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(2 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 9/27/2017, 10:20:13 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/27/2017, 11:22:02 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2017, 11:22:12 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1905/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2017, 11:25:36 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1896/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/27/2017, 11:28:36 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2017, 11:28:47 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1906/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2017, 11:29:41 AM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1896/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1896/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1896

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1905/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1905/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1905</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2017, 11:33:20 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1897/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2017, 12:07:10 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1897/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1897

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1906/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1906</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/28/2017, 10:38:14 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 9/28/2017, 12:08:09 PM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review-1

(18 comments)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/28/2017, 6:48:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2017, 6:48:25 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1919/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2017, 6:53:07 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1911/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/28/2017, 6:53:11 PM<br><strong>Message</strong>: <pre>Patch Set 11:

(18 comments)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/28/2017, 7:12:06 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2017, 7:12:15 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1920/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2017, 7:13:20 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1911/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1911/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1911

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1919/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1919</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2017, 7:16:59 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1912/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2017, 7:57:50 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1912/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1912

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1920/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1920</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/28/2017, 10:25:50 PM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/29/2017, 1:40:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/29/2017, 1:40:14 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1922/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/29/2017, 1:44:24 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1914/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/29/2017, 2:17:23 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1914/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1914

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1922/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1922</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 9/30/2017, 7:12:47 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(1 comment)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 9/30/2017, 10:38:23 PM<br><strong>Message</strong>: <pre>Patch Set 13:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/1/2017, 4:57:04 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/1/2017, 4:57:21 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(1 comment)</pre><strong>Reviewer</strong>: Arnaud J Le Hors - lehors@us.ibm.com<br><strong>Reviewed</strong>: 10/2/2017, 11:43:25 AM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review-1

As mentioned in my reply on https://gerrit.hyperledger.org/r/c/13487/ I don't think this CR should silently remove MainTest. Note I'm not against the removal, I'm just asking for a rationale that can be linked to as the resolution to FAB-6165.
Thanks.</pre><strong>Reviewer</strong>: Arnaud J Le Hors - lehors@us.ibm.com<br><strong>Reviewed</strong>: 10/2/2017, 11:45:38 AM<br><strong>Message</strong>: <pre>Patch Set 13:

> Patch Set 13: Code-Review-1
> 
> As mentioned in my reply on https://gerrit.hyperledger.org/r/c/13487/ I don't think this CR should silently remove MainTest. Note I'm not against the removal, I'm just asking for a rationale that can be linked to as the resolution to FAB-6165.
> Thanks.

Sorry, I meant TestMain in lib/server_benchmarks_test.go</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/2/2017, 2:39:03 PM<br><strong>Message</strong>: <pre>Patch Set 13:

> Patch Set 13:
> 
> > Patch Set 13: Code-Review-1
> > 
> > As mentioned in my reply on https://gerrit.hyperledger.org/r/c/13487/ I don't think this CR should silently remove MainTest. Note I'm not against the removal, I'm just asking for a rationale that can be linked to as the resolution to FAB-6165.
> > Thanks.
> 
> Sorry, I meant TestMain in lib/server_benchmarks_test.go

I can either update the change set comment to explicitly say about the benchmark changes and the fact that it fixes the problem described in fab-6165 or split changes to run_benchmarks and server_benchmarks_test.go to another change set</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/3/2017, 10:16:00 AM<br><strong>Message</strong>: <pre>Uploaded patch set 14: Commit message was updated.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/3/2017, 10:17:48 AM<br><strong>Message</strong>: <pre>Patch Set 14:

one thing to note:  fabric itself will not be able to leverage "delta CRLs" so while it is potentially useful to allow a begin date, people who use CRLs with fabric must always generate the CRL from the beginning of time</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2017, 10:27:15 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1939/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2017, 10:50:49 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1947/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/3/2017, 11:06:11 AM<br><strong>Message</strong>: <pre>Patch Set 15: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2017, 11:06:31 AM<br><strong>Message</strong>: <pre>Patch Set 14: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1947/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1947/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1947

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1939/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1939</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2017, 11:11:37 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1942/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2017, 11:14:36 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1950/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2017, 11:42:13 AM<br><strong>Message</strong>: <pre>Patch Set 15: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1942/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1942

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1950/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1950</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 10/3/2017, 12:04:36 PM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/3/2017, 2:46:55 PM<br><strong>Message</strong>: <pre>Patch Set 15:

> Patch Set 14:
> 
> one thing to note:  fabric itself will not be able to leverage "delta CRLs" so while it is potentially useful to allow a begin date, people who use CRLs with fabric must always generate the CRL from the beginning of time

ok, noted Gari</pre><strong>Reviewer</strong>: Arnaud J Le Hors - lehors@us.ibm.com<br><strong>Reviewed</strong>: 10/3/2017, 2:54:58 PM<br><strong>Message</strong>: <pre>Patch Set 15:

HHi Anil,
Do you know whether redirecting the output to /dev/null in run_benchmarks is equivalent to log.SetOutput(ioutil.Discard)? I'm not talking about functionally - I understand it is the same from that point of view - I'm talking from a performance point of view. I assume the reason you turned the output off in the first place was to avoid the performance impact, wasn't it?
I don't know what the answer is but it might be worth investigating.
If there is no performance impact than I certainly agree that this is the best way to address FAB-6165.
Thanks.</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/5/2017, 12:25:33 AM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 12:25:46 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1973/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 12:28:48 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1965/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 12:59:00 AM<br><strong>Message</strong>: <pre>Patch Set 16: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1965/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1965/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1965

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1973/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1973</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/5/2017, 8:11:11 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(1 comment)

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 8:11:22 AM<br><strong>Message</strong>: <pre>Patch Set 16: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1975/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 8:16:03 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1967/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 8:46:39 AM<br><strong>Message</strong>: <pre>Patch Set 16: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1975/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1975

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1967/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1967</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 10/5/2017, 4:10:46 PM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review-1

(5 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 10/5/2017, 4:25:00 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/5/2017, 10:54:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 17.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 10:54:28 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1985/ (1/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/5/2017, 10:55:55 PM<br><strong>Message</strong>: <pre>Patch Set 17:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 10:58:37 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1977/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 11:36:43 PM<br><strong>Message</strong>: <pre>Patch Set 17: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/1985/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-s390x/1985

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/1977/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-ca-verify-x86_64/1977</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 10/6/2017, 7:31:01 AM<br><strong>Message</strong>: <pre>Patch Set 17:

(1 comment)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 7:34:16 AM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 11:32:36 AM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 11:32:39 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/18/2017, 11:10:38 AM<br><strong>UnmergedRevision</strong>: [127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/18/2017, 12:13:09 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 9/19/2017, 10:13:33 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [api/client.go#L150](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/api/client.go#L150)<br><strong>Comment</strong>: <pre>I think we want ExpiryBefore and ExpiryAfter.
ExpiryBefore is useful for getting a list of certs which are about to expire.
ExpiryAfter is useful for getting a pruned list of certs to push to fabric.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/clientcmd.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/clientcmd.go#L56)<br><strong>Comment</strong>: <pre>expiryBefore and expiryAfter</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/clientcmd.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/clientcmd.go#L56)<br><strong>Comment</strong>: <pre>The expiry attribute is for specifying 'Next Update' for the generate CRL. Since Fabric does not seem to be using "Next Update" and the model  is push (CRL needs to be pushed by an admin into crls folder of the MSP), I will remove expiry attribute.  The "Next Update" will be set to 3 months for the CRLs generated by the Fabric CA server</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L68](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/gencrl.go#L68)<br><strong>Comment</strong>: <pre>Any reason not to use util.RegisterFlags?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L68](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/gencrl.go#L68)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L436](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/main_test.go#L436)<br><strong>Comment</strong>: <pre>How does this relate to CRL?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L436](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/main_test.go#L436)<br><strong>Comment</strong>: <pre>this is an unrelated change, i will remove it</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L727](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/main_test.go#L727)<br><strong>Comment</strong>: <pre>use t.Logf</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L727](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/main_test.go#L727)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L737](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/main_test.go#L737)<br><strong>Comment</strong>: <pre>In success cases, should also verify that the resulting CRL contains exactly the certs that you expect.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L737](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/main_test.go#L737)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L815](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/cmd/fabric-ca-client/main_test.go#L815)<br><strong>Comment</strong>: <pre>User can have multiple certificates by enrolling multiple times.  Pls verify that revoking a specific certificate for a user works from a CRL perspective.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1205](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/docs/source/users-guide.rst#L1205)<br><strong>Comment</strong>: <pre>Add "(Certificate Revocation List)" to end this line</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1205](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/docs/source/users-guide.rst#L1205)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1212](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/docs/source/users-guide.rst#L1212)<br><strong>Comment</strong>: <pre>undefined</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1212](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/docs/source/users-guide.rst#L1212)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1227](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/docs/source/users-guide.rst#L1227)<br><strong>Comment</strong>: <pre>without</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1227](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/docs/source/users-guide.rst#L1227)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1228](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/docs/source/users-guide.rst#L1228)<br><strong>Comment</strong>: <pre>The default values should be wildcard for revokedbefore and revokedafter and 1 day before the current time for expiry (which I think should be called expiryafter)</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/certdbaccessor.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/lib/certdbaccessor.go#L56)<br><strong>Comment</strong>: <pre>needs to be a variable, ... or two variables for > and < like revoked_at, right?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/certdbaccessor.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/lib/certdbaccessor.go#L56)<br><strong>Comment</strong>: <pre>querying is trying to get unexpired and revoked certificate...first condition is to get unexpired certs</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L641](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/lib/client_test.go#L641)<br><strong>Comment</strong>: <pre>This isn't an error case</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L641](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/lib/client_test.go#L641)<br><strong>Comment</strong>: <pre>this test case is trying to generate CRL using identity that does not have hf.GenCRL attribute</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/clientconfig.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/lib/clientconfig.go#L42)<br><strong>Comment</strong>: <pre>We need to rethink this.  For new commands, we need to make sure we aren't adding more global flags, unless they really do apply to all commands.  I'm not sure we want to add this to the client config file.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/clientconfig.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/lib/clientconfig.go#L42)<br><strong>Comment</strong>: <pre>agree, it does not need to be added to ClientConfig...Removed it</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [swagger/swagger-fabric-ca.json#L698](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/127419e1fd77e2cb8b2663ee1de72e0fea7c4a6e/swagger/swagger-fabric-ca.json#L698)<br><strong>Comment</strong>: <pre>expiryafter/expirybefore?</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/22/2017, 11:59:35 PM<br><strong>UnmergedRevision</strong>: [977cb12f16c68b7eda96092e60fcf8453be933fe](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/977cb12f16c68b7eda96092e60fcf8453be933fe)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/23/2017, 12:35:48 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/23/2017, 1:10:55 PM<br><strong>UnmergedRevision</strong>: [fbf58fdb1a701fa3eb9e132ab9293ab595b03049](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/fbf58fdb1a701fa3eb9e132ab9293ab595b03049)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/23/2017, 1:46:50 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/24/2017, 12:12:06 AM<br><strong>UnmergedRevision</strong>: [0ee1552edca2730b365f5d1b311cee40859ba3d9](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/0ee1552edca2730b365f5d1b311cee40859ba3d9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2017, 12:39:29 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/24/2017, 12:38:15 AM<br><strong>UnmergedRevision</strong>: [92526ed185116783337424b15e0b3b8499be9494](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/92526ed185116783337424b15e0b3b8499be9494)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2017, 1:16:14 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 9/24/2017, 12:48:04 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/cmd/fabric-ca-client/gencrl.go#L42)<br><strong>Comment</strong>: <pre>Any reason to make these public?  Are they needed outside this package?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/cmd/fabric-ca-client/gencrl.go#L42)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L372](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/cmd/fabric-ca-client/main_test.go#L372)<br><strong>Comment</strong>: <pre>Not sure why this is showing up for review here?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L372](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/cmd/fabric-ca-client/main_test.go#L372)<br><strong>Comment</strong>: <pre>my merge was bad , i fixed the problem.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1259](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/docs/source/users-guide.rst#L1259)<br><strong>Comment</strong>: <pre>again not sure why it is showing up in this change set</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1259](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/docs/source/users-guide.rst#L1259)<br><strong>Comment</strong>: <pre>i rebased my change set and that pulled in RBAC changes</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/lib/client_test.go#L0)<br><strong>Comment</strong>: <pre>This is showing up as totally different.  Do you know wny?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/lib/client_test.go#L0)<br><strong>Comment</strong>: <pre>i moved functions around...but will revert the changes to avoid confusion</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [vendor/vendor.json#L30](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/92526ed185116783337424b15e0b3b8499be9494/vendor/vendor.json#L30)<br><strong>Comment</strong>: <pre>vendoring should be done in its own change set.
Also, it is good to explain why you need to revendor.</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/24/2017, 6:44:18 PM<br><strong>UnmergedRevision</strong>: [92984bffe9f9d35a263ba9f213c9c413abd13e14](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/92984bffe9f9d35a263ba9f213c9c413abd13e14)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2017, 6:52:13 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/24/2017, 6:51:07 PM<br><strong>UnmergedRevision</strong>: [7dd9e826fd5317a90e7413a443a8b4581ae290d4](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/7dd9e826fd5317a90e7413a443a8b4581ae290d4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2017, 7:32:45 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/24/2017, 10:37:28 PM<br><strong>UnmergedRevision</strong>: [03e859b99755f93ed5e342d84be5c0663696cd83](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/03e859b99755f93ed5e342d84be5c0663696cd83)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2017, 11:16:35 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 9/25/2017, 11:07:59 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L38](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L38)<br><strong>Comment</strong>: <pre>make private "crlPemFooter"</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L38](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L38)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L86](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L86)<br><strong>Comment</strong>: <pre>Something like:
   errors.Wrap(err, "Invalid 'revokedafter' value")</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L86](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L86)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L92](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L92)<br><strong>Comment</strong>: <pre>Something like:
   Something like:
   errors.Wrap(err, "Invalid 'revokedbefore' value")</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L92](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L92)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L119](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L119)<br><strong>Comment</strong>: <pre>Change to MkdirAll</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L119](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L119)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L134](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L134)<br><strong>Comment</strong>: <pre>I think the default permission is going to be 0666 on this file.  I recommend just changing this to:
   err = util.WriteFile(fileName, fmt.Sprintf("%s%s%s", crlPemHeader, resp.CRL, crlPemFooter), 0644)</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/gencrl.go#L134](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/cmd/fabric-ca-client/gencrl.go#L134)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1211](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/docs/source/users-guide.rst#L1211)<br><strong>Comment</strong>: <pre>After a certificate is revoked in the fabric-ca-server, the appropriate MSPs in Hyperledger Fabric must also be updated.  This includes both local MSPs of peers as well as MSPs in the appropriate channel configuration blocks.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1211](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/docs/source/users-guide.rst#L1211)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1232](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/docs/source/users-guide.rst#L1232)<br><strong>Comment</strong>: <pre>Add a URL link to the fabric-samples/fabric-ca sample showing exactly where to find the part of the sample that demonstrates how to do this.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1232](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/docs/source/users-guide.rst#L1232)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/certdbaccessor.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/certdbaccessor.go#L56)<br><strong>Comment</strong>: <pre>Let's add a 'crlExpirationWindow' CA configuration variable whose default value is 1 day.  The CURRENT_TIMESTAMP would be replaced with a variable which equals the current time + the crlExpirationWindow.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/certdbaccessor.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/certdbaccessor.go#L56)<br><strong>Comment</strong>: <pre>lets say, today is 09/26/2017 and there are two unexpired revoked certs in the DB...both these certs expire next day (09/27/2017)
the query in the current form will return both these certs because 09/26/2017 (current time) < 09/27/2017 (expiry)
if we make this change, these certs will not be returned because 09/27/2017 (current time + window) < 09/27/2017 (expiry)</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/certdbaccessor.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/certdbaccessor.go#L56)<br><strong>Comment</strong>: <pre>right, should be "current time - the crlExpirationWindow"</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/certdbaccessor.go#L56](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/certdbaccessor.go#L56)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servererror.go#L105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/servererror.go#L105)<br><strong>Comment</strong>: <pre>Is there not also an ErrInvalidRevokedBefore error code?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servererror.go#L105](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/servererror.go#L105)<br><strong>Comment</strong>: <pre>undefined</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L72](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/servergencrl.go#L72)<br><strong>Comment</strong>: <pre>Use "newAuthErr" ... btw, 401 rather than 403 is correct, right?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L72](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/servergencrl.go#L72)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L125](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/servergencrl.go#L125)<br><strong>Comment</strong>: <pre>Let's just make this configurable with a default value of 1 day.  Call the configuration 'crlExpiry'.  This is safer in case someone wants to use this outside of fabric.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L125](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/03e859b99755f93ed5e342d84be5c0663696cd83/lib/servergencrl.go#L125)<br><strong>Comment</strong>: <pre>Done...made this CA config property, so it can be set for each CA separately</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/27/2017, 11:22:02 AM<br><strong>UnmergedRevision</strong>: [5dab2dd1bdc29e49a860d658666cd941b6f7d62f](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/5dab2dd1bdc29e49a860d658666cd941b6f7d62f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/27/2017, 11:29:41 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/27/2017, 11:28:36 AM<br><strong>UnmergedRevision</strong>: [c16fa15209165dd109edcd799ae0eef31a0128d5](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/c16fa15209165dd109edcd799ae0eef31a0128d5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/27/2017, 12:07:10 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 9/28/2017, 12:08:09 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L254](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-client/main_test.go#L254)<br><strong>Comment</strong>: <pre>Is better to use ioutil.TempDir to create a temp directory.
Also, need to delete the directory appropriately.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L254](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-client/main_test.go#L254)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L257](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-client/main_test.go#L257)<br><strong>Comment</strong>: <pre>without ... sorry :-)</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L257](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-client/main_test.go#L257)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-server/config.go#L138](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-server/config.go#L138)<br><strong>Comment</strong>: <pre>Let's use ParseDuration syntax.  Hours are the largest supported though, so the value will need to be 24h</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-server/config.go#L138](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-server/config.go#L138)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-server/config.go#L144](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-server/config.go#L144)<br><strong>Comment</strong>: <pre>10s ... using ParseDuration again</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-server/config.go#L144](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/cmd/fabric-ca-server/config.go#L144)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/servercli.rst#L25](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/servercli.rst#L25)<br><strong>Comment</strong>: <pre>This description can go in the default config file, but is too long here.  How about
   "Added to current time when generating a CRL without expired certificates"</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/servercli.rst#L25](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/servercli.rst#L25)<br><strong>Comment</strong>: <pre>how about this? 
"Current time adjuster when generating a CRL without expired certificates"</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1215](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1215)<br><strong>Comment</strong>: <pre>a certain</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1215](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1215)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1223](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1223)<br><strong>Comment</strong>: <pre>don't use -c.  Instead use "export FABRIC_CA_CLIENT_HOME="</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1223](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1223)<br><strong>Comment</strong>: <pre>Let's start off with a sample not using revokedafter and revokebefore options, which will be the typical usage.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1223](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1223)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1223](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1223)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1229](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1229)<br><strong>Comment</strong>: <pre>revokedafter</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1229](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1229)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1234](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1234)<br><strong>Comment</strong>: <pre>We need to discuss certExpirationWindow here also</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1234](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/docs/source/users-guide.rst#L1234)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/caconfig.go#L173](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/caconfig.go#L173)<br><strong>Comment</strong>: <pre>24h</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/caconfig.go#L173](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/caconfig.go#L173)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/caconfig.go#L177](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/caconfig.go#L177)<br><strong>Comment</strong>: <pre>Let's default to 1 hour "1h"</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/caconfig.go#L177](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/caconfig.go#L177)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L728](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/client_test.go#L728)<br><strong>Comment</strong>: <pre>Are you testing somewhere that the generated CRL actually has the certificates that you expect?  I don't see it here.  It is just checking that there is no error.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L728](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/client_test.go#L728)<br><strong>Comment</strong>: <pre>yes, in the fabric-ca-client test TestGenCRL, particularly in the checkCRL function</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L732](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/client_test.go#L732)<br><strong>Comment</strong>: <pre>I don't think this should fail in this case.  It should just return an empty list.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L732](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/client_test.go#L732)<br><strong>Comment</strong>: <pre>so, if there are no revoked certs, then return a CRL with empty list?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/client_test.go#L732](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/client_test.go#L732)<br><strong>Comment</strong>: <pre>yes</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servererror.go#L113](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servererror.go#L113)<br><strong>Comment</strong>: <pre>Delete</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servererror.go#L113](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servererror.go#L113)<br><strong>Comment</strong>: <pre>This error message is being used...why do you want me to delete this?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servererror.go#L115](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servererror.go#L115)<br><strong>Comment</strong>: <pre>Do you use this?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servererror.go#L115](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servererror.go#L115)<br><strong>Comment</strong>: <pre>yes</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L99](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servergencrl.go#L99)<br><strong>Comment</strong>: <pre>Add a duration field to the server struct and just add that here.  It will have been set from config by ParseDuration</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L99](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servergencrl.go#L99)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L125](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servergencrl.go#L125)<br><strong>Comment</strong>: <pre>Similar to above, set the expiry duration in the server struct based on the ParseDuration of the Config value.  Then just use Add rather than AddDate</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L125](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c16fa15209165dd109edcd799ae0eef31a0128d5/lib/servergencrl.go#L125)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/28/2017, 6:48:17 PM<br><strong>UnmergedRevision</strong>: [fd52c71303395212e9ad879288f9a2ed1583bd79](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/fd52c71303395212e9ad879288f9a2ed1583bd79)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/28/2017, 7:13:20 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/28/2017, 7:12:06 PM<br><strong>UnmergedRevision</strong>: [6f8bc8ab78ccbd042959f88102f09de15643b034](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/6f8bc8ab78ccbd042959f88102f09de15643b034)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/28/2017, 7:57:50 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/server_benchmarks_test.go#L43](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/6f8bc8ab78ccbd042959f88102f09de15643b034/lib/server_benchmarks_test.go#L43)<br><strong>Comment</strong>: <pre>i had to do this change plus the one in run_benchmarks so i can see test logs for lib package. With this change we don't need the change set : https://gerrit.hyperledger.org/r/c/13487/</pre></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 9/29/2017, 1:40:05 PM<br><strong>UnmergedRevision</strong>: [dd250733555176527488db8bd481cad867347571](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/dd250733555176527488db8bd481cad867347571)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/29/2017, 2:17:23 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Arnaud J Le Hors - lehors@us.ibm.com<br><strong>Approved</strong>: 10/2/2017, 11:43:25 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L139](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/dd250733555176527488db8bd481cad867347571/lib/servergencrl.go#L139)<br><strong>Comment</strong>: <pre>any reason not to just use https://github.com/cloudflare/cfssl/blob/master/crl/crl.go#L79</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L139](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/dd250733555176527488db8bd481cad867347571/lib/servergencrl.go#L139)<br><strong>Comment</strong>: <pre>we store certificate serials in hex format, but the NewCRLFromDB assumes that serials are stored in base10.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L139](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/dd250733555176527488db8bd481cad867347571/lib/servergencrl.go#L139)<br><strong>Comment</strong>: <pre>ugh.  right</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L139](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/dd250733555176527488db8bd481cad867347571/lib/servergencrl.go#L139)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 10/3/2017, 10:16:00 AM<br><strong>UnmergedRevision</strong>: [45c7af944d585b346296600da5f53b1ef295b882](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/45c7af944d585b346296600da5f53b1ef295b882)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/3/2017, 11:06:31 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 10/3/2017, 11:06:11 AM<br><strong>UnmergedRevision</strong>: [e18a904cc0c89ce467841864acbdc907a0c87172](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/e18a904cc0c89ce467841864acbdc907a0c87172)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/3/2017, 11:42:13 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 10/3/2017, 12:04:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [api/client.go#L145](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/e18a904cc0c89ce467841864acbdc907a0c87172/api/client.go#L145)<br><strong>Comment</strong>: <pre>I think the default should be to return all revoked certificates regardless of expiration time since the fabric currently doesn't check for expiration. 
I think it would make sense for parity to add options for ExpiryAfter and ExpiryBefore fields here.
We could then delete the server's configuration time window variable that allows for clock skew, as it would just be left up to the client.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [api/client.go#L145](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/e18a904cc0c89ce467841864acbdc907a0c87172/api/client.go#L145)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 10/5/2017, 12:25:33 AM<br><strong>UnmergedRevision</strong>: [a5c9c88e6abb54bb2989e73923d0f30ee2d97543](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/a5c9c88e6abb54bb2989e73923d0f30ee2d97543)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/5/2017, 8:46:39 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 10/5/2017, 4:10:46 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L257](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/cmd/fabric-ca-client/main_test.go#L257)<br><strong>Comment</strong>: <pre>If FABRIC_CA_CLIENT_HOME was set previously, this does not
restore it.</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L257](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/cmd/fabric-ca-client/main_test.go#L257)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L265](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/cmd/fabric-ca-client/main_test.go#L265)<br><strong>Comment</strong>: <pre>It should not be an error if there are no revoked certificates</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-client/main_test.go#L265](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/cmd/fabric-ca-client/main_test.go#L265)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1254](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/docs/source/users-guide.rst#L1254)<br><strong>Comment</strong>: <pre>undefined</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1254](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/docs/source/users-guide.rst#L1254)<br><strong>Comment</strong>: <pre>I will open a JIRA to address this as an enhancement</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [docs/source/users-guide.rst#L1254](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/docs/source/users-guide.rst#L1254)<br><strong>Comment</strong>: <pre>opened https://jira.hyperledger.org/browse/FAB-6479</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L113](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/lib/servergencrl.go#L113)<br><strong>Comment</strong>: <pre>Should not be an error</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/servergencrl.go#L113](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/lib/servergencrl.go#L113)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/flag.go#L116](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/util/flag.go#L116)<br><strong>Comment</strong>: <pre>Are you assuming that all Int64 fields will be a duration?
Could you add a new tag to identify a duration?</pre><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [util/flag.go#L116](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/a5c9c88e6abb54bb2989e73923d0f30ee2d97543/util/flag.go#L116)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Anil Ambati - aambati@us.ibm.com<br><strong>Uploader</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Created</strong>: 10/5/2017, 10:54:17 PM<br><strong>GitHubMergedRevision</strong>: [76fb6ec344198cb73980e88c5727e53f87abe8d2](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/76fb6ec344198cb73980e88c5727e53f87abe8d2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/5/2017, 11:36:43 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 10/6/2017, 7:34:16 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 10/6/2017, 11:32:36 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 10/6/2017, 11:32:39 AM<br><br></blockquote>