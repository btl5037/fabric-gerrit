<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 7789<br><strong>Subject</strong>: [FAB-2896] Loading multiple CAs from config files<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 4/6/2017, 9:20:01 AM<br><strong>LastUpdated</strong>: 4/26/2017, 6:13:32 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-2896] Loading multiple CAs from config files

This is change-set in a series of changes
to add support for multiple CAs. Support added for creating
multiple instances of CAs by providing a config file for
each instance of CA to be created. CA config files
are provided using the cafiles option.

Currently the traffic is still directed to one CA instance.
Next change-set will add the ability to direct traffic
to a specific CA by providing the ca name in the request
to server.

Change-Id: I28c98d524f03cc9c8cb879d3b81ee1e5f7bf9934
Signed-off-by: Saad Karim <skarim@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/6/2017, 9:20:01 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/6/2017, 9:20:10 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/509/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/6/2017, 9:21:05 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/501/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/6/2017, 9:34:52 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/509/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/501/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/505/ : SUCCESS</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/6/2017, 2:39:32 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/6/2017, 2:42:49 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/7/2017, 2:23:43 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/7/2017, 2:23:53 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/538/ (2/3)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/7/2017, 2:24:41 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/7/2017, 2:27:22 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/530/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/7/2017, 2:42:17 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/538/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/530/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/534/ : SUCCESS</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/8/2017, 3:45:51 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(13 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/11/2017, 2:21:27 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/11/2017, 2:21:37 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/570/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/11/2017, 2:21:37 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/574/ (2/3)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/11/2017, 2:21:40 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(12 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/11/2017, 2:22:29 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/566/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/11/2017, 2:33:41 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/574/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/566/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/570/ : FAILURE</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/11/2017, 2:40:41 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/11/2017, 2:40:48 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/572/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/11/2017, 2:42:35 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/568/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/11/2017, 2:56:01 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/576/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/568/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/572/ : SUCCESS</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/11/2017, 3:05:02 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/17/2017, 5:17:59 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2017, 5:18:07 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/612/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2017, 5:18:08 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/608/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2017, 5:21:13 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/604/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2017, 5:33:45 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/612/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/604/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/608/ : SUCCESS</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/18/2017, 2:38:20 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(6 comments)</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/19/2017, 12:14:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 12:14:25 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/621/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 12:16:19 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/613/ (2/3)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/19/2017, 2:26:14 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

(4 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 2:52:12 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/617/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 3:25:14 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/621/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/613/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/617/ : SUCCESS</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/19/2017, 3:32:39 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 3:34:02 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/618/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 3:41:16 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/626/ (2/3)</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/19/2017, 4:49:32 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review+1

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 8:34:13 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/622/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/19/2017, 8:48:39 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/626/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/618/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/622/ : SUCCESS</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 2:29:24 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8: Patch Set 7 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:33:45 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/648/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:35:03 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/656/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:46:36 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/652/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:48:43 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/656/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/648/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/652/ : FAILURE</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 2:52:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9: Patch Set 8 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:52:26 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/659/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:54:25 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/650/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 3:06:20 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/655/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 3:21:04 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/659/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/650/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/655/ : SUCCESS</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/22/2017, 7:47:52 AM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+1</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 4/22/2017, 8:17:37 AM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+2

so, some feedback on this CR. First the test in main is an integration test, not unit testing. Unit testing should not require running any processes. It is about exercising a function(s) to test the defensive and happy-path code.

The second point is that the unit tests in util are only testing happy path. More examples should be tested, with the intention of exercising all of the new code.

Since we're about to embark on a process to refactor unit tests across the board, I will let this go now.</pre><strong>Reviewer</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Reviewed</strong>: 4/25/2017, 3:08:58 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 3:09:09 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/680/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 3:10:26 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/676/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 3:27:09 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/684/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-ppc64le/680/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/676/ : SUCCESS</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 4/26/2017, 10:35:05 AM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review+2</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 4/26/2017, 10:47:09 AM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review+1</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 4/26/2017, 4:05:27 PM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review+2

Merging this also on the behalf of Keith.</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 4:05:31 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Jonathan Levi (HACERA)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 4:16:13 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-merge-x86_64/110/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 4:40:51 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-merge-s390x/112/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 5:50:01 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-merge-ppc64le/109/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 6:13:32 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-merge-x86_64/110/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-merge-ppc64le/109/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-merge-s390x/112/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/6/2017, 9:20:01 AM<br><strong>UnmergedRevision</strong>: [473bc448af776f620c1e33f83ac206bd23665c84](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/473bc448af776f620c1e33f83ac206bd23665c84)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/6/2017, 9:34:52 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 4/6/2017, 2:39:32 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L101](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/473bc448af776f620c1e33f83ac206bd23665c84/lib/server.go#L101)<br><strong>Comment</strong>: <pre>What if multiple elements but 1st contains ",".  You ignore others.  We either need to error in that case or handle by splitting and merging.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L101](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/473bc448af776f620c1e33f83ac206bd23665c84/lib/server.go#L101)<br><strong>Comment</strong>: <pre>This is because if you use --cafiles to input multiple file names what gets returned is a single element in an array that is comma separated, so that is why I was checking for the comma to see if there is more than one element. I don't imagine a file path containing commas so splitting on commas should be okay.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L113](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/473bc448af776f620c1e33f83ac206bd23665c84/lib/server.go#L113)<br><strong>Comment</strong>: <pre>Let's add functions to the util package similar to:
    NormalizeStringSlice(slice []string) []string
which can check for "," and " " separators ...
and the following which uses NormalizeStringSlice:
    NormalizeFileList(files []string, homeDir string) ([]string, error)

Also look for other places which use the Abs util functions which can be consolidated; for example, AbsTLSCLient in lib/tls.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L113](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/473bc448af776f620c1e33f83ac206bd23665c84/lib/server.go#L113)<br><strong>Comment</strong>: <pre>Done, but we only need to check for commas I have not encountered a case where we need to check for space.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server_test.go#L509](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/473bc448af776f620c1e33f83ac206bd23665c84/lib/server_test.go#L509)<br><strong>Comment</strong>: <pre>If this is needed because of a bug, let's fix the bug.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/struct.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/473bc448af776f620c1e33f83ac206bd23665c84/util/struct.go#L95)<br><strong>Comment</strong>: <pre>I think a better name would be 
    MergeConfig(src, dst interface{}}
since it can be any 2 instances of the same struct</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [util/struct.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/473bc448af776f620c1e33f83ac206bd23665c84/util/struct.go#L95)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/7/2017, 2:23:43 PM<br><strong>UnmergedRevision</strong>: [304e934c6638010505ce577546f03bab51a3e428](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/304e934c6638010505ce577546f03bab51a3e428)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/7/2017, 2:42:17 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 4/8/2017, 3:45:51 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-server/main_test.go#L216](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/cmd/fabric-ca-server/main_test.go#L216)<br><strong>Comment</strong>: <pre>Just remove the entire ca directory
os.RemoveAll("../../testdata/ca")</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-server/main_test.go#L216](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/cmd/fabric-ca-server/main_test.go#L216)<br><strong>Comment</strong>: <pre>I can't remove the entire directory, I have test config files that I use to create two different CA instances underneath the testdata/ca directory.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L52](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L52)<br><strong>Comment</strong>: <pre>I think this should be deleted and the object "ServerConfig" should be renamed to "CAConfig" to avoid confusion.  That is, there should only be one place for the Server's default CA config items, and that should be part of the CA object.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L62](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L62)<br><strong>Comment</strong>: <pre>I think this could be just "CA" rather than "*CA" to eliminate the possibility that it could ever be nil, and recommend making the comment say something similar to "Server's default CA".

That is, every Server "is a" CA (the default CA) and every Server may contain multiple CAs (the caMap below).</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L62](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L62)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L64](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L64)<br><strong>Comment</strong>: <pre>I think this should be private since you don't want anyone trying to set it.  I recommend making it "cas" or probably better "caMap"?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L64](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L64)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L95)<br><strong>Comment</strong>: <pre>Line 95 - 123 should be in the "Init" or "initConfig" method.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L95)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L102](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L102)<br><strong>Comment</strong>: <pre>hmm ... I think util.NormalizeFileList should always call util.NormalizeStringSlice internally so the caller doesn't have to do so.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L102](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L102)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L117](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L117)<br><strong>Comment</strong>: <pre>Recommend calling it "initDefaultCA(renew)".
Since it is part of Init, the "renew" variable will be available to pass along.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L117](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L117)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L203](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L203)<br><strong>Comment</strong>: <pre>initDefaultCA(renew bool)</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L203](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L203)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L217](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L217)<br><strong>Comment</strong>: <pre>ca.Init(renew)

I also think you should just make the call to Init from the addCA function since we never want to add w/o initializing 1st, so must pass renew to addCA.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server.go#L217](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server.go#L217)<br><strong>Comment</strong>: <pre>Making the call in the constructor of CA (newCA())</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server_test.go#L509](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server_test.go#L509)<br><strong>Comment</strong>: <pre>Why needed?</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server_test.go#L509](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server_test.go#L509)<br><strong>Comment</strong>: <pre>Sometimes during CI trying to stop server after a start was causing a nil exception. I'll try without it and see if CI passes.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server_test.go#L509](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server_test.go#L509)<br><strong>Comment</strong>: <pre>Taking this out caused CI to fail. I am putting it back in for now. Will need to investigate this separately, will open a bug.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server_test.go#L668](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server_test.go#L668)<br><strong>Comment</strong>: <pre>os.RemoveAll("../testdata/ca")</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [lib/server_test.go#L668](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/lib/server_test.go#L668)<br><strong>Comment</strong>: <pre>I can't remove the entire directory, I have test config files that I use to create two different CA instances underneath the testdata/ca directory.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/struct.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/util/struct.go#L95)<br><strong>Comment</strong>: <pre>I think this should be renamed to "CopyMissingValues" or something that makes it obvious that it is updating the values in the dst struct.</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [util/struct.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/util/struct.go#L95)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/util.go#L600](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/util/util.go#L600)<br><strong>Comment</strong>: <pre>Call NormalizeStriceSlice 1st so caller doesn't have to</pre><strong>Commenter</strong>: Saad Karim - skarim@us.ibm.com<br><strong>CommentLine</strong>: [util/util.go#L600](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/304e934c6638010505ce577546f03bab51a3e428/util/util.go#L600)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/11/2017, 2:21:27 PM<br><strong>UnmergedRevision</strong>: [df457e23a5c8dba3ee275f4f876442d2b9d4b826](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/df457e23a5c8dba3ee275f4f876442d2b9d4b826)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/11/2017, 2:33:41 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/11/2017, 2:40:41 PM<br><strong>UnmergedRevision</strong>: [26f555e3585fa067c966d667ac6699fc81ff31bd](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/26f555e3585fa067c966d667ac6699fc81ff31bd)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/11/2017, 2:56:01 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/17/2017, 5:17:59 PM<br><strong>UnmergedRevision</strong>: [4b2f7c356755bc4e912e2e3e1037832c3a1703f7](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/4b2f7c356755bc4e912e2e3e1037832c3a1703f7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/17/2017, 5:33:45 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 4/18/2017, 2:38:20 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/server.go#L54](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4b2f7c356755bc4e912e2e3e1037832c3a1703f7/lib/server.go#L54)<br><strong>Comment</strong>: <pre>I think we should move ParentServerURL to CAConfig and delete Remote in ServerConfig, since this tells where to enroll for a particular CA.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/ca/ca1/fabric-ca-server-config.yaml#L10](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4b2f7c356755bc4e912e2e3e1037832c3a1703f7/testdata/ca/ca1/fabric-ca-server-config.yaml#L10)<br><strong>Comment</strong>: <pre>Pls change the comment to the following, and make sure the template used to generate these files has the same comments:

The CA section contains information specific to this Certificate Authority.  Minimally, the name must be unique for all CAs serviced by the same server.  Additionally, you may specify any of the settings that are defined in the server's configuration file to override them with a value specific for this CA.  For example, you should provide a different username and password for the bootstrap identity as found in the "identities" subsection of the "registry" section.

See the server's configuration file for comments on all settings.  All settings pertaining to the server's listening endpoint are by definition server-specific and so will be ignored in a CA configuration file.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/ca/ca1/fabric-ca-server-config.yaml#L19](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4b2f7c356755bc4e912e2e3e1037832c3a1703f7/testdata/ca/ca1/fabric-ca-server-config.yaml#L19)<br><strong>Comment</strong>: <pre>I think it would be best to delete these, since they are default values from the server's config.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [testdata/ca/ca2/fabric-ca-server-config.yaml#L132](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4b2f7c356755bc4e912e2e3e1037832c3a1703f7/testdata/ca/ca2/fabric-ca-server-config.yaml#L132)<br><strong>Comment</strong>: <pre>I'd prefer to delete everything except the name for two reasons:
1) Folks will look at this as an example and we want it to be clear that they should only put CA-specific settings here to override the default settings in the main server's config.
2) It is less to keep in sync.  In fact, I see that registry.maxEnrollments is 0 here, which should disable registration now instead of being infinite.

Actually, on 2nd thought, it would probably be good to specify at least something so that you can test that you are getting the correct CA-specific setting.  Since we'd want to recommend using a different bootstrap user/pass, that would make sense to include in the config file for both ca1 and ca2.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/flag.go#L202](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4b2f7c356755bc4e912e2e3e1037832c3a1703f7/util/flag.go#L202)<br><strong>Comment</strong>: <pre>If not ok, break out of the loop and make no assignment on line 202</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/util.go#L595](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4b2f7c356755bc4e912e2e3e1037832c3a1703f7/util/util.go#L595)<br><strong>Comment</strong>: <pre>If slice is as follows:
    {"a,b","c,d"}
this will return
    {"a","b"}
but it should return 
   {"a","b","c","d"}</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/19/2017, 12:14:15 PM<br><strong>UnmergedRevision</strong>: [c4257e5b20d2a6fbfdf3379c60c967b284964e4a](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/c4257e5b20d2a6fbfdf3379c60c967b284964e4a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/19/2017, 3:25:14 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 4/19/2017, 2:26:14 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [cmd/fabric-ca-server/config.go#L85](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c4257e5b20d2a6fbfdf3379c60c967b284964e4a/cmd/fabric-ca-server/config.go#L85)<br><strong>Comment</strong>: <pre>Two things:
1) Let's move this to the end.  In general, I think it is best to put the most often used things towards the top, and this is sort of an advanced setting.
2) Add a comment section with some documentation about this feature.  In this section, mention how the --cacount and --cafiles options can be used to generate this.  And would be helpful to put an example so folks know it is the list syntax.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/flag.go#L197](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c4257e5b20d2a6fbfdf3379c60c967b284964e4a/util/flag.go#L197)<br><strong>Comment</strong>: <pre>"break" should be "continue"</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/flag.go#L211](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c4257e5b20d2a6fbfdf3379c60c967b284964e4a/util/flag.go#L211)<br><strong>Comment</strong>: <pre>Can remove this if since "continue" above will guarantee "ok" is always true</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/util.go#L589](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c4257e5b20d2a6fbfdf3379c60c967b284964e4a/util/util.go#L589)<br><strong>Comment</strong>: <pre>Pls either:
1) put a comment denoting that it only looks at the 1st element and change the name to "NormalizeFlagStringSlice" so it is more clear that it isn't a generic function, or
2) make it handle all elements of a slice.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [util/util.go#L589](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/c4257e5b20d2a6fbfdf3379c60c967b284964e4a/util/util.go#L589)<br><strong>Comment</strong>: <pre>thanks</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/19/2017, 3:32:39 PM<br><strong>UnmergedRevision</strong>: [e53a1ad3a961d3014c18629a49dcba5992b09345](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/e53a1ad3a961d3014c18629a49dcba5992b09345)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/19/2017, 8:48:39 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 4/19/2017, 4:49:32 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/21/2017, 2:29:24 PM<br><strong>UnmergedRevision</strong>: [5cb50038fc8d2112d14c6dbeecb513d10012c288](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/5cb50038fc8d2112d14c6dbeecb513d10012c288)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/21/2017, 2:48:43 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/21/2017, 2:52:15 PM<br><strong>UnmergedRevision</strong>: [ec205adc031ba0ec7b430aa9180a1447cbcd4387](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/ec205adc031ba0ec7b430aa9180a1447cbcd4387)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 4/22/2017, 8:17:37 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/21/2017, 3:21:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 4/22/2017, 7:47:52 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Uploader</strong>: Saad Karim - skarim@us.ibm.com<br><strong>Created</strong>: 4/25/2017, 3:08:58 PM<br><strong>GitHubMergedRevision</strong>: [3ab84cb54795555b69c98479c4b90d92c65b42e5](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/3ab84cb54795555b69c98479c4b90d92c65b42e5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/25/2017, 3:27:09 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 4/26/2017, 4:05:27 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Jonathan Levi (HACERA)<br><strong>Merged</strong>: 4/26/2017, 4:05:31 PM<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 4/26/2017, 10:47:09 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 4/26/2017, 10:35:05 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>