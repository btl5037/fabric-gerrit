<strong>Project</strong>: fabric-ca<br><strong>Branch</strong>: master<br><strong>ID</strong>: 9739<br><strong>Subject</strong>: [ FAB-3924 ] - Additional test coverage for tcert<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 5/23/2017, 5:59:08 PM<br><strong>LastUpdated</strong>: 5/25/2017, 7:56:20 AM<br><strong>CommitMessage</strong>:<br><pre>[ FAB-3924 ] - Additional test coverage for tcert

Brings coverage for tcerts to 90+ %

There are some tests that have been commented
out due to issues that would cause them to fail.

They can be enabled later.

I also modified GenNumber() to check for error, since
I was able to create a panic in that function.
I can't write a unit test for it, since it requires
root authority (or elevated permissions to /dev/urandom)
which is not possible in this environment, so I just fixed it.

Change-Id: Ia452036b367bd509993deda96622d89c9296f0bf
Signed-off-by: Allen Bailey <eabailey@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/23/2017, 5:59:08 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 5:59:15 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/958/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:01:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/951/ (2/2)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/23/2017, 6:06:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:06:20 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/959/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:09:44 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/951/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/958/ : FAILURE</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/23/2017, 6:12:40 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:12:41 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/952/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:12:50 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/960/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:13:59 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/953/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:21:47 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/952/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/959/ : FAILURE</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/23/2017, 6:22:35 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:22:44 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/961/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:26:05 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/954/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:30:26 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/953/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/960/ : FAILURE</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/23/2017, 6:35:19 PM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:35:25 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/962/ (1/2)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 5/23/2017, 6:38:54 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(7 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:40:04 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/955/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 6:50:28 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/954/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/961/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/23/2017, 7:02:44 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/955/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/962/ : SUCCESS</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 12:12:17 AM<br><strong>Message</strong>: <pre>Patch Set 5: Published edit on patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 12:12:29 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/963/ (1/2)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 12:12:54 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(7 comments)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 12:22:02 AM<br><strong>Message</strong>: <pre>Patch Set 6: Published edit on patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 12:22:09 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/964/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 12:27:14 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/956/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 12:31:54 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/957/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 12:37:13 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/956/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/963/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 1:23:24 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/957/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/964/ : SUCCESS</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 3:03:55 AM<br><strong>Message</strong>: <pre>Patch Set 6:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 3:04:05 AM<br><strong>Message</strong>: <pre>Patch Set 6: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/965/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 3:08:25 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/958/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 3:32:24 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/958/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/965/ : SUCCESS</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 10:58:27 AM<br><strong>Message</strong>: <pre>Patch Set 7: Published edit on patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 10:58:35 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/968/ (1/2)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 10:59:10 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 11:03:05 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/961/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 11:28:28 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/961/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/968/ : SUCCESS</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 11:35:14 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(5 comments)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 1:18:46 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 1:18:56 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/970/ (1/2)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 1:20:23 PM<br><strong>Message</strong>: <pre>Patch Set 8:

@Artem ... sorry, the online editor always seems to get me into trouble. I uploaded the changes from my local repo.</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 1:21:15 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 1:23:27 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/963/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 1:46:42 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/963/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/970/ : SUCCESS</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 3:43:15 PM<br><strong>Message</strong>: <pre>Patch Set 8:

I opened issues related to the tests I deleted:

https://jira.hyperledger.org/browse/FAB-4148
https://jira.hyperledger.org/browse/FAB-4126

They should be re-enabled when these are completed.</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 3:44:31 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 3:44:38 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/972/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 3:49:11 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/965/ (2/2)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 3:49:56 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(10 comments)

Thanks, it's almost there, still missed a few "\n"'s</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 3:56:58 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/965/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/972/ : FAILURE</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 5/24/2017, 4:13:19 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review-1

(10 comments)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 5:35:13 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 5:38:35 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 5:38:47 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/973/ (1/2)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 5:40:01 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(18 comments)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/24/2017, 5:43:39 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 5:43:48 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/974/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 5:43:48 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/966/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 5:46:40 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/967/ (2/2)</pre><strong>Reviewer</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>Reviewed</strong>: 5/24/2017, 5:58:18 PM<br><strong>Message</strong>: <pre>Patch Set 11:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 6:00:44 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/966/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/973/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/24/2017, 6:13:54 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-verify-x86_64/967/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-verify-s390x/974/ : SUCCESS</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 5/25/2017, 12:00:04 AM<br><strong>Message</strong>: <pre>Patch Set 11:

(1 comment)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 5/25/2017, 2:03:28 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+2</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 5/25/2017, 7:24:11 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 5/25/2017, 7:24:13 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Christopher Ferris</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/25/2017, 7:24:22 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-merge-s390x/153/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/25/2017, 7:28:29 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-ca-merge-x86_64/153/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/25/2017, 7:56:20 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-ca-merge-s390x/153/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-ca-merge-x86_64/153/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/23/2017, 5:59:08 PM<br><strong>UnmergedRevision</strong>: [8756b82e18502fe798b5b3c1fb6853ca72dd0259](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/8756b82e18502fe798b5b3c1fb6853ca72dd0259)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/23/2017, 6:09:44 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/23/2017, 6:06:00 PM<br><strong>UnmergedRevision</strong>: [4458e6a68b11e259a42ef2a0c2d58bab738c8566](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/4458e6a68b11e259a42ef2a0c2d58bab738c8566)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/23/2017, 6:21:47 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/23/2017, 6:12:40 PM<br><strong>UnmergedRevision</strong>: [50abb442c7830f916d60d3dfcd1d93bf9635579d](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/50abb442c7830f916d60d3dfcd1d93bf9635579d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/23/2017, 6:30:26 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/23/2017, 6:22:35 PM<br><strong>UnmergedRevision</strong>: [076ff802e58f68447b9da933f73d035410050a8d](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/076ff802e58f68447b9da933f73d035410050a8d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/23/2017, 6:50:28 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Approved</strong>: 5/23/2017, 6:38:54 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L23](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L23)<br><strong>Comment</strong>: <pre>If commented, please remove.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L23](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L23)<br><strong>Comment</strong>: <pre>Sure. I had commented out some (valid) tests that would have caused the ci tests to fail. I'll just stash them for now. I'll submit additional change sets with unit tests when the defects are fixed.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L77](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L77)<br><strong>Comment</strong>: <pre>Can you please remove it? Why are you committing commented code?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L77](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L77)<br><strong>Comment</strong>: <pre>Sure. I had commented out some (valid) tests that would have caused the ci tests to fail. I'll just stash them for now. I'll submit additional change sets with unit tests when the defects are fixed.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L77](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L77)<br><strong>Comment</strong>: <pre>If there is a jira item open for a bug and you already have the test case here, I think it is OK to comment out the code but you should also put a link to the jira item and say in a comment here that you are commenting out the test case until the bug is fixed.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L77](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L77)<br><strong>Comment</strong>: <pre>You can put commented code into JIRA instead. IMO we shouldn't not commit commented code.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L77](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L77)<br><strong>Comment</strong>: <pre>I'm good with that.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L77](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/keytree_test.go#L77)<br><strong>Comment</strong>: <pre>I kinda did it the other way 'round. I opened jira items, pasted the code in there, and then put a link to the jira items in the general comments section of this CR (9739).</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert.go#L214](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/tcert.go#L214)<br><strong>Comment</strong>: <pre>What is the point of this change?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert.go#L214](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/tcert.go#L214)<br><strong>Comment</strong>: <pre>The GenNumber declaration changed to return multiple values. Without it, the compiler complains:
./tcert.go:214: multiple-value GenNumber() in single-value context</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert.go#L214](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/tcert.go#L214)<br><strong>Comment</strong>: <pre>I think I mistook the thrust of your argument. I added an error check.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/tcert.go#L214](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/tcert.go#L214)<br><strong>Comment</strong>: <pre>Allen, we should return an error from this function if GenNumber fails.  Pls add the following:

if err != nil {
   return nil, err
}</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert.go#L214](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/tcert.go#L214)<br><strong>Comment</strong>: <pre>Thanks. I had already fixed this in patch set 7.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert_test.go#L44](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/tcert_test.go#L44)<br><strong>Comment</strong>: <pre>I understand this is not related to CR, wile don't you need to fail test here instead of returning?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert_test.go#L44](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/tcert_test.go#L44)<br><strong>Comment</strong>: <pre>Done. Thanks, I didn't notice this when I added my test.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util.go#L147](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/util.go#L147)<br><strong>Comment</strong>: <pre>To save indentation, can you do

   if err != nil {
       return nil, err
   }

first? And continue to


		val := new(big.Int).Add(randomNum, lowerBound)
		valMod := new(big.Int).Mod(val, upperBound)

		if valMod.Cmp(lowerBound) == -1 {
			newval := new(big.Int).Add(valMod, lowerBound)
			return newval, nil
		}</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util.go#L147](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/util.go#L147)<br><strong>Comment</strong>: <pre>Done, thanks.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/util.go#L147](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/util.go#L147)<br><strong>Comment</strong>: <pre>And also return an error message with context similar to:
    if err != nil {
         return nil, fmt.Errorf("Failed to generate random number: %s", err)
    }</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L29](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/util_test.go#L29)<br><strong>Comment</strong>: <pre>Why have add it and ignore it?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L29](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/util_test.go#L29)<br><strong>Comment</strong>: <pre>Perhaps my ignorance of golang, but I assumed it was required since the function returns multiple values. Is there a more accepted alternative?</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L145](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/util_test.go#L145)<br><strong>Comment</strong>: <pre>Can you please remove it?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L145](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/076ff802e58f68447b9da933f73d035410050a8d/lib/tcert/util_test.go#L145)<br><strong>Comment</strong>: <pre>Sure. I had commented out some (valid) tests that would have caused the ci tests to fail. I'll just stash them for now. I'll submit additional change sets with unit tests when the defects are fixed.</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/24/2017, 12:12:17 AM<br><strong>UnmergedRevision</strong>: [b582d46a84a5a5b0f6388a0c9c4f92723e790802](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/b582d46a84a5a5b0f6388a0c9c4f92723e790802)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/24/2017, 12:37:13 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/24/2017, 12:22:02 AM<br><strong>UnmergedRevision</strong>: [d68d52375905105ee5565a9dd330edb6b4f03c3a](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/d68d52375905105ee5565a9dd330edb6b4f03c3a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/24/2017, 3:32:24 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/24/2017, 10:58:27 AM<br><strong>UnmergedRevision</strong>: [8f5d7098fe6971490ae2bda5ccf4390996befe9d](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/8f5d7098fe6971490ae2bda5ccf4390996befe9d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/24/2017, 11:28:28 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L23](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/keytree_test.go#L23)<br><strong>Comment</strong>: <pre>I think you forgot to remove it?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L23](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/keytree_test.go#L23)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L68](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/keytree_test.go#L68)<br><strong>Comment</strong>: <pre>It anyway logs on each line, so no need in "\n"...</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L68](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/keytree_test.go#L68)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert_test.go#L43](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/tcert_test.go#L43)<br><strong>Comment</strong>: <pre>No need in "\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert_test.go#L43](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/tcert_test.go#L43)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L21](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/util_test.go#L21)<br><strong>Comment</strong>: <pre>Can you remove it?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L21](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/util_test.go#L21)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L131](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/util_test.go#L131)<br><strong>Comment</strong>: <pre>There is no need in "\n", can you please take care and remove it from the rest of the file as well?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L131](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/8f5d7098fe6971490ae2bda5ccf4390996befe9d/lib/tcert/util_test.go#L131)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/24/2017, 1:18:46 PM<br><strong>UnmergedRevision</strong>: [91a3c2ac2ad9c6cb6c6e9db5334b542677c48b99](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/91a3c2ac2ad9c6cb6c6e9db5334b542677c48b99)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/24/2017, 1:46:42 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/24/2017, 3:44:31 PM<br><strong>UnmergedRevision</strong>: [143f51b23c8f822b83703d4e2adcff19c4d34fcb](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/143f51b23c8f822b83703d4e2adcff19c4d34fcb)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/24/2017, 3:56:58 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 5/24/2017, 4:13:19 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/tcert_test.go#L36](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/tcert_test.go#L36)<br><strong>Comment</strong>: <pre>Change to _ since you're ignoring this</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/tcert_test.go#L36](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/tcert_test.go#L36)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/util.go#L139](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util.go#L139)<br><strong>Comment</strong>: <pre>Add context such as:
   return nil, fmt.Errorf("Failed to generate random number: %s", err)</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util.go#L139](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util.go#L139)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L96](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L96)<br><strong>Comment</strong>: <pre>since err is nil, just:
   t.Fatal("GetCertificateFromSerialumber should have failed")</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L96](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L96)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L109](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L109)<br><strong>Comment</strong>: <pre>same as above</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L109](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L109)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L115](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L115)<br><strong>Comment</strong>: <pre>Those without additional args should be "t.Fatal", not "t.Fatalf".</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L115](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L115)<br><strong>Comment</strong>: <pre>Done. Thanks. I fixed a bunch of these.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L158](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L158)<br><strong>Comment</strong>: <pre>I think you want all of these to be t.Errorf rather than t.Fatalf since you want to continue to the next one even if the previous one fails.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L158](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L158)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L207](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L207)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L207](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L207)<br><strong>Comment</strong>: <pre>same with these ... t.Errorf ... or t.Error if no additional arg, so that it continues to the next test even if this fails</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L207](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L207)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L213](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L213)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L213](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L213)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L218](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L218)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L218](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L218)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L223](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L223)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L223](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L223)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L228](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L228)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L228](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L228)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L237](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L237)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L243](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L243)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L243](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L243)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L250](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L250)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L250](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L250)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L256](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L256)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L256](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L256)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L262](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L262)<br><strong>Comment</strong>: <pre>"\n"</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/util_test.go#L262](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/143f51b23c8f822b83703d4e2adcff19c4d34fcb/lib/tcert/util_test.go#L262)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/24/2017, 5:38:35 PM<br><strong>UnmergedRevision</strong>: [35e6b919eafa3d07ab2de1af9613e2acc44a0b7d](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/35e6b919eafa3d07ab2de1af9613e2acc44a0b7d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/24/2017, 6:00:44 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 5/24/2017, 5:43:39 PM<br><strong>GitHubMergedRevision</strong>: [4559758869b03a63c52801cf5d25ef3f1efead2b](https://github.com/hyperledger-gerrit-archive/fabric-ca/commit/4559758869b03a63c52801cf5d25ef3f1efead2b)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 5/25/2017, 7:24:11 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Christopher Ferris<br><strong>Merged</strong>: 5/25/2017, 7:24:13 AM<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/24/2017, 6:13:54 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Approved</strong>: 5/25/2017, 2:03:28 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: AnilKumar Ambati - aambati@hotmail.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L67](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4559758869b03a63c52801cf5d25ef3f1efead2b/lib/tcert/keytree_test.go#L67)<br><strong>Comment</strong>: <pre>is this left out by mistake?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [lib/tcert/keytree_test.go#L67](https://github.com/hyperledger-gerrit-archive/fabric-ca/blob/4559758869b03a63c52801cf5d25ef3f1efead2b/lib/tcert/keytree_test.go#L67)<br><strong>Comment</strong>: <pre>I'm not clear about which you refer. I only added lines. Basically when I looked at GetKey, we took a different path if the tree already existed, so I just make a second call using the same tree2 as allocated above. That's all I meant to do.</pre></blockquote>