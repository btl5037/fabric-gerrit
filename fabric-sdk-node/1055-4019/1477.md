<strong>Project</strong>: fabric-sdk-node<br><strong>Branch</strong>: master<br><strong>ID</strong>: 1477<br><strong>Subject</strong>: Add tests to headless-tests.js<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 10/4/2016, 1:32:12 PM<br><strong>LastUpdated</strong>: 10/6/2016, 1:32:54 PM<br><strong>CommitMessage</strong>:<br><pre>Add tests to headless-tests.js

Need to include unit tests to cover all
node sdk functions that do not require a peer or network. Additional tests
are added for FileKeyValueStore.js, Chain.js, and Member.js. These unit
tests have been tested successfully on Windows 7 and Ubuntu 14 without
Vagrant.

Includes moving grpc to 1.0 which is required by Windows to
prevent compile failures (already done in fabric version of code) and
utils.existsSync to replace deprecated fs.existsSync.

This change replaces 1281 to prevent merge conflicts.

Change-Id: I318f2fd9538063ce5eaf3cd0f55374dda47eaf37
Signed-off-by: Caroline Daughtrey <cdaughtr@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Reviewed</strong>: 10/4/2016, 1:32:12 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Reviewed</strong>: 10/4/2016, 1:43:42 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Reviewed</strong>: 10/5/2016, 1:32:34 PM<br><strong>Message</strong>: <pre>Patch Set 3: Published edit on patch set 2.</pre><strong>Reviewer</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2016, 12:33:46 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+1

@Gari, @Greg, @Chis. Can we please have this merged? We have rebased this change already multiple times. It is unreasonable to wait this long. We are blocked on waiting for these changes to go in. This is Caroline's second attempt at this change set, she had to abandon the first one due to conflicts.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2016, 6:09:04 AM<br><strong>Message</strong>: <pre>Patch Set 3:

is the plan that it is required to run headless-tests.js from within the test/unit directory?   If I am in that directory and run node headless-tests.js then things work fine.  If I am in the root directory and run node test/unit/headless-tests.js then things do not work due to the way paths are being referenced</pre><strong>Reviewer</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2016, 10:06:48 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Yes, the plan is to run in the test/unit directory.  This is how it worked previously in fabric/sdk/node/test/unit.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2016, 12:29:26 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+2</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 10/6/2016, 1:22:58 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+2

LGTM. Thanks.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2016, 1:32:49 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 10/6/2016, 1:32:54 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Uploader</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Created</strong>: 10/4/2016, 1:32:12 PM<br><strong>UnmergedRevision</strong>: [78fd7bf553426ecf156d1608d282cf5df9d807e4](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/78fd7bf553426ecf156d1608d282cf5df9d807e4)<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Uploader</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Created</strong>: 10/4/2016, 1:43:42 PM<br><strong>UnmergedRevision</strong>: [7cecd80383946c8546be75ac84404713ba8fc4c1](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/7cecd80383946c8546be75ac84404713ba8fc4c1)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Uploader</strong>: Caroline Daughtrey - cdaughtr@us.ibm.com<br><strong>Created</strong>: 10/5/2016, 1:32:34 PM<br><strong>GitHubMergedRevision</strong>: [e127d5bb54c564ef6c53447d0b62eb70fa866cfe](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/e127d5bb54c564ef6c53447d0b62eb70fa866cfe)<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 10/6/2016, 1:22:58 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Approved</strong>: 10/6/2016, 12:33:46 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 10/6/2016, 12:29:26 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 10/6/2016, 1:32:54 PM<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 10/6/2016, 1:32:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>