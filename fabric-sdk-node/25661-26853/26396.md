<strong>Project</strong>: fabric-sdk-node<br><strong>Branch</strong>: master<br><strong>ID</strong>: 26396<br><strong>Subject</strong>: FABN-907 NodeSDK update event doc<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 9/19/2018, 2:18:05 PM<br><strong>LastUpdated</strong>: 9/24/2018, 4:10:45 AM<br><strong>CommitMessage</strong>:<br><pre>FABN-907 NodeSDK update event doc

Update the ChannelEventHub jsdoc.

Change-Id: Ia74f99925f26d7301328c907b879162fccf16855
Signed-off-by: Bret Harrison <beharrison@nc.rr.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 9/19/2018, 2:18:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/19/2018, 2:18:16 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/466/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/19/2018, 2:20:39 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/482/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/19/2018, 2:43:28 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/466/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-s390x/466

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/482/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-x86_64/482</pre><strong>Reviewer</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>Reviewed</strong>: 9/19/2018, 11:00:19 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(7 comments)</pre><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 9/20/2018, 9:41:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/20/2018, 9:41:40 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/469/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/20/2018, 9:46:09 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/485/ (2/2)</pre><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 9/20/2018, 9:52:14 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(7 comments)

addressed comments</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/20/2018, 10:10:11 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/469/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/469/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-s390x/469

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/485/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/485/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-x86_64/485</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 9/20/2018, 2:48:11 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 9/21/2018, 12:54:39 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/21/2018, 12:54:48 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/471/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/21/2018, 12:57:29 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/487/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/21/2018, 1:28:29 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/471/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/471/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-s390x/471

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/487/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/487/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-x86_64/487</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 9/23/2018, 3:29:18 PM<br><strong>Message</strong>: <pre>Patch Set 4: Patch Set 3 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2018, 3:29:27 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/475/ (1/2)</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 9/23/2018, 3:30:03 PM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify-node8x</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 9/23/2018, 3:30:11 PM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify-node8z</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2018, 3:30:13 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/475/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/475/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-s390x/475</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2018, 3:30:22 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/476/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2018, 3:34:51 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/490/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/23/2018, 3:57:33 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/490/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-x86_64/490

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-s390x/476/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-master-s390x/476</pre><strong>Reviewer</strong>: Andrew Coleman - andrew_coleman@uk.ibm.com<br><strong>Reviewed</strong>: 9/24/2018, 3:44:33 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Andrew Coleman - andrew_coleman@uk.ibm.com<br><strong>Reviewed</strong>: 9/24/2018, 3:44:38 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Andrew Coleman</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2018, 4:10:45 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-merge-master-x86_64/150/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-merge-master-x86_64/150/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-master-x86_64/150

https://jenkins.hyperledger.org/job/fabric-sdk-node8-merge-master-s390x/148/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-master-s390x/148</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Uploader</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Created</strong>: 9/19/2018, 2:18:05 PM<br><strong>UnmergedRevision</strong>: [65294ff5c19ac358d747c2ff29b34ab1da371799](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/65294ff5c19ac358d747c2ff29b34ab1da371799)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/19/2018, 2:43:28 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>Approved</strong>: 9/19/2018, 11:00:19 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L227](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L227)<br><strong>Comment</strong>: <pre>ChannelEventHub</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L227](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L227)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L256](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L256)<br><strong>Comment</strong>: <pre>This option is useful when the SDK don't have the user's privateKey and can't sign requests to the fabric network.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L256](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L256)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L260](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L260)<br><strong>Comment</strong>: <pre>"fabric peer service" or "fabric peer"</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L260](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L260)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L273](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L273)<br><strong>Comment</strong>: <pre>the fabric service for full (true) or filtered (false) blocks.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L273](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L273)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L320](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L320)<br><strong>Comment</strong>: <pre>fabric peer</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L320](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L320)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L354](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L354)<br><strong>Comment</strong>: <pre>I recommend to change all "peer fabric service" to "fabric peer" or "fabric peer service"</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L354](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L354)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Zhao Chaoyi - zhaochy_2015@hotmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L935](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L935)<br><strong>Comment</strong>: <pre>remove 'a'</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L935](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/65294ff5c19ac358d747c2ff29b34ab1da371799/fabric-client/lib/ChannelEventHub.js#L935)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Uploader</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Created</strong>: 9/20/2018, 9:41:32 AM<br><strong>UnmergedRevision</strong>: [25cba6651206d5e58113396aa931b5a034fe6817](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/25cba6651206d5e58113396aa931b5a034fe6817)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/20/2018, 10:10:11 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L102](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/25cba6651206d5e58113396aa931b5a034fe6817/fabric-client/lib/ChannelEventHub.js#L102)<br><strong>Comment</strong>: <pre>I'd suggest we reword this to give a little more guidance.  Something like:

When the fabric-client connects to the peer, it tells the peer which block to begin delivering from.  If no start block is provided, then the client will only receive events for the most recently committed block onwards.  To avoid missing events in blocks that are published while the client is crashed/offline, the client should record the most recently processed block, and resume event delivery from this block number on startup.  In this way, there is no custom recovery path for missed events, and the normal processing code may execute instead. You may also include an endBlock number if you wish to stop listening after receiving a range of events.</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Uploader</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Created</strong>: 9/21/2018, 12:54:39 PM<br><strong>UnmergedRevision</strong>: [505642d511570f43f852b4870f215ae5c9f1a317](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/505642d511570f43f852b4870f215ae5c9f1a317)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/21/2018, 1:28:29 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Uploader</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Created</strong>: 9/23/2018, 3:29:18 PM<br><strong>GitHubMergedRevision</strong>: [61cf4b2441c7c30eaf36aa744e9768a0e7edf722](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/61cf4b2441c7c30eaf36aa744e9768a0e7edf722)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/23/2018, 3:57:33 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Andrew Coleman - andrew_coleman@uk.ibm.com<br><strong>Approved</strong>: 9/24/2018, 3:44:33 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Andrew Coleman<br><strong>Merged</strong>: 9/24/2018, 3:44:38 AM<br><br></blockquote>