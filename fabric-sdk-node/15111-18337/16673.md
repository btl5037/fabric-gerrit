<strong>Project</strong>: fabric-sdk-node<br><strong>Branch</strong>: master<br><strong>ID</strong>: 16673<br><strong>Subject</strong>: [FAB-7514] NodeSDK add unability to channel events<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 1/8/2018, 4:06:05 PM<br><strong>LastUpdated</strong>: 1/16/2018, 5:10:24 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-7514] NodeSDK add unability to channel events

Add start and end block to the range of allowed block
when doing a replay/resume on the registration of
event listeners. Allow for auto unregistration and
disconnect. Add transaction status to the chaincode
events.

Address comments with change set 3

Change-Id: I3ecc288ba00e8e1c18dca487850b9b31daa62d89
Signed-off-by: Bret Harrison <beharrison@nc.rr.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 1/8/2018, 4:06:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2018, 4:06:13 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-s390x/78/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2018, 4:07:46 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-x86_64/251/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2018, 4:08:25 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node-vulnerable-tests-x86_64/173/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2018, 4:22:43 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-x86_64/251/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-x86_64/251/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-x86_64/251

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-s390x/78/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-s390x/78/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-s390x/78

https://jenkins.hyperledger.org/job/fabric-sdk-node-vulnerable-tests-x86_64/173/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node-vulnerable-tests-x86_64/173</pre><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 1/9/2018, 9:34:39 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2018, 9:34:47 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-s390x/79/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2018, 9:35:47 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-x86_64/252/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2018, 9:36:52 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node-vulnerable-tests-x86_64/174/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2018, 9:54:07 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-x86_64/252/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-x86_64/252

https://jenkins.hyperledger.org/job/fabric-sdk-node-vulnerable-tests-x86_64/174/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node-vulnerable-tests-x86_64/174

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-s390x/79/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-s390x/79</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/10/2018, 4:48:33 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(29 comments)</pre><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 1/15/2018, 6:31:19 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2018, 6:31:26 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-s390x/87/ (1/3)</pre><strong>Reviewer</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Reviewed</strong>: 1/15/2018, 6:32:00 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(29 comments)

address comments</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2018, 6:33:25 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-x86_64/260/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2018, 6:33:33 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-node-vulnerable-tests-x86_64/182/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2018, 6:47:23 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-x86_64/260/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-x86_64/260

https://jenkins.hyperledger.org/job/fabric-sdk-node-vulnerable-tests-x86_64/182/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node-vulnerable-tests-x86_64/182

https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-s390x/87/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-s390x/87</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 4:53:38 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+2</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 4:53:42 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Keith Smith</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 5:10:24 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-node8-merge-s390x/22/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-s390x/22

https://jenkins.hyperledger.org/job/fabric-sdk-node8-merge-x86_64/88/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-x86_64/88</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Uploader</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Created</strong>: 1/8/2018, 4:06:05 PM<br><strong>UnmergedRevision</strong>: [1152d0e52353eece64c36c5bd05469f67023f9a3](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/1152d0e52353eece64c36c5bd05469f67023f9a3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/8/2018, 4:22:43 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Uploader</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Created</strong>: 1/9/2018, 9:34:39 PM<br><strong>UnmergedRevision</strong>: [24198d906dd15fc4c2aa97893a14325d0fa11b4f](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/24198d906dd15fc4c2aa97893a14325d0fa11b4f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/9/2018, 9:54:07 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/10/2018, 4:48:33 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L4](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L4)<br><strong>Comment</strong>: <pre>lowercase "channel"</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L4](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L4)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L30](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L30)<br><strong>Comment</strong>: <pre>After reading this, I'm left thinking "OK, so what exactly does this mean I need to do or not do from an application developer's perspective using this feature?"  IIUC, I think you could simply say:

If you register for a block event and then submit a transaction, you should not make any assumptions about which block contains your transaction.  In particular, you should not assume that your transaction is in the block associated with the first block event received after registration.  Instead, you may simply register for a transaction event.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L30](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L30)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L77](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L77)<br><strong>Comment</strong>: <pre>The default value is the block number of the last block on the ledger.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L77](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L77)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L78](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L78)<br><strong>Comment</strong>: <pre>; therefore,</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L78](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L78)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L79](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L79)<br><strong>Comment</strong>: <pre>Does this mean "when startBlock and/or endBlock are specified"?  If yes, I'd say that.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L79](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L79)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L86](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L86)<br><strong>Comment</strong>: <pre>Start new paragraph here, and replace "This" with "Using startBlock and/or endBlock"</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L86](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L86)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L88](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L88)<br><strong>Comment</strong>: <pre>than the</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L88](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L88)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L89](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L89)<br><strong>Comment</strong>: <pre>The default endBlock value</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L89](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L89)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L90](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L90)<br><strong>Comment</strong>: <pre>I would just delete this as there is practically speaking no limit and don't want to alarm folks.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L90](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L90)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L91](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L91)<br><strong>Comment</strong>: <pre>; therefore,</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L91](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L91)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L92](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L92)<br><strong>Comment</strong>: <pre>when startBlock and/or endBlock are used</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L92](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L92)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L95](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L95)<br><strong>Comment</strong>: <pre>I think this boolean should only be used for chaincode events where the default is false.
For block events, we should always unregister when the endBlock is seen.
For transaction events, we should always unregister when the transaction is seen.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L95](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L95)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L97](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L97)<br><strong>Comment</strong>: <pre>include</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L97](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L97)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L100](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L100)<br><strong>Comment</strong>: <pre>; however,</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L100](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L100)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L182](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L182)<br><strong>Comment</strong>: <pre>an</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L182](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L182)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L184](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L184)<br><strong>Comment</strong>: <pre>as</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L184](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L184)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L186](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L186)<br><strong>Comment</strong>: <pre>be automatically unregistered and the ChannelEventHub shutdown</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L186](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L186)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L187](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L187)<br><strong>Comment</strong>: <pre>housekeeping</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L187](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L187)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L214](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L214)<br><strong>Comment</strong>: <pre>delete</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L214](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L214)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L221](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L221)<br><strong>Comment</strong>: <pre>I think this part of the API should be cleaned up in the future and recommend adding to a jira list.  newTransactionID returns an object which has a getTransactionID method and then we have a txID field in the request below which is assigned the tx_object.  Really? A little convoluted maybe :-)</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L221](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L221)<br><strong>Comment</strong>: <pre>https://jira.hyperledger.org/browse/FAB-7735</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L241](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L241)<br><strong>Comment</strong>: <pre>housekeeping</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L241](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L241)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L277](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L277)<br><strong>Comment</strong>: <pre>How about the following?

scan the chaincode events of the block and call each chaincode event listener whose pattern matches the chaincode event name.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L277](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L277)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L279](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L279)<br><strong>Comment</strong>: <pre>demonstrates</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L279](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L279)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L315](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L315)<br><strong>Comment</strong>: <pre>This obviously is a regular expression.
Where is the documentation of that part of the API?
I think this needs clarification.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [docs/tutorials/channel-events.md#L315](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/docs/tutorials/channel-events.md#L315)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L142](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L142)<br><strong>Comment</strong>: <pre>service</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L142](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L142)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L144](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L144)<br><strong>Comment</strong>: <pre>This comment is confusing (and the one above).
I recommend just removing or clarifying.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L144](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L144)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L267](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L267)<br><strong>Comment</strong>: <pre>Seems like you should call _shutdown 1st in case it sets _connect_running to false or some other variable now or in the future.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L267](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L267)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L565](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L565)<br><strong>Comment</strong>: <pre>I recommend phrasing error messages in terms of startBlock/endBlock rather than replay/resume for clarity to users.</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/ChannelEventHub.js#L565](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/ChannelEventHub.js#L565)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [fabric-client/lib/utils.js#L545](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/utils.js#L545)<br><strong>Comment</strong>: <pre>I think you should either throw an error or at least log an error here.  I'm concerned that a user have trouble debugging this if they pass an invalid string.  What about checking to see if value is a string and if so, try to call something to convert string to long which would hopefully give a real error message?</pre><strong>Commenter</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>CommentLine</strong>: [fabric-client/lib/utils.js#L545](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/blob/24198d906dd15fc4c2aa97893a14325d0fa11b4f/fabric-client/lib/utils.js#L545)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Uploader</strong>: Bret Harrison - beharrison@nc.rr.com<br><strong>Created</strong>: 1/15/2018, 6:31:19 PM<br><strong>GitHubMergedRevision</strong>: [2ce1ece3ee0e85e2bcc414e05da2c9ea75e5e803](https://github.com/hyperledger-gerrit-archive/fabric-sdk-node/commit/2ce1ece3ee0e85e2bcc414e05da2c9ea75e5e803)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2018, 6:47:23 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 1/16/2018, 4:53:38 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Keith Smith<br><strong>Merged</strong>: 1/16/2018, 4:53:42 PM<br><br></blockquote>