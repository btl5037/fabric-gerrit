<strong>Project</strong>: fabric-sdk-go<br><strong>Branch</strong>: master<br><strong>ID</strong>: 16329<br><strong>Subject</strong>: [FAB-7516] Cert/Key embed & file path combo<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 12/19/2017, 4:53:09 PM<br><strong>LastUpdated</strong>: 12/20/2017, 4:10:30 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-7516] Cert/Key embed & file path combo

Change-Id: I59c3d22cd01034fc7a79f70138dc81401f1820a4
Signed-off-by: Baha Shaaban <baha.shaaban@securekey.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 12/19/2017, 4:53:09 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 4:53:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/956/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 4:53:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/829/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 5:33:46 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/956/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/956/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/956

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/829/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/829</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/19/2017, 5:38:19 PM<br><strong>Message</strong>: <pre>Patch Set 1:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 5:38:28 PM<br><strong>Message</strong>: <pre>Patch Set 1: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/830/ (1/2)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/19/2017, 5:39:10 PM<br><strong>Message</strong>: <pre>Removed reviewer Sandra Vrtikapa.</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/19/2017, 5:39:10 PM<br><strong>Message</strong>: <pre>Removed reviewer Biljana Lukovic.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 5:40:44 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/957/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 6:14:57 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/957/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/957/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/957

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/830/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/830</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/19/2017, 7:26:30 PM<br><strong>Message</strong>: <pre>Patch Set 1:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 7:26:38 PM<br><strong>Message</strong>: <pre>Patch Set 1: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/831/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 7:30:22 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/958/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 8:11:14 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/958/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/958/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/958

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/831/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/831</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/19/2017, 9:47:23 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/19/2017, 9:54:12 PM<br><strong>Message</strong>: <pre>Patch Set 1:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 9:54:19 PM<br><strong>Message</strong>: <pre>Patch Set 1: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/832/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 9:56:29 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/959/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/19/2017, 10:19:03 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/959/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/959/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/959

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/832/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/832</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 12/20/2017, 8:55:17 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 12/20/2017, 10:56:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 10:57:18 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/833/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 10:58:47 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/960/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 11:39:35 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/960/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/960/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/960

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/833/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/833</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 12/20/2017, 11:51:33 AM<br><strong>Message</strong>: <pre>Patch Set 2:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 11:51:43 AM<br><strong>Message</strong>: <pre>Patch Set 2: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/834/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 11:53:02 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/961/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 12:34:01 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/961/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/961/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/961

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/834/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/834</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 12/20/2017, 12:45:46 PM<br><strong>Message</strong>: <pre>Patch Set 2:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 12:46:03 PM<br><strong>Message</strong>: <pre>Patch Set 2: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/835/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 12:46:20 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/962/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 1:27:30 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/962/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/962/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/962

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/835/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/835</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/20/2017, 1:47:59 PM<br><strong>Message</strong>: <pre>Patch Set 2:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 1:48:07 PM<br><strong>Message</strong>: <pre>Patch Set 2: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/836/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 1:48:55 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/963/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 2:39:13 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/963/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/963

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/836/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/836</pre><strong>Reviewer</strong>: Sudesh Shetty - sudesh.shetty@securekey.com<br><strong>Reviewed</strong>: 12/20/2017, 3:30:20 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+1</pre><strong>Reviewer</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>Reviewed</strong>: 12/20/2017, 3:34:22 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/20/2017, 3:34:48 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 12/20/2017, 3:35:02 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Firas Qutishat</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 12/20/2017, 3:35:52 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Emir - agree that would be an improvement.</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 12/20/2017, 3:52:21 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/20/2017, 4:10:30 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-merge-x86_64/245/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-merge-x86_64/245/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-x86_64/245

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-merge-s390x/192/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-s390x/192</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 12/19/2017, 4:53:09 PM<br><strong>UnmergedRevision</strong>: [c375b1a19b00469da30f2da03c6f377596163ff9](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/c375b1a19b00469da30f2da03c6f377596163ff9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/19/2017, 10:19:03 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [pkg/config/config.go#L831](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c375b1a19b00469da30f2da03c6f377596163ff9/pkg/config/config.go#L831)<br><strong>Comment</strong>: <pre>Although I suppose these nested if blocks achieve using the correct standard library funcs for the both pems & both path cases, it might have been simpler to just covert files to bytes...</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/config/config.go#L831](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c375b1a19b00469da30f2da03c6f377596163ff9/pkg/config/config.go#L831)<br><strong>Comment</strong>: <pre>will refactor the code..</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 12/20/2017, 10:56:32 AM<br><strong>GitHubMergedRevision</strong>: [56a7adb5f2bdef7ab83ee379505ff0280ddc2b6f](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/56a7adb5f2bdef7ab83ee379505ff0280ddc2b6f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/20/2017, 2:39:13 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 12/20/2017, 3:34:48 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Firas Qutishat<br><strong>Merged</strong>: 12/20/2017, 3:35:02 PM<br><br><strong>Approver</strong>: Sudesh Shetty - sudesh.shetty@securekey.com<br><strong>Approved</strong>: 12/20/2017, 3:30:20 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>CommentLine</strong>: [pkg/config/config.go#L832](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/56a7adb5f2bdef7ab83ee379505ff0280ddc2b6f/pkg/config/config.go#L832)<br><strong>Comment</strong>: <pre>Do those If statements need to be nested inside the other ifs? It seems to me that they can be outside and this way, they won't have to be repeated afterwards in the outer else.

Something like this:

if certPem != "" {
  cb = certpem
} else if certPath != "" {
  cb = load from certPath
}

if keyPem != "" {
  cb = keyPem
} else if keyPath != "" {
  cb = load from keyPath
}</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/config/config.go#L832](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/56a7adb5f2bdef7ab83ee379505ff0280ddc2b6f/pkg/config/config.go#L832)<br><strong>Comment</strong>: <pre>yes, makes sense.. I'll push another change to refactor this into another commit as this is already merged.

Thanks!</pre></blockquote>