<strong>Project</strong>: fabric-sdk-go<br><strong>Branch</strong>: master<br><strong>ID</strong>: 28643<br><strong>Subject</strong>: [FABG-813] Ch Client Metrics-Switch to Fabric impl<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 1/10/2019, 4:27:02 PM<br><strong>LastUpdated</strong>: 2/6/2019, 11:23:00 AM<br><strong>CommitMessage</strong>:<br><pre>[FABG-813] Ch Client Metrics-Switch to Fabric impl

	New MetricsConfig support has been added to load metrics config into
	the SDK and create a ClientMetrics instance for capturing metrics.

	Also fixed gometalinter tool as v2 tag is not available anymore.
	dependencies.sh has been updated with a more recent tag: v2.0.12

Change-Id: I3bb1809e0b7a6a18194cdca622e7834ebb80543a
Signed-off-by: Baha Shaaban <baha.shaaban@securekey.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/10/2019, 4:27:02 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/10/2019, 4:27:10 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4337/ (1/2)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/10/2019, 4:28:48 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

will have to pin all added Fabric files..</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/10/2019, 4:29:46 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4192/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/10/2019, 4:33:48 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4337/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4337

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4192/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4192</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/14/2019, 9:24:32 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 9:24:40 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4338/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 9:29:53 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4193/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 9:37:24 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4338/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4338

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4193/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4193</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/15/2019, 11:53:15 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 11:53:24 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4339/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 11:56:34 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4194/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 12:24:15 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4339/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4339

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4194/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4194</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/15/2019, 4:00:24 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/15/2019, 5:20:12 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 5:20:21 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4340/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 5:25:09 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4195/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 5:49:10 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4195/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4195

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4340/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4340</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/15/2019, 6:25:53 PM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify-x</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/15/2019, 6:28:43 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 6:29:27 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4196/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 7:00:13 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4196/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4196</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/16/2019, 2:01:42 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(2 comments)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/16/2019, 2:30:16 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 1/16/2019, 2:31:15 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/16/2019, 2:52:22 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(3 comments)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/17/2019, 9:50:58 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 9:51:06 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4341/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 9:52:41 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4197/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 10:18:04 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4341/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4341

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4197/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4197</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/17/2019, 11:33:59 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

init() function in pkg/common/metrics/init.go is not properly initialized as configs are not loaded yet, will need to add the call to an init with a config argument when initializing the SDK.

will push another patch soon</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/17/2019, 12:30:30 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 12:30:40 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4342/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 12:33:10 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4198/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 1:04:46 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4342/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4342

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4198/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4198</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 1/18/2019, 8:40:37 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(4 comments)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/18/2019, 9:59:20 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(4 comments)</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 1/18/2019, 4:01:02 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/21/2019, 9:57:14 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 1/21/2019, 10:21:18 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/21/2019, 11:43:54 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/31/2019, 3:10:39 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/31/2019, 3:10:49 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4386/ (1/2)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/31/2019, 3:11:27 PM<br><strong>Message</strong>: <pre>Patch Set 7:

metrics are now passed to the channel client via context, no more global variables used</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/31/2019, 3:15:52 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4233/ (2/2)</pre><strong>Reviewer</strong>: Sandra Vrtikapa - sandra.vrtikapa@securekey.com<br><strong>Reviewed</strong>: 1/31/2019, 3:22:49 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 1/31/2019, 3:51:58 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/31/2019, 3:56:01 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4386/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4386

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4233/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4233</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 11:22:19 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/1/2019, 11:22:30 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4387/ (1/2)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 11:22:51 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/1/2019, 11:26:25 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4234/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/1/2019, 11:48:53 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4234/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4234

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4387/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4387</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 12:06:24 PM<br><strong>Message</strong>: <pre>Patch Set 8:

reverify-x</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/1/2019, 12:08:31 PM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4235/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/1/2019, 12:40:27 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4235/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4235</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 12:41:00 PM<br><strong>Message</strong>: <pre>Patch Set 8:

reverify-x</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/1/2019, 12:42:55 PM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4236/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/1/2019, 1:25:25 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4236/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4236</pre><strong>Reviewer</strong>: Sandra Vrtikapa - sandra.vrtikapa@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 3:00:12 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review+1</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 3:20:30 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review+2</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 3:24:35 PM<br><strong>Message</strong>: <pre>Removed Code-Review+2 by Firas Qutishat <firas.qutishat@securekey.com>
</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 3:27:52 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review+2</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 4:09:37 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 5:06:32 PM<br><strong>Message</strong>: <pre>Removed Code-Review+2 by Firas Qutishat <firas.qutishat@securekey.com>
</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/1/2019, 5:07:15 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 2:44:44 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 2:44:57 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4388/ (1/2)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 2:46:05 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 2:50:12 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4237/ (2/2)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 3:11:34 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 3:12:23 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 3:12:32 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4389/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 3:12:35 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4388/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4388

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4237/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4237</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 3:20:28 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4238/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 4:04:16 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4389/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4389

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4238/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4238</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 4:27:54 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(3 comments)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 4:48:34 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(3 comments)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 4:52:48 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 4:52:57 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4390/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 4:57:47 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4239/ (2/2)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 4:58:04 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 4:58:13 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4391/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 4:59:04 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4390/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4390

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4239/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4239</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 5:02:05 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4240/ (2/2)</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 5:14:57 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 5:15:08 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4392/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 5:15:47 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4391/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4391

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4240/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4240</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 5:20:13 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4241/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 5:46:59 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4392/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4392

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4241/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4241</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/5/2019, 7:06:17 PM<br><strong>Message</strong>: <pre>Patch Set 13:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 7:06:28 PM<br><strong>Message</strong>: <pre>Patch Set 13: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4393/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 7:11:43 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4242/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/5/2019, 7:46:39 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4393/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4393

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/4242/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/4242</pre><strong>Reviewer</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Reviewed</strong>: 2/6/2019, 9:49:29 AM<br><strong>Message</strong>: <pre>Patch Set 13:

reverify-z</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/6/2019, 9:49:40 AM<br><strong>Message</strong>: <pre>Patch Set 13: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4394/</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 2/6/2019, 10:05:04 AM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/6/2019, 10:16:22 AM<br><strong>Message</strong>: <pre>Patch Set 13: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/4394/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/4394</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 2/6/2019, 10:53:50 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Firas Qutishat</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/6/2019, 11:23:00 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-merge-x86_64/975/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-x86_64/975

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-merge-s390x/924/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-s390x/924</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 1/10/2019, 4:27:02 PM<br><strong>UnmergedRevision</strong>: [c67cf6da722bea3ed88400b8f99572b0180e4817](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/c67cf6da722bea3ed88400b8f99572b0180e4817)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/10/2019, 4:33:48 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Approved</strong>: 1/10/2019, 4:28:48 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 1/14/2019, 9:24:32 PM<br><strong>UnmergedRevision</strong>: [693afebb6bf0616657985312dfcfb3cd7ac38d25](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/693afebb6bf0616657985312dfcfb3cd7ac38d25)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/14/2019, 9:37:24 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 1/15/2019, 11:53:15 AM<br><strong>UnmergedRevision</strong>: [d7848cdee9ca1176d81b8e6f7015b6d710e91aa7](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/d7848cdee9ca1176d81b8e6f7015b6d710e91aa7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2019, 12:24:15 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [scripts/third_party_pins/fabric/apply_fabric_client_utils.sh#L468](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/d7848cdee9ca1176d81b8e6f7015b6d710e91aa7/scripts/third_party_pins/fabric/apply_fabric_client_utils.sh#L468)<br><strong>Comment</strong>: <pre>any reason why this is duplicated here? it's already registered for filtering at line 286 above, it is causes the third party_pin to generate a duplicate comment (Troy?)

If not needed, I will remove these two lines</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 1/15/2019, 5:20:12 PM<br><strong>UnmergedRevision</strong>: [5dfed63a5001ebff50be1fd05f7e9d42638a3341](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/5dfed63a5001ebff50be1fd05f7e9d42638a3341)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2019, 7:00:13 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 1/16/2019, 2:30:16 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Approved</strong>: 1/15/2019, 6:28:43 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [internal/github.com/hyperledger/fabric/sdkpatch/logbridge/httpadmin/spec.go#L1](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/5dfed63a5001ebff50be1fd05f7e9d42638a3341/internal/github.com/hyperledger/fabric/sdkpatch/logbridge/httpadmin/spec.go#L1)<br><strong>Comment</strong>: <pre>why is this file within logbridge?</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [internal/github.com/hyperledger/fabric/sdkpatch/logbridge/httpadmin/spec.go#L1](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/5dfed63a5001ebff50be1fd05f7e9d42638a3341/internal/github.com/hyperledger/fabric/sdkpatch/logbridge/httpadmin/spec.go#L1)<br><strong>Comment</strong>: <pre>it's originally under flogging/httpadmin but since there is no flogging in the internal pinned Fabric version, I've added it under logbridge(the equivalent of flogging).</pre><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [pkg/client/channel/chclient.go#L41](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/5dfed63a5001ebff50be1fd05f7e9d42638a3341/pkg/client/channel/chclient.go#L41)<br><strong>Comment</strong>: <pre>I don't think we should be adding package globals and onces.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/chclient.go#L41](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/5dfed63a5001ebff50be1fd05f7e9d42638a3341/pkg/client/channel/chclient.go#L41)<br><strong>Comment</strong>: <pre>we only need a singleton of ClientMetrics and System for the SDK.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/chclient.go#L41](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/5dfed63a5001ebff50be1fd05f7e9d42638a3341/pkg/client/channel/chclient.go#L41)<br><strong>Comment</strong>: <pre>Prometheus uses a global registry, we cannot set ClientMetrics in the SDK's context as it throws panics on multiple sdk.New() calls:
panic: duplicate metrics collector registration attempted [recovered]
	panic: duplicate metrics collector registration attempted

therefore ClientMetrics has to be a global variable to avoid this panic error</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/clientrun_perf.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/5dfed63a5001ebff50be1fd05f7e9d42638a3341/pkg/client/channel/clientrun_perf.go#L0)<br><strong>Comment</strong>: <pre>I think we should still have the build tag so that those that don't need metrics don't have to run any metrics code.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/clientrun_perf.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/5dfed63a5001ebff50be1fd05f7e9d42638a3341/pkg/client/channel/clientrun_perf.go#L0)<br><strong>Comment</strong>: <pre>I'll bring back the build pprof tag</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 1/17/2019, 9:50:58 AM<br><strong>UnmergedRevision</strong>: [5737d9df6b8c03d3b874a38f9690066027677f51](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/5737d9df6b8c03d3b874a38f9690066027677f51)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 10:18:04 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Approved</strong>: 1/17/2019, 11:33:59 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 1/17/2019, 12:30:30 PM<br><strong>UnmergedRevision</strong>: [c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 1:04:46 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L0)<br><strong>Comment</strong>: <pre>This file should have the pprof build tag.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L0)<br><strong>Comment</strong>: <pre>this package is referenced in fabsdk now, add this build tag means we have to duplicate fabsdk with a tag as well</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L0)<br><strong>Comment</strong>: <pre>You can have another file in this package that has the !pprof tag which defines InitMetrics as a noop.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L0)<br><strong>Comment</strong>: <pre>one of the metrics providers is called DISABLED which is similar to noop, I guess this is why Fabric don't use build tags for metrics.</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L0)<br><strong>Comment</strong>: <pre>There's a lot of code that is needlessly run in InitMetrics that doesn't need to be run when metrics are not used.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L0)<br><strong>Comment</strong>: <pre>I guess what you mean is avoid setting all of this setup if pprof tag is not set. I will create a duplicate file to skip this setup for SDK running in normal mode.</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L27](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L27)<br><strong>Comment</strong>: <pre>Should this be an error condition?</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/init.go#L27](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/init.go#L27)<br><strong>Comment</strong>: <pre>I can add a panic here if needed. But the sdk should not panic or throw an error if configs are not set, the metrics will be ignored. 

or I can return an error to the caller and ignore metrics in case of errors</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/common/metrics/metrics.go#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/common/metrics/metrics.go#L0)<br><strong>Comment</strong>: <pre>This file should have the pprof build tag.</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L312](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/fabsdk/fabsdk.go#L312)<br><strong>Comment</strong>: <pre>This shouldn't be initialized here - should move to initSDK.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L312](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/c0651d11bbdc65d95b1a9b4c9ffc4887a6159a44/pkg/fabsdk/fabsdk.go#L312)<br><strong>Comment</strong>: <pre>I can move this change up in initSDK</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 1/31/2019, 3:10:39 PM<br><strong>UnmergedRevision</strong>: [2e9a801e47279bed3e54e23c2ae9d5d56c3eb741](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/2e9a801e47279bed3e54e23c2ae9d5d56c3eb741)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/31/2019, 3:56:01 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Sandra Vrtikapa - sandra.vrtikapa@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/chclient_perf.go#L47](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/2e9a801e47279bed3e54e23c2ae9d5d56c3eb741/pkg/client/channel/chclient_perf.go#L47)<br><strong>Comment</strong>: <pre>Can you extract struct in different files and apply build tags there. We should be able to do it without duplicating code.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/chclient_perf.go#L47](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/2e9a801e47279bed3e54e23c2ae9d5d56c3eb741/pkg/client/channel/chclient_perf.go#L47)<br><strong>Comment</strong>: <pre>will remove build tag from this file and split only the changing strucs and do the same for pkg/context/context.go as well (and hopefully fabsdk.go too)</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/chclient_perf.go#L47](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/2e9a801e47279bed3e54e23c2ae9d5d56c3eb741/pkg/client/channel/chclient_perf.go#L47)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 2/1/2019, 11:22:19 AM<br><strong>UnmergedRevision</strong>: [af4062e356cecbc3e533362ba2791c04f0d05e53](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/af4062e356cecbc3e533362ba2791c04f0d05e53)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/1/2019, 1:25:25 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Sandra Vrtikapa - sandra.vrtikapa@securekey.com<br><strong>Approved</strong>: 2/1/2019, 3:00:12 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk_perf.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/af4062e356cecbc3e533362ba2791c04f0d05e53/pkg/fabsdk/fabsdk_perf.go#L32)<br><strong>Comment</strong>: <pre>I'm not crazy about this entire structure being copied in two places - it makes the code harder to maintain. Can you make ClientMetrics an interface and then have different implementations - depending on the build tag?</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk_perf.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/af4062e356cecbc3e533362ba2791c04f0d05e53/pkg/fabsdk/fabsdk_perf.go#L32)<br><strong>Comment</strong>: <pre>sure, I'll move FabricSDK to the original file and find a way to expose a common instance of the metrics where regular non perf code has a noop metrics reference and the performance metrics code uses a real instance of ClientMetrics.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk_perf.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/af4062e356cecbc3e533362ba2791c04f0d05e53/pkg/fabsdk/fabsdk_perf.go#L32)<br><strong>Comment</strong>: <pre>the structure has been restored in its original location. There is no more duplication of structures in the latest patch.</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 2/5/2019, 2:44:44 PM<br><strong>UnmergedRevision</strong>: [1bab671db2b3979a18f12ed0e4fec84a801c0833](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/1bab671db2b3979a18f12ed0e4fec84a801c0833)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/5/2019, 3:12:35 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/client/channel/chclientrun_std.go#L15](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/1bab671db2b3979a18f12ed0e4fec84a801c0833/pkg/client/channel/chclientrun_std.go#L15)<br><strong>Comment</strong>: <pre>this is no longer needed, I will remove it</pre></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 2/5/2019, 3:12:23 PM<br><strong>UnmergedRevision</strong>: [1f1c2850d04e2454ccddcb0790cbeec80196ddaa](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/1f1c2850d04e2454ccddcb0790cbeec80196ddaa)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/5/2019, 4:04:16 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L269](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/1f1c2850d04e2454ccddcb0790cbeec80196ddaa/pkg/fabsdk/fabsdk.go#L269)<br><strong>Comment</strong>: <pre>Instead of calling extraEinit - you can call initMetrics. The non pprof build would have a noop initMetrics.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L269](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/1f1c2850d04e2454ccddcb0790cbeec80196ddaa/pkg/fabsdk/fabsdk.go#L269)<br><strong>Comment</strong>: <pre>indeed, and no need to pass in other than cfg, the other arguments are not needed anymore

I will replace this call to initMetrics.</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L506](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/1f1c2850d04e2454ccddcb0790cbeec80196ddaa/pkg/fabsdk/fabsdk.go#L506)<br><strong>Comment</strong>: <pre>Shouldn't this function also be a noop for the non pprof build?</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L506](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/1f1c2850d04e2454ccddcb0790cbeec80196ddaa/pkg/fabsdk/fabsdk.go#L506)<br><strong>Comment</strong>: <pre>the configs are loaded regardless of the build tag since they do exist in the yaml file.</pre><strong>Commenter</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk_std.go#L21](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/1f1c2850d04e2454ccddcb0790cbeec80196ddaa/pkg/fabsdk/fabsdk_std.go#L21)<br><strong>Comment</strong>: <pre>Instead of this function, I would have a noop initMetrics.</pre><strong>Commenter</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk_std.go#L21](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/1f1c2850d04e2454ccddcb0790cbeec80196ddaa/pkg/fabsdk/fabsdk_std.go#L21)<br><strong>Comment</strong>: <pre>Provider: "disabled" at line 27 below uses the disabled version of metrics which is equivalent to noop

I can rename the function to initMetrics</pre></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 2/5/2019, 4:52:48 PM<br><strong>UnmergedRevision</strong>: [2a9323e0685d197a9b7e1fb77ff391f1f3580250](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/2a9323e0685d197a9b7e1fb77ff391f1f3580250)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/5/2019, 4:59:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 2/5/2019, 4:58:04 PM<br><strong>UnmergedRevision</strong>: [f7bd4373795d2691b812c61a8f71f24f247efc88](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/f7bd4373795d2691b812c61a8f71f24f247efc88)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/5/2019, 5:15:47 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Uploader</strong>: Baha A Shaaban - baha.shaaban@securekey.com<br><strong>Created</strong>: 2/5/2019, 5:14:57 PM<br><strong>GitHubMergedRevision</strong>: [7df511b8025cf1006a5c500ca5e7e4dcbc718c49](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/7df511b8025cf1006a5c500ca5e7e4dcbc718c49)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/6/2019, 10:16:22 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Firas Qutishat<br><strong>Merged</strong>: 2/6/2019, 10:53:50 AM<br><br><strong>Approver</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Approved</strong>: 2/6/2019, 10:05:04 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>