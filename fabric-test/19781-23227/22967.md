<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 22967<br><strong>Subject</strong>: [FAB-10589] PTE configure anchor peers<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 6/11/2018, 8:24:10 PM<br><strong>LastUpdated</strong>: 7/24/2018, 5:51:01 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-10589] PTE configure anchor peers

PTE code changes for client.updateChannel(request),
useful for setting Anchor Peers.

Change-Id: Ica826f59bb17f8514b33401dcd22b8d22edb1355
Signed-off-by: Scott Zwierzynski <scottz@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/11/2018, 8:24:10 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2018, 8:27:45 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1389/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2018, 9:56:01 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1389/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1389</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/18/2018, 8:32:28 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/18/2018, 8:33:05 PM<br><strong>Message</strong>: <pre>Patch Set 3: Patch Set 2 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/18/2018, 8:33:08 PM<br><strong>Message</strong>: <pre>Patch Set 2:

No Builds Executed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/18/2018, 8:36:52 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1425/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/18/2018, 10:11:04 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1425/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1425/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1425</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/19/2018, 12:06:14 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/19/2018, 12:07:33 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1430/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/19/2018, 1:36:14 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1430/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1430/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1430</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/21/2018, 2:15:22 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(1 comment)

need to merge your changes on top of latest PTE</pre><strong>Reviewer</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Reviewed</strong>: 6/27/2018, 10:44:12 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 10:46:11 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1498/</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/27/2018, 11:16:57 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/27/2018, 11:29:11 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/27/2018, 11:45:00 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 11:45:43 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1498/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1498/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1498</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 11:48:14 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1499/</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/27/2018, 12:16:42 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 12:20:27 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1500/</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/27/2018, 12:25:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 12:26:07 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1500/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1500/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1500</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 12:30:15 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1501/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 1:13:01 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1499/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1499/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1499</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2018, 2:09:36 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1501/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1501/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1501</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/27/2018, 2:48:35 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/28/2018, 6:08:06 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 7/24/2018, 5:51:01 PM<br><strong>Message</strong>: <pre>Abandoned

This is replaced by https://gerrit.hyperledger.org/r/#/c/24477/ which solves FAB-10589 as well as adds a testcase for FAB-10135.</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 6/11/2018, 8:24:10 PM<br><strong>UnmergedRevision</strong>: [d775ec2f04be801748785b94294ed9e849d7f770](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/d775ec2f04be801748785b94294ed9e849d7f770)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2018, 9:56:01 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 6/18/2018, 8:32:28 PM<br><strong>UnmergedRevision</strong>: [3c91725eee8cabfc9fa8b2b9a9bf064f9d08d2d4](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/3c91725eee8cabfc9fa8b2b9a9bf064f9d08d2d4)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 6/18/2018, 8:33:05 PM<br><strong>UnmergedRevision</strong>: [fc96d83635a8067b6a9a7d940d68ffb76ca1cca0](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/fc96d83635a8067b6a9a7d940d68ffb76ca1cca0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/18/2018, 10:11:04 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 6/19/2018, 12:06:14 PM<br><strong>UnmergedRevision</strong>: [ea1a6304a236ee05dae9992fb9427761e7dc87b2](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/ea1a6304a236ee05dae9992fb9427761e7dc87b2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/19/2018, 1:36:14 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Approved</strong>: 6/21/2018, 2:15:22 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L113](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/ea1a6304a236ee05dae9992fb9427761e7dc87b2/tools/PTE/pte-main.js#L113)<br><strong>Comment</strong>: <pre>you need to merge your changes on top of the latest PTE changes.</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Created</strong>: 6/27/2018, 10:44:12 AM<br><strong>UnmergedRevision</strong>: [799b165c5e79f23bb4ebffbd82fcf0230b1decd8](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/799b165c5e79f23bb4ebffbd82fcf0230b1decd8)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/27/2018, 11:45:43 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Approved</strong>: 6/27/2018, 11:29:11 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 6/27/2018, 11:16:57 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L186](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/799b165c5e79f23bb4ebffbd82fcf0230b1decd8/tools/PTE/pte-main.js#L186)<br><strong>Comment</strong>: <pre>we can delete this. createOrUpdateOneChannel function declares it internally in the procedure signature.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L700](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/799b165c5e79f23bb4ebffbd82fcf0230b1decd8/tools/PTE/pte-main.js#L700)<br><strong>Comment</strong>: <pre>no need for the third argument.  just use channelOpt.action</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L790](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/799b165c5e79f23bb4ebffbd82fcf0230b1decd8/tools/PTE/pte-main.js#L790)<br><strong>Comment</strong>: <pre>same as above</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1072](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/799b165c5e79f23bb4ebffbd82fcf0230b1decd8/tools/PTE/pte-main.js#L1072)<br><strong>Comment</strong>: <pre>no need to have third argument for 'CREATE' or 'UPDATE', just use channelOpt.action which is fixed var.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1076](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/799b165c5e79f23bb4ebffbd82fcf0230b1decd8/tools/PTE/pte-main.js#L1076)<br><strong>Comment</strong>: <pre>This is getting ugly to maintain, and it should provide error log msgs. I will submit an alternative with a new patchset.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1087](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/799b165c5e79f23bb4ebffbd82fcf0230b1decd8/tools/PTE/pte-main.js#L1087)<br><strong>Comment</strong>: <pre>we can delete these lines</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 6/27/2018, 11:45:00 AM<br><strong>UnmergedRevision</strong>: [1dca8f7c972bbb5bcc9f8e89e8ef06eacf8eca4f](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/1dca8f7c972bbb5bcc9f8e89e8ef06eacf8eca4f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/27/2018, 1:13:01 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 6/27/2018, 12:16:42 PM<br><strong>UnmergedRevision</strong>: [a398a1e46897ac1c85e1fb3bce85f6a7adc44546](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/a398a1e46897ac1c85e1fb3bce85f6a7adc44546)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/27/2018, 12:26:07 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 6/27/2018, 12:25:05 PM<br><strong>UnmergedRevision</strong>: [9f55520babf2a6016bf7f04801fcbf98df616b53](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/9f55520babf2a6016bf7f04801fcbf98df616b53)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/27/2018, 2:09:36 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Approved</strong>: 6/27/2018, 2:48:35 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1067](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9f55520babf2a6016bf7f04801fcbf98df616b53/tools/PTE/pte-main.js#L1067)<br><strong>Comment</strong>: <pre>This if-else will not work for join channel since its transType is CHANNEL.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1067](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9f55520babf2a6016bf7f04801fcbf98df616b53/tools/PTE/pte-main.js#L1067)<br><strong>Comment</strong>: <pre>Please explain. It seems ok to me. We get to this point if transType == CHANNEL and below we call joinChannel if the channelOpt.action == join. We do not want to call createOrUpdateOneChannel() if the action is join.</pre></blockquote>