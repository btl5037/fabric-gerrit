<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 24477<br><strong>Subject</strong>: FAB-10135 Concurrent Operation Invoke and Query<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 7/17/2018, 6:22:55 AM<br><strong>LastUpdated</strong>: 7/24/2018, 7:01:18 PM<br><strong>CommitMessage</strong>:<br><pre>FAB-10135 Concurrent Operation Invoke and Query

FAB-10135 SideDB - CouchDB Performance Test: Concurrent Operation Invoke and Query
FAB-10589 enhance PTE to configure anchor peers

Change-Id: Ie568bd1724fea1a5c7175e29488acd65dee16cbf
Signed-off-by: rlalgowdar <Rajesh.Lalgowdar@ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Reviewed</strong>: 7/17/2018, 6:22:55 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2018, 6:24:50 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1547/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/17/2018, 7:40:10 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1547/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1547/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1547</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 7/17/2018, 11:25:49 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(8 comments)

in addition to the comments on each files, please update the README in PTE directory with the 'update' option.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 7/17/2018, 3:16:51 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 7/17/2018, 11:24:37 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(13 comments)</pre><strong>Reviewer</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Reviewed</strong>: 7/20/2018, 6:05:51 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/20/2018, 6:51:35 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1570/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/20/2018, 7:07:20 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1570/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1570/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1570</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 7/20/2018, 10:12:23 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(7 comments)

Most of your fixes in patchset2 look good. Just a few clarifications needed to make everything consistent and clear.

Also, I am not sure WHY the verify-job failed, but it does not appear to be related to these changes. I know Ramesh is fixing some more basic things and we can hope it doesn't happen again.

10:55:17 Cloning into 'fabric'...
11:06:41 error: RPC failed; curl 56 GnuTLS recv error (-9): A TLS packet with unexpected length was received.
11:06:41 fatal: The remote end hung up unexpectedly
11:06:41 fatal: early EOF
11:06:41 fatal: index-pack failed
11:06:41 fatal: clone of 'https://gerrit.hyperledger.org/r/fabric' into submodule path 'fabric' failed
11:06:41 Makefile:54: recipe for target 'git-init' failed
11:06:41 make: *** [git-init] Error 128
11:06:41 Build step 'Execute shell' marked build as failure</pre><strong>Reviewer</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Reviewed</strong>: 7/24/2018, 5:30:04 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2018, 5:34:11 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1584/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2018, 7:27:07 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1584/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1584/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1584</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 7/24/2018, 4:19:33 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+1

looks good to me</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 7/24/2018, 5:46:49 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1 Code-Review+2

Looks OK. And, based on your updates, I went ahead and edited the jira testcase description of FAB-10135, to reflect the actual testcase steps that we are merging. Done!</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 7/24/2018, 5:47:08 PM<br><strong>Message</strong>: <pre>Patch Set 4: Patch Set 3 was rebased</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 7/24/2018, 5:47:19 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/24/2018, 7:01:18 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/375/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/375</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Uploader</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Created</strong>: 7/17/2018, 6:22:55 AM<br><strong>UnmergedRevision</strong>: [6caaca7d1b5729fc309986e5509e3036376c2024](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/6caaca7d1b5729fc309986e5509e3036376c2024)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/17/2018, 7:40:10 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Approved</strong>: 7/17/2018, 11:25:49 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 7/17/2018, 11:24:37 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L9](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024//COMMIT_MSG#L9)<br><strong>Comment</strong>: <pre>And insert another line, to identify the other jira task:
FAB-10589 enhance PTE to configure anchor peers</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4i/preconfig/channels/chan1-join-TLS.json#L13](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4i/preconfig/channels/chan1-join-TLS.json#L13)<br><strong>Comment</strong>: <pre>remove the trailing space</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4i/preconfig/marbles02_private/collections_config-chan1.json#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4i/preconfig/marbles02_private/collections_config-chan1.json#L0)<br><strong>Comment</strong>: <pre>Is there a reason you created this file, instead of reusing  PTE/marblescc_privInputs/collections_config-chan1.json ?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4i/preconfig/marbles02_private/marbles02_private-chan1-instantiate-TLS.json#L12](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4i/preconfig/marbles02_private/marbles02_private-chan1-instantiate-TLS.json#L12)<br><strong>Comment</strong>: <pre>we can delete one of these orgs. we only need to instantiate in one org. (Leaving both in the list would still work though.)</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4i/preconfig/marbles02_private/marbles02_private-chan1-instantiate-TLS.json#L13](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4i/preconfig/marbles02_private/marbles02_private-chan1-instantiate-TLS.json#L13)<br><strong>Comment</strong>: <pre>remove training spaces</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/PTEMgr-FAB-10135-4q-TLS.txt#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/PTEMgr-FAB-10135-4q-TLS.txt#L0)<br><strong>Comment</strong>: <pre>Just a thought: I might have preferred to change the directory name from
CITest/FAB-10135-4q
to
CITest/FAB-10135-4iq
since your query scripts are doing both invokes and queries simultaneously. But it is probably too late now, since all the files as well as the contents (pathnames) inside the files would have to be changed.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L35](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L35)<br><strong>Comment</strong>: <pre>1. Do we still need to limit the frequency, in order to make this test pass? (This comment applies to all similar *-4i-* filenames.) For example, did you try it recently with constFreq = 0? What symptoms are observed? Is there a bug opened for that?
2. Did Artem ever merge that other bug/improvement item to improve the throughput? 
3. If we use this frequency (200), could we run longer (forever?) in your vlaunch test environment? If not, how long, or how many msgs, until we see problems?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L50](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L50)<br><strong>Comment</strong>: <pre>why the keyStart is 4000?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L50](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L50)<br><strong>Comment</strong>: <pre>I think is because theFAB-10135-4i part of the test sent the first 4000 invokes already, and this 10135-4q invokes script will send 4000-7999 WHILE sending 8000 queries.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L0)<br><strong>Comment</strong>: <pre>This file is unused, if I am not mistaken. I don't have a big objection to leaving it here, but if you do keep it then I would rather you fix up the other comments in this file, so it is more like the 10135-4qpv rather than like the old 10134-4q.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L10](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L10)<br><strong>Comment</strong>: <pre>AllPeers</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L11](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L11)<br><strong>Comment</strong>: <pre>It might go a bit faster if we set this to 2 while changing targetPeers to AllPeers and while listing both orgs in the orgName list below, to spread the threads across all peers in both orgs, instead of using only org1. (The way you did it would use org2 peers only to handle invokes but NO queries threads. And I noticed the private queries (in the next file) use all 4 peers.). What was the intent?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L19](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4q-TLS.json#L19)<br><strong>Comment</strong>: <pre>append:
  , "org2"</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4qpv-TLS.json#L12](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4qpv-TLS.json#L12)<br><strong>Comment</strong>: <pre>The jira description says you are executing 8000 private data queries, but I think this script only does 4000. Should we change this to 2000? I am not sure if that would work correctly, depending on how the key/value pairs are numbered and inserted into the DB; I am concerned about whether or not the queries will query all of the 8000 invokes correctly, so let's be sure to rerun this test after fixing it. I am thinking we might need one thread to query 0-999 and then 4000-4999, rather than 0-1999 (which is what would occur when using nRequest=2000, if I understand the logic correctly).

I remember you did 4000 invokes inside 10135-4i/ invokes script, and then used keyStart=4000 when doing another 4000 invokes here inside the 10135-4q/ invokes script). You can try it, but if it does not work right then we may need to look at the code or ask Dongming how to setup this testcase. (One option is to do the queries in two steps, with the second script starting at keyStart 4000, to mimic the two steps used by the two invokes scripts. But that may not satisfy the purpose of the test.)</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4qpv-TLS.json#L20](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4qpv-TLS.json#L20)<br><strong>Comment</strong>: <pre>remove training space</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/runCases-FAB-10135-4q1-TLS.txt#L1](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/FAB-10135-4q/marbles02_private/runCases-FAB-10135-4q1-TLS.txt#L1)<br><strong>Comment</strong>: <pre>remove this line</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/README.md#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/README.md#L0)<br><strong>Comment</strong>: <pre>We also must make these changes in this Readme file:  https://gerrit.hyperledger.org/r/#/c/22967/8/tools/PTE/README.md</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scenarios/FAB-10135-4i.sh#L26](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/scenarios/FAB-10135-4i.sh#L26)<br><strong>Comment</strong>: <pre>remove trailing space</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scenarios/FAB-10135-4i.sh#L26](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/CITest/scenarios/FAB-10135-4i.sh#L26)<br><strong>Comment</strong>: <pre>4 threads x 1000 invokes each, while 4 threads x 2000 queries each</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L776](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/pte-main.js#L776)<br><strong>Comment</strong>: <pre>remove white space</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L837](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/pte-main.js#L837)<br><strong>Comment</strong>: <pre>remove these two lines</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L852](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/6caaca7d1b5729fc309986e5509e3036376c2024/tools/PTE/pte-main.js#L852)<br><strong>Comment</strong>: <pre>need indent</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Uploader</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Created</strong>: 7/20/2018, 6:05:51 AM<br><strong>UnmergedRevision</strong>: [39d0081f9133dd23babf2caa79179b043f9c79c3](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/39d0081f9133dd23babf2caa79179b043f9c79c3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/20/2018, 7:07:20 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 7/20/2018, 10:12:23 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/PTEMgr-FAB-10135-4q-TLS.txt#L1](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/39d0081f9133dd23babf2caa79179b043f9c79c3/tools/PTE/CITest/FAB-10135-4q/marbles02_private/PTEMgr-FAB-10135-4q-TLS.txt#L1)<br><strong>Comment</strong>: <pre>4i2</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/39d0081f9133dd23babf2caa79179b043f9c79c3/tools/PTE/CITest/FAB-10135-4q/marbles02_private/marbles02_private-chan1-FAB-10135-4i-TLS.json#L0)<br><strong>Comment</strong>: <pre>Since this is the 2nd set of invokes (4000-7999), could we rename this file as 4i2 (i.e. "marbles02_private-chan1-FAB-10135-4i2-TLS.json")? It currently is the same filename as the one in the FAB-10135-4i directory structure.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-10135-4q/marbles02_private/runCases-FAB-10135-4i1-TLS.txt#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/39d0081f9133dd23babf2caa79179b043f9c79c3/tools/PTE/CITest/FAB-10135-4q/marbles02_private/runCases-FAB-10135-4i1-TLS.txt#L0)<br><strong>Comment</strong>: <pre>Similarly, can we rename this file as 4i2 (e.g. "runCases-FAB-10135-4i2-TLS.txt")?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/README.md#L95](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/39d0081f9133dd23babf2caa79179b043f9c79c3/tools/PTE/CITest/README.md#L95)<br><strong>Comment</strong>: <pre>1000</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/README.md#L96](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/39d0081f9133dd23babf2caa79179b043f9c79c3/tools/PTE/CITest/README.md#L96)<br><strong>Comment</strong>: <pre>and 4 process X 1000 query</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/README.md#L96](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/39d0081f9133dd23babf2caa79179b043f9c79c3/tools/PTE/CITest/README.md#L96)<br><strong>Comment</strong>: <pre>1000</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scenarios/FAB-10135-4i.sh#L26](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/39d0081f9133dd23babf2caa79179b043f9c79c3/tools/PTE/CITest/scenarios/FAB-10135-4i.sh#L26)<br><strong>Comment</strong>: <pre>and 4 threads x 1000 queries for private data
(and change the jira to say we are only querying 4000, not 8000 - which should be sufficient to get TPS numbers, which means the 2nd set of 4000 invokes is merely background noise).

If you decide to keep the 8000 queries, and figure out how to get that working, then we should change this accordingly.</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Uploader</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Created</strong>: 7/24/2018, 5:30:04 AM<br><strong>UnmergedRevision</strong>: [773e20debf918f2c77071258c079781ed812fa04](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/773e20debf918f2c77071258c079781ed812fa04)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/24/2018, 7:27:07 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Approved</strong>: 7/24/2018, 4:19:33 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 7/24/2018, 5:46:49 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 7/24/2018, 5:46:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Rajesh Lalgowdar - Rajesh.Lalgowdar@ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 7/24/2018, 5:47:08 PM<br><strong>GitHubMergedRevision</strong>: [b60255daf662fce5607738f66613fb2ab861ad4f](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/b60255daf662fce5607738f66613fb2ab861ad4f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/24/2018, 7:27:07 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Approved</strong>: 7/24/2018, 4:19:33 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 7/24/2018, 5:46:49 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 7/24/2018, 5:47:19 PM<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 7/24/2018, 5:46:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>