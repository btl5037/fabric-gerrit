<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 14193<br><strong>Subject</strong>: [FAB-6269] PTE remote execution<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 10/4/2017, 10:06:22 AM<br><strong>LastUpdated</strong>: 10/6/2017, 2:32:26 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-6269] PTE remote execution

Change-Id: I69f5cf1371ac8668b7186ba6e5bdff04c4d8a29b
Signed-off-by: Dongming <dming@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 10/4/2017, 10:06:22 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2017, 10:08:33 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/152/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2017, 11:05:37 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/152/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-test-verify-x86_64/152</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/4/2017, 8:22:11 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(18 comments)</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 10/5/2017, 5:22:11 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 5:27:04 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/157/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 6:25:06 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/157/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-test-verify-x86_64/157</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2017, 2:32:16 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2017, 2:32:26 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming - dming@us.ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 10/4/2017, 10:06:22 AM<br><strong>UnmergedRevision</strong>: [0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2017, 11:05:37 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 10/4/2017, 8:22:11 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scripts/test_driver_remote.sh#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/CITest/scripts/test_driver_remote.sh#L2)<br><strong>Comment</strong>: <pre>missing a 4-line copyright header</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scripts/test_pte_remote.sh#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/CITest/scripts/test_pte_remote.sh#L2)<br><strong>Comment</strong>: <pre>missing a 4-line copyright header</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L133](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L133)<br><strong>Comment</strong>: <pre>... and how does pte_ctlr.sh fit into this discussion? How is it similar or different than these others?

It would be nice if you could provide (maybe in a section further below) an example of running one test on local network using pte_driver.sh , and then show how to run the same test on a remote network using pte_ctlr.sh. Your example for pte_driver.sh is
  ./pte_driver.sh sampleccInputs/runCases.txt
so maybe when you get to the section below around line 173 you could refer to that test, and then say how to run that same test in a remote network using pte_ctlr.sh

But all this would make sense only after reading to the end, after we say exactly what files should be put on which host/server. Maybe we can wait til later when we maybe could get someone else from our team to read and try to do it and provide feedback to us. I am thinking that, at the very end, we could show the LIST of files needed on local host for the test, and list of files that would be on remote host, all set up and ready to go. That way, the users could compare to your example to see if they forgot anything. Step by step instructions are great, but sometimes you just want a visual of the entire setup. Maybe you could visually show it in a picture (but that is not required).</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L180](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L180)<br><strong>Comment</strong>: <pre>do you mean to say "test case"?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L180](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L180)<br><strong>Comment</strong>: <pre>Now you say two parameters, and then list 3 things. Needs rewording.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L180](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L180)<br><strong>Comment</strong>: <pre>In the example file, I see only one user in each case. For the second one, can we show how to list two users? (Should they be comma-separated?)

You say it contains 3 things , but each case contains only the driver=ctrl plus only 2 things. Need to reword somehow.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L180](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L180)<br><strong>Comment</strong>: <pre>spelling typo</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L182](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L182)<br><strong>Comment</strong>: <pre>Let's try rewording this way:
For instance, this sample PTE controller file contains two testcases:</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L186](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L186)<br><strong>Comment</strong>: <pre>remove trailing whitespace</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L670](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L670)<br><strong>Comment</strong>: <pre>. S</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L676](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L676)<br><strong>Comment</strong>: <pre>resides:</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L677](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L677)<br><strong>Comment</strong>: <pre>I am sure it is more difficult to do this with passwords (both for your implementation, and for the user to set up). But I would not be surprised if someone requests it to avoid opening up such a big security hole. Did you discuss this with Barry or anyone on any IBP (HSBN) team (any customers planning to use it)?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L678](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/README.md#L678)<br><strong>Comment</strong>: <pre>insert word:  file</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ctlrInputs/pteHost11-marbles-d.sh#L33](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/ctlrInputs/pteHost11-marbles-d.sh#L33)<br><strong>Comment</strong>: <pre>most of this is duplicated in all .sh files. Can you put it into a helper script, and source it in to each of these .sh scripts?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ctlrInputs/pteHost11-marbles-d.sh#L61](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/ctlrInputs/pteHost11-marbles-d.sh#L61)<br><strong>Comment</strong>: <pre>Are these other examples? Maybe should delete these, or else leave them along with a little explanatory comments... And remove the extra exit from either line 44 or 61.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ctlrInputs/pteHost11-marbles-i.sh#L61](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/ctlrInputs/pteHost11-marbles-i.sh#L61)<br><strong>Comment</strong>: <pre>same comment as previous file</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ctlrInputs/pteHost11-samplecc-q.sh#L60](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/ctlrInputs/pteHost11-samplecc-q.sh#L60)<br><strong>Comment</strong>: <pre>similar comment as previous file. if you intended to leave these as examples, that is great, but maybe preface with a comment header of some sort.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte_ctlr.sh#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/0a41aac116d4ff9546db1b7c4ece8c53ef68e5d2/tools/PTE/pte_ctlr.sh#L2)<br><strong>Comment</strong>: <pre>missing a 4-line copyright header</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming - dming@us.ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 10/5/2017, 5:22:11 PM<br><strong>GitHubMergedRevision</strong>: [bdc75a6fa51f65ebc3fd9e6e5eb8697004045c4d](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/bdc75a6fa51f65ebc3fd9e6e5eb8697004045c4d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/5/2017, 6:25:06 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 10/6/2017, 2:32:16 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 10/6/2017, 2:32:26 PM<br><br></blockquote>