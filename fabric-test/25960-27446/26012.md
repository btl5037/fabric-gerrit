<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: release-1.2<br><strong>ID</strong>: 26012<br><strong>Subject</strong>: FABCI-77 Archive the v1.2 build logs to Nexus.<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 8/30/2018, 10:38:26 PM<br><strong>LastUpdated</strong>: 9/1/2018, 1:25:52 PM<br><strong>CommitMessage</strong>:<br><pre>FABCI-77 Archive the v1.2 build logs to Nexus.

The build logs the release-1.2 branch are stored
in Jenkins for just 7 days. This change is to store
the logs in Nexus for a long duration.

Change-Id: I592e2771942fbe8451161c18ae2c9db9a9c5d7ca
Signed-off-by: Sambhav Nidamarty <sambhavdutt@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 8/30/2018, 10:38:26 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2018, 10:41:49 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1787/</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 8/30/2018, 10:51:12 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2018, 10:51:46 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1787/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1787/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1787</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2018, 10:54:01 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1788/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 12:39:45 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1788/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1788</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 8/31/2018, 9:06:40 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(5 comments)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 8/31/2018, 10:03:24 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 8/31/2018, 12:36:49 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 8/31/2018, 12:37:56 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(6 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 12:39:45 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1789/</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 8/31/2018, 1:50:19 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 2:25:09 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1789/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1789/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1789</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 8/31/2018, 3:35:53 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 8/31/2018, 3:36:27 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 3:38:37 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1790/</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 8/31/2018, 4:28:14 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:26:52 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1790/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1790</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 8/31/2018, 10:53:47 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 9/1/2018, 11:53:54 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1 Code-Review+2

ok; glad you got the archives working.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 9/1/2018, 11:54:08 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/1/2018, 1:25:52 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/422/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/422</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 8/30/2018, 10:38:26 PM<br><strong>UnmergedRevision</strong>: [7502802876caa4d3235dd51db5f29342ccfa668f](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/7502802876caa4d3235dd51db5f29342ccfa668f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2018, 10:51:46 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 8/30/2018, 10:51:12 PM<br><strong>UnmergedRevision</strong>: [06b6406ae8dd39afb6127d8ef39fd31237821823](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/06b6406ae8dd39afb6127d8ef39fd31237821823)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 12:39:45 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 8/31/2018, 9:06:40 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L16](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L16)<br><strong>Comment</strong>: <pre>You can remove the -r option on the copy commands; it is unnecessary - assuming there are no subdirectories under feature/ or the other source directories in the copy commands below. The other way to do this would be to copy all the files - including the entire tree. So the options are:

copy all the *.log files from feature folder:

cp $GOPATH/src/github.com/hyperledger/fabric-test/feature/*.log $WORKSPACE/archives/Behave_Test_Logs/

or copy ALL files recursively from feature folder:

cp -r $GOPATH/src/github.com/hyperledger/fabric-test/feature/* $WORKSPACE/archives/Behave_Test_Logs/

or, if you want the feature folder itself copied too:

cp -r $GOPATH/src/github.com/hyperledger/fabric-test/feature $WORKSPACE/archives/Behave_Test_Logs/</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L16](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L16)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L17](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L17)<br><strong>Comment</strong>: <pre>Daily_Test_XML</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L17](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L17)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L18](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L18)<br><strong>Comment</strong>: <pre>Daily_Test_XML

Change the XML directory to this same location. And do the copy only once. They are all in the same place.</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L18](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L18)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L22](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L22)<br><strong>Comment</strong>: <pre>delete</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L22](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L22)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L26](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L26)<br><strong>Comment</strong>: <pre>delete</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L26](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L26)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L30](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L30)<br><strong>Comment</strong>: <pre>delete</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runDailyTestSuite.sh#L30](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/06b6406ae8dd39afb6127d8ef39fd31237821823/regression/daily/runDailyTestSuite.sh#L30)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 8/31/2018, 12:36:49 PM<br><strong>UnmergedRevision</strong>: [9db33a883ace1aaf525cf934596f8273be500e3e](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/9db33a883ace1aaf525cf934596f8273be500e3e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 2:25:09 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 8/31/2018, 1:50:19 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runPteTestSuite.sh#L19](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9db33a883ace1aaf525cf934596f8273be500e3e/regression/daily/runPteTestSuite.sh#L19)<br><strong>Comment</strong>: <pre>There are also some logfiles in CITest/scenarios/, so you need to copy them too.
Refer to https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.2-x86_64/

To fix, this statement should be two statements:

   cp $GOPATH/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/Logs/*.log $WORKSPACE/archives/PTE_Test_Logs/

   cp $GOPATH/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/scenarios/*.log $WORKSPACE/archives/PTE_Test_Logs/</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runPteTestSuite.sh#L19](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9db33a883ace1aaf525cf934596f8273be500e3e/regression/daily/runPteTestSuite.sh#L19)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runPteTestSuite.sh#L22](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9db33a883ace1aaf525cf934596f8273be500e3e/regression/daily/runPteTestSuite.sh#L22)<br><strong>Comment</strong>: <pre>1. Dont need the -r.
2. According to https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.2-x86_64/, for the v1.2 release, we should copy the single xml file from

  fabric-test/results_systest_pte.xml

not from fabric-test/regression/daily/.

And copy only the one file, since there are other xml files in that fabric-test/ directory.

(Yes we need to fix this in the master branch too; I will do that with an update I am working on now.)</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runPteTestSuite.sh#L22](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9db33a883ace1aaf525cf934596f8273be500e3e/regression/daily/runPteTestSuite.sh#L22)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 8/31/2018, 3:35:53 PM<br><strong>GitHubMergedRevision</strong>: [380a589031c859a2394e81186da5148355837ac2](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/380a589031c859a2394e81186da5148355837ac2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 5:26:52 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 9/1/2018, 11:53:54 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 9/1/2018, 11:54:08 AM<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 9/1/2018, 11:53:54 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [regression/daily/runPteTestSuite.sh#L22](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/380a589031c859a2394e81186da5148355837ac2/regression/daily/runPteTestSuite.sh#L22)<br><strong>Comment</strong>: <pre>No, I said this part of the path needs to be deleted too, based on the link provided. If you want to let this build run through and see where the results file is located, then we can wait and see.</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [regression/daily/runPteTestSuite.sh#L22](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/380a589031c859a2394e81186da5148355837ac2/regression/daily/runPteTestSuite.sh#L22)<br><strong>Comment</strong>: <pre>I ran the pte tests with and without the /regression/daily/ in the path. I could get the xml archived in the /fabric-test/regression/daily/</pre></blockquote>