<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 27258<br><strong>Subject</strong>: [FAB-12556] Change loglevel var to FABRIC_LOGGING_SPEC<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 10/29/2018, 12:15:18 PM<br><strong>LastUpdated</strong>: 11/7/2018, 11:47:46 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-12556] Change loglevel var to FABRIC_LOGGING_SPEC

This change switches using the CORE_LOGGING_LEVEL
variable to using FABRIC_LOGGING_SPEC instead.

Change-Id: I205a655c5cbc7b7d20fae5f838ed3390f622ae79
Signed-off-by: Latitia M Haskins <latitia.haskins@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/29/2018, 12:15:18 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 12:19:48 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2182/</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/29/2018, 12:23:56 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 12:28:58 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2184/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 1:08:56 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2182/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2182/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2182</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 1:13:16 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2184/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2184/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2184</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 10/29/2018, 5:30:24 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+1

the changes on NL and PTE look good</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/29/2018, 7:02:22 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 7:05:47 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2186/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 7:54:11 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2186/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2186/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2186</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/29/2018, 8:21:54 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(8 comments)</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/30/2018, 10:57:47 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(8 comments)</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/30/2018, 11:13:48 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:18:54 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2189/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 12:04:10 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2189/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2189/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2189</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/31/2018, 9:28:03 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

I don't quite have the correct gossip loglevel yet for the gossip tests that need to be turned up.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 10:13:17 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/31/2018, 12:10:25 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 12:13:58 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2190/</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/31/2018, 12:14:34 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(3 comments)</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/31/2018, 12:17:26 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 12:18:11 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2190/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2190/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2190</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 12:22:00 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2191/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 1:17:46 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2191/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2191/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2191</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 8:42:55 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

(5 comments)</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/1/2018, 10:11:46 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(5 comments)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/1/2018, 11:04:25 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(3 comments)

Have you tested? Are we about ready to merge?</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/2/2018, 6:55:16 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/5/2018, 9:43:43 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/5/2018, 9:59:09 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/5/2018, 9:59:43 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Yes, I've tested this new setup. It works very nicely.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/5/2018, 10:03:19 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2202/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/5/2018, 10:54:50 AM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2202/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2202/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2202</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/7/2018, 10:48:43 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1 Code-Review+2</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/7/2018, 10:48:54 AM<br><strong>Message</strong>: <pre>Patch Set 8: Patch Set 7 was rebased</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/7/2018, 10:48:59 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/7/2018, 11:47:46 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/519/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/519</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 10/29/2018, 12:15:18 PM<br><strong>UnmergedRevision</strong>: [4ce64a6b02578e95d1dc621b5c95c2030020d16b](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/4ce64a6b02578e95d1dc621b5c95c2030020d16b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 1:08:56 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 10/29/2018, 12:23:56 PM<br><strong>UnmergedRevision</strong>: [eb5032af2a36769a52fb1623d22e8296f7198715](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/eb5032af2a36769a52fb1623d22e8296f7198715)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 1:13:16 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Approved</strong>: 10/29/2018, 5:30:24 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 10/29/2018, 7:02:22 PM<br><strong>UnmergedRevision</strong>: [4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 7:54:11 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 10/29/2018, 8:21:54 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature-upgrade/dc-peer-base.yml#L16](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature-upgrade/dc-peer-base.yml#L16)<br><strong>Comment</strong>: <pre>I guess we can delete this line</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature-upgrade/dc-peer-base.yml#L16](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature-upgrade/dc-peer-base.yml#L16)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/.env#L4](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/.env#L4)<br><strong>Comment</strong>: <pre>no, I think we want to set gossip logs to warning (only), leaving the rest as default (whatever that is).</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/.env#L4](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/.env#L4)<br><strong>Comment</strong>: <pre>For the tests, how about leaving gossip to info and a few others to debug? (the default is info). Then for the gossip tests, we'll have to be sure to turn up the loglevel for each test.

@AdnanC: what is the recommended log level for the gossip tests? I'm assuming that it needs to be turned up in order to validate those tests.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/bootstrap.feature#L75](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/bootstrap.feature#L75)<br><strong>Comment</strong>: <pre>again in both of these here, as in previous file, it seems you are changing ALL the log levels to INFO, not just the gossip logs (if I understand the feature correctly). I don't think this is what we want, is it?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/bootstrap.feature#L75](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/bootstrap.feature#L75)<br><strong>Comment</strong>: <pre>This test just changes the log level period to something other than the "normal" setting. (.env sets everything to debug) I can change this such that we are able to modify the "gossip" logging.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L124](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/chaincodes.feature#L124)<br><strong>Comment</strong>: <pre>ditto</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L124](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/chaincodes.feature#L124)<br><strong>Comment</strong>: <pre>I can specify gossip=DEBUG and leave everything else as info.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/docker-compose/docker-compose-base.yml#L93](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/docker-compose/docker-compose-base.yml#L93)<br><strong>Comment</strong>: <pre>need to get more specific, and avoid debug for the gossip logs and msp logs. And all the unnamed loggers too. Maybe we should just set the individual logger to debug, and leave most at ERROR?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/docker-compose/docker-compose-base.yml#L93](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/docker-compose/docker-compose-base.yml#L93)<br><strong>Comment</strong>: <pre>I would think for the test, we would want as much as we can, well, kinda sorta - not on the level of gossip though where we have so much that we can't find anything.

I propose that this should still be:
FABRIC_LOGGING_SPEC=${FABRIC_LOGGING_SPEC}

with default:
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/gossip.feature#L11](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/gossip.feature#L11)<br><strong>Comment</strong>: <pre>ditto</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/gossip.feature#L11](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/gossip.feature#L11)<br><strong>Comment</strong>: <pre>Changed FABRIC_LOGGING_SPEC to set gossip=DEBUG</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/ledger.feature#L17](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/ledger.feature#L17)<br><strong>Comment</strong>: <pre>ditto</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/ledger.feature#L17](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/feature/ledger.feature#L17)<br><strong>Comment</strong>: <pre>Changed FABRIC_LOGGING_SPEC to set gossip=DEBUG</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/OTE/ote.go#L46](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/tools/OTE/ote.go#L46)<br><strong>Comment</strong>: <pre>what happened here? replaced all the spaces with tabs???
did you change anything else?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [tools/OTE/ote.go#L46](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/4e515ce7ff1b57ce2c5da67b67b7f67b8f5bd921/tools/OTE/ote.go#L46)<br><strong>Comment</strong>: <pre>Ha! My editor "cleaned it up". Line 1184 contains the log var change.</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 10/30/2018, 11:13:48 PM<br><strong>UnmergedRevision</strong>: [68cdb46e19350abb0b0aed9f9b00cb291b2f790d](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/68cdb46e19350abb0b0aed9f9b00cb291b2f790d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/31/2018, 12:04:10 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 10/31/2018, 10:13:17 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Approved</strong>: 10/31/2018, 9:28:03 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/.env#L4](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/68cdb46e19350abb0b0aed9f9b00cb291b2f790d/feature/.env#L4)<br><strong>Comment</strong>: <pre>The prior file version set gossip to warning and left the others as default values.
What are you doing now?
And where is the default value for fabric-logging-spec set?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/.env#L4](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/68cdb46e19350abb0b0aed9f9b00cb291b2f790d/feature/.env#L4)<br><strong>Comment</strong>: <pre>Yes, this is the way the spec works. I really like it :) we set which modules that we want set here. By default the log level is set to info. I've cleaned this up a bit, but I can do this to make it more explicit
FABRIC_LOGGING_SPEC=peer,endorser,nodeCmd,committer=DEBUG:INFO</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L124](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/68cdb46e19350abb0b0aed9f9b00cb291b2f790d/feature/chaincodes.feature#L124)<br><strong>Comment</strong>: <pre>should this be = instead of :  ???</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L124](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/68cdb46e19350abb0b0aed9f9b00cb291b2f790d/feature/chaincodes.feature#L124)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/docker-compose/docker-compose-base.yml#L95](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/68cdb46e19350abb0b0aed9f9b00cb291b2f790d/feature/docker-compose/docker-compose-base.yml#L95)<br><strong>Comment</strong>: <pre>Would the equivalent be this? :

            - FABRIC_LOGGING_SPEC=DEBUG:gossip=INFO:msp=INFO</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/docker-compose/docker-compose-base.yml#L95](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/68cdb46e19350abb0b0aed9f9b00cb291b2f790d/feature/docker-compose/docker-compose-base.yml#L95)<br><strong>Comment</strong>: <pre>As a default, the equivalent is 
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG

It uses what is in .env as a default, then we set it when we change the variable. 

The "everything else" level is last.</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 10/31/2018, 12:10:25 PM<br><strong>UnmergedRevision</strong>: [15ac54c5f0dfe5ba27ec0188d9223ed96e3b2b09](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/15ac54c5f0dfe5ba27ec0188d9223ed96e3b2b09)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/31/2018, 12:18:11 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 10/31/2018, 12:17:26 PM<br><strong>UnmergedRevision</strong>: [3e74114ba336b8e4856d99b8ad471f1e1a88c2e9](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/31/2018, 1:17:46 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 10/31/2018, 8:42:55 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/bootstrap.feature#L75](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/feature/bootstrap.feature#L75)<br><strong>Comment</strong>: <pre>ok, so now we are amending the env variable which was defined in .env, right? Or, are we setting it to this exact value? Should we modify the wording here, or not?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/bootstrap.feature#L75](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/feature/bootstrap.feature#L75)<br><strong>Comment</strong>: <pre>No, this is a setting and not an amending. The variable will be that exact value.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/bootstrap.feature#L82](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/feature/bootstrap.feature#L82)<br><strong>Comment</strong>: <pre>this is now a duplicate (for this peer) of line 75. Do we need it?  Or, for this test, shouldn't we change the values in line 75, to prove we can alter these values dynamically here?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/bootstrap.feature#L82](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/feature/bootstrap.feature#L82)<br><strong>Comment</strong>: <pre>Line 75 is the setting (given), this line is the verification (then)</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/bootstrap.feature#L82](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/feature/bootstrap.feature#L82)<br><strong>Comment</strong>: <pre>oh, duh. withdrawn.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/docker-compose/docker-compose-base.yml#L95](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/feature/docker-compose/docker-compose-base.yml#L95)<br><strong>Comment</strong>: <pre>ok, refresh my memory. we first define this in the .env file. And now here we set this in this docker compose file. All we are doing here is ensuring we use the value from the .env file (or a modified value if the testcase set it before bootstrapping the network). So, is that why we removed all the other settings from the older version of this file - because those should all be set already? If so, then why are those exact values NOT the ones defined in the .env file? Won't that potentially change the ability of testcases to match strings from the logs files?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/docker-compose/docker-compose-base.yml#L95](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/feature/docker-compose/docker-compose-base.yml#L95)<br><strong>Comment</strong>: <pre>The old way of logging is no more - we don't need the old variables. (for the peer, orderer is yet to come) The new way allows us to specify exactly what we want in the single variable. So with this single variable we can set different log levels for different modules. The new logging allows us to set a level for an EXACTLY module or if we want to be general we can be general. The default log level is INFO, but if I want msp to be WARN and gossip.discovery to be DEBUG and peer to be ERROR, I can do that and I would use only this variable to set it.
(FABRIC_LOGGING_SPEC=msp=WARN:gossip.discovery=DEBUG:peer=ERROR)

.env allows us to set the default value here while giving us flexibility to change the loglevel as needed in other tests (namely around gossip). The defaults set here allow us to have debug info for any possible errors as needed if there is a failure without flooding us with msp and gossip DEBUG logs.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/OTE/ote.go#L46](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/OTE/ote.go#L46)<br><strong>Comment</strong>: <pre>yikes; are you going to restore all the blanks for us?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [tools/OTE/ote.go#L46](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/OTE/ote.go#L46)<br><strong>Comment</strong>: <pre>My editor is set to run gofmt when I change go files to make sure that the files are formatted properly via go standards. That's where the spacing changes  come from.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/OTE/ote.go#L46](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/OTE/ote.go#L46)<br><strong>Comment</strong>: <pre>Lovely. However, nobody uses tabs anywhere, do we? Can you unset the tab usage? Or, use sed to replace all the tabs to 8 spaces and recommit.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [tools/OTE/ote.go#L46](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/OTE/ote.go#L46)<br><strong>Comment</strong>: <pre>Yeah, I actually looked it up for how to continue to use gofmt, but to use spaces instead of tabs. Evidently, that's a no-no with gofmt. If it really bothers you, I can replace all the tabs with 4 spaces.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/OTE/ote.go#L46](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/OTE/ote.go#L46)<br><strong>Comment</strong>: <pre>There are no tabs in any of our code. Using tabs messes things up, because different browsers and editors show tabs differently. Replace each tab with 8 spaces, to keep the same formatting in use already everywhere.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scripts/get_peerStats.sh#L19](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/PTE/CITest/scripts/get_peerStats.sh#L19)<br><strong>Comment</strong>: <pre>looks ok.
but it seems to me we ripped this functionality out, and we are using the events now to do our tps calculations. So either this script is no longer used, or we failed to modify this usage statement. I will add Dongming to reviewer list, to confirm if we should rip out lines 15,16,19.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scripts/get_peerStats.sh#L19](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/PTE/CITest/scripts/get_peerStats.sh#L19)<br><strong>Comment</strong>: <pre>I added him originally and he gave it a +1 on first go around, but no harm in him looking at it again.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/scripts/get_peerStats.sh#L19](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/3e74114ba336b8e4856d99b8ad471f1e1a88c2e9/tools/PTE/CITest/scripts/get_peerStats.sh#L19)<br><strong>Comment</strong>: <pre>I withdraw the comment. We have another way to take measmts, but we do still use the script too.</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 11/5/2018, 9:59:09 AM<br><strong>UnmergedRevision</strong>: [76bfe7fe0f8d54e18924fc13211fbdb6e5163192](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/76bfe7fe0f8d54e18924fc13211fbdb6e5163192)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/5/2018, 10:54:50 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/7/2018, 10:48:43 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/7/2018, 10:48:43 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 11/7/2018, 10:48:54 AM<br><strong>GitHubMergedRevision</strong>: [04d9bce587eee1c74b478c471f7b66e22d87d3fb](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/04d9bce587eee1c74b478c471f7b66e22d87d3fb)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/5/2018, 10:54:50 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/7/2018, 10:48:43 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 11/7/2018, 10:48:59 AM<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/7/2018, 10:48:43 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>