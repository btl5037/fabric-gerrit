<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 26721<br><strong>Subject</strong>: [FAB-11808] interop tests for sdk-node<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Assignee</strong>:<br><strong>Created</strong>: 10/2/2018, 11:29:59 AM<br><strong>LastUpdated</strong>: 11/29/2018, 12:14:57 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-11808] interop tests for sdk-node

Add interop tests for network commands:
-submitTransaction()
-executeTransaction()

Required:
- Modification of step files to permit passage of an options array
- Modification of step files to remove execjs requirement
- Changes to invoke.js and query.js to make them runnable and permit a split path

Change-Id: I9caf778a16b8f7aeadc02b1480ee468569c20acb
Signed-off-by: nkl199@yahoo.co.uk <nkl199@yahoo.co.uk>
Signed-off-by: Latitia M Haskins <latitia.haskins@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/2/2018, 11:29:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/2/2018, 12:11:11 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/2/2018, 1:03:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/2/2018, 1:05:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2018, 1:08:52 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1997/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2018, 2:10:10 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1997/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1997/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1997</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/3/2018, 6:05:02 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2018, 6:06:56 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2001/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2018, 7:03:52 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2001/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2001/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2001</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/3/2018, 9:07:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2018, 9:10:49 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2002/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2018, 10:07:26 AM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2002/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2002/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2002</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/3/2018, 10:23:02 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(3 comments)</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/3/2018, 11:09:53 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2018, 11:14:24 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2006/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/3/2018, 12:10:32 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2006/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2006/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2006</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/3/2018, 2:40:36 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/4/2018, 3:43:30 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 3:46:04 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2010/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 4:00:55 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2010/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2010/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2010</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/4/2018, 4:56:06 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9: Patch Set 8 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 5:00:14 AM<br><strong>Message</strong>: <pre>Patch Set 9: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2011/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 5:57:01 AM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2011/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2011/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2011</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/4/2018, 6:30:54 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 6:36:14 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2012/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 7:33:59 AM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2012/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2012/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2012</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/4/2018, 9:00:22 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 9:03:48 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2013/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 9:56:25 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2013/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2013/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2013</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/4/2018, 12:16:53 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 12:21:08 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2016/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2018, 1:11:01 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2016/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2016</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/9/2018, 5:05:09 AM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/9/2018, 5:09:04 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2056/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/9/2018, 6:07:04 AM<br><strong>Message</strong>: <pre>Patch Set 13: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2056/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2056</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/9/2018, 6:08:16 AM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/9/2018, 6:13:55 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2057/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/9/2018, 7:11:16 AM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2057/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2057</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/21/2018, 8:45:09 PM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review-1

(5 comments)</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 10/22/2018, 7:01:35 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Hi,

Thanks for looking at this. I'll try to address your points:

The submitTransaction relies on event notification from the orderer to continue the transaction flow, it is desirable to establish that this is successful for all orderer types.

Execute and submit are the two different high level network API commands – submit will cause the full endorsement flow (an invoke transaction); execute will not (a query transaction). Since the fabric sample doesn’t return anything in the execute/invoke, it is not possible to test anything other than “the command did not throw an error”. I echoed the same test flow as the testcase above (FAB-5797: Test chaincode) Perhaps the testcase name should be changed to “test the use of the network model API to successfully commit to the ledger”?

I’m using nomenclature that will be known to SDK users and contained within documentation for the SDK feature. At the time of working the jira, the documentation did not exist -  I have now added a link to the test case jira (https://fabric-sdk-node.github.io/Gateway.html)  

A point to note is that following beta feedback, executeTransaction is to be changed to evaluateTransaction at some point – obviously this name change will be reflected in the tests.

Yes – I am planning to add non-tls tests as well. This is essential as the network APIs are driven via a connection gateway formed using a common connection profile

ccp – common connection profile,  It defines the network created in the interop tests and was created based from inspection of the docker compose files that are present. A ccp is required by the network model API

More than one orderer? Unless I’m missing something, there is only ever one orderer in the interop test network that is created - which is either the solo orderer or the kafka orderer that has the same name/address but multiple nodes

Why would anyone add a peer that has chaincodeQuery false? Good question, though the option is there for a user.

Summary
- I think a test title change is needed to better reflect the subsequent test steps
- ccp should be extended to "common-connection-profile" in the network config file
- I would like to retain the same nomenclature as per the SDK abstraction

Hopefully the above covers the initial questions - let me know how you would like me to progress</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 10/25/2018, 6:13:00 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Still waiting for input from Latitia too. Here is my take:
We already abstracted invoke/function=move and invoke/function=query to use simpler language like "invokes" and queries" in the behave tests. You are adding "submit" and "evaluate" to do the same thing, although using the new sdk interface functions which map to those words. Personally, I don't see why those words are any better, but if the sdk has defined them that way, they I guess that is fine. Go ahead and use evaluate now instead of execute. And yes, you could rename your testcase name better to indicate that you are testing the new sdk programming model APIs rather than the previous way.

Your explanation was not quite accurate. (i.e. do you really look for events from the orderer? our applications look for events raised by the peer when the transactions are written to ledger - after it passed through the orderer.) Thus the events are used for invokes (submits), so at least your wording was close enough. ;) 

OK agree regarding your responses for the topics of TLS table entry, and replacing ccp with longer name. Also please add comments with the testcase title, referring to sdk code FAB number too (which defined the new sdk API functions being tested).

I don't understand this statement: Since the fabric sample doesn’t return anything in the execute/invoke, it is not possible to test anything other than “the command did not throw an error”. Hmmmm... When you query, you get back a response code 200 AND a value of whatever you queried - in this case for example02 you get 990. Isn't that what is needed?

About orderers: When we run solo, there is one. When we run kafka (with multiple kafka brokers), we could use one or more orderers - and our default network uses 3, so you should define 3 here.</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 10/26/2018, 11:39:14 AM<br><strong>Message</strong>: <pre>Patch Set 14:

(11 comments)

English is hard. If we need to add text to help make sure that the tests are clear, I'm onboard with that as long as it doesn't get out of hand. :) We should clarify though to make sure that we all understand what is happening.

I do appreciate the node cleanup as well! 

I tried to address Scott's specific questions from what I understand and what Nick replied to in his comment. Let me know if I missed anything.</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 11/1/2018, 8:01:38 AM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/1/2018, 8:07:06 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2194/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/1/2018, 8:25:30 AM<br><strong>Message</strong>: <pre>Patch Set 15: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2194/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2194/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2194</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/1/2018, 10:40:02 AM<br><strong>Message</strong>: <pre>Patch Set 15:

(6 comments)

Failure happened during build:
08:24:27 BUILD FAILED in 3m 54s
08:24:27 18 actionable tasks: 18 executed
08:24:27 Makefile:118: recipe for target 'javaenv' failed
08:24:27 make: *** [javaenv] Error 1</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 11/1/2018, 12:29:20 PM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/1/2018, 12:32:52 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2195/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/1/2018, 1:26:08 PM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2195/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2195/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2195</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/1/2018, 11:20:56 PM<br><strong>Message</strong>: <pre>Patch Set 16:

(2 comments)</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 11/2/2018, 4:39:29 AM<br><strong>Message</strong>: <pre>Uploaded patch set 17.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 4:44:38 AM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2197/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 5:33:48 AM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2197/ : UNSTABLE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2197/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2197</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/2/2018, 8:34:42 AM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review+1</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 11/6/2018, 6:19:48 AM<br><strong>Message</strong>: <pre>Patch Set 17:

(2 comments)

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/6/2018, 6:23:02 AM<br><strong>Message</strong>: <pre>Patch Set 17: -Code-Review

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2209/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/6/2018, 8:24:06 AM<br><strong>Message</strong>: <pre>Patch Set 17: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2209/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2209</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/6/2018, 8:56:28 AM<br><strong>Message</strong>: <pre>Patch Set 17:

reverify

The verify build failed due to a timeout issue during a download. Seems unrelated.

06:38:47 :fabric-chaincode-shim:test
06:38:47 Download https://jcenter.bintray.com/org/jacoco/org.jacoco.agent/maven-metadata.xml
06:38:47 Download https://jcenter.bintray.com/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9.pom
06:38:47 Download https://jcenter.bintray.com/org/jacoco/org.jacoco.build/0.7.9/org.jacoco.build-0.7.9.pom
06:38:47 Download https://jcenter.bintray.com/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9.jar
08:23:10 Build timed out (after 120 minutes). Marking the build as failed.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/6/2018, 8:59:20 AM<br><strong>Message</strong>: <pre>Patch Set 17: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2210/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/6/2018, 11:00:23 AM<br><strong>Message</strong>: <pre>Patch Set 17: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2210/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2210</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/6/2018, 5:53:27 PM<br><strong>Message</strong>: <pre>Patch Set 17:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/6/2018, 5:53:36 PM<br><strong>Message</strong>: <pre>Patch Set 17: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2213/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/6/2018, 6:45:00 PM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2213/ : UNSTABLE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2213</pre><strong>Reviewer</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Reviewed</strong>: 11/22/2018, 5:46:12 AM<br><strong>Message</strong>: <pre>Patch Set 17:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/22/2018, 5:49:46 AM<br><strong>Message</strong>: <pre>Patch Set 17: -Code-Review

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2267/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/22/2018, 6:40:41 AM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2267/ : UNSTABLE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2267</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/26/2018, 9:59:32 AM<br><strong>Message</strong>: <pre>Patch Set 17:

When is the last time you rebased?
We can ignore the two verify test failures (known issue):
ledger_lte_smoke.smoke_ledger.test_FAB_9708_CouchDB_VaryNumTxs
ledger_lte_smoke.smoke_ledger.test_FAB_9708_LevelDB_VaryNumTxs</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/26/2018, 10:26:31 AM<br><strong>Message</strong>: <pre>Uploaded patch set 18: Patch Set 17 was rebased.</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/26/2018, 10:27:48 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Ah. I noticed this has been sitting for awhile and thought I'd rebase it for you. It looks like Scott noticed as well.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/26/2018, 10:29:24 AM<br><strong>Message</strong>: <pre>Patch Set 18: -Code-Review

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2268/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/26/2018, 11:17:18 AM<br><strong>Message</strong>: <pre>Patch Set 18: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2268/ : UNSTABLE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2268</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/26/2018, 3:36:57 PM<br><strong>Message</strong>: <pre>Patch Set 18:

It looks like the code was rebased for fabric-test, but still see 2 errors in ledger tests with nil ptr dereference leading to SIGSEGV, which I thought were fixed before this. Also, I am confused why seeing fabric/test/ in the traceback paths instead of fabric-test/, so hopefully Adnan can sort this out when he returns Thursday. Nevertheless, none of this is related to this CR, so I am ok with merging this once Latitia approves.

[34m2018-11-26 15:56:43.834 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 002[0m Created state database _users
[34m2018-11-26 15:56:43.850 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 003[0m Created state database _replicator
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0xfbc2b4]

goroutine 50 [running]:
github.com/hyperledger/fabric/core/ledger/kvledger.newStats(0x0, 0x0, 0x1312aa0)
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/metrics.go:26 +0x54
github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).Initialize(0xc000472680, 0xc0000300a0, 0x0, 0x0)
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:92 +0x277
github.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize(0xc0000c11c0)
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:72 +0x3e1
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x2a
sync.(*Once).Do(0x1c9ff08, 0xc00006de38)
	/opt/go/go1.11.1.linux.amd64/src/sync/once.go:44 +0xb3
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize(0xc0000c11c0)
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:51 +0x55
github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.newChainsMgr(0xc0000c7c20, 0xc000467db0, 0x108e101, 0xc0001c8010)
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:55 +0xf5
github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.InitTestEnv(0xc0000c7c20, 0xc000467db0, 0x8e1e01, 0x5bfc17bb)
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/testenv.go:34 +0x77
github.com/hyperledger/fabric/test/tools/LTE/experiments.BenchmarkInsertTxs(0xc0000c8680)
	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/experiments/insert_txs_test.go:44 +0x55
testing.(*B).runN(0xc0000c8680, 0x1)
	/opt/go/go1.11.1.linux.amd64/src/testing/benchmark.go:141 +0xb2
testing.(*B).run1.func1(0xc0000c8680)
	/opt/go/go1.11.1.linux.amd64/src/testing/benchmark.go:214 +0x5a
created by testing.(*B).run1
	/opt/go/go1.11.1.linux.amd64/src/testing/benchmark.go:207 +0x7d
exit status 2
FAIL	github.com/hyperledger/fabric/test/tools/LTE/experiments	0.236s
Failed to run the test.
Stopping couchdb container (id: e5d324457839)...</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/28/2018, 9:38:17 AM<br><strong>Message</strong>: <pre>Patch Set 18: Code-Review+1

Yes, this is ready for being merged. (Yay!)</pre><strong>Reviewer</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Reviewed</strong>: 11/28/2018, 9:35:46 PM<br><strong>Message</strong>: <pre>Uploaded patch set 19.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/28/2018, 9:40:46 PM<br><strong>Message</strong>: <pre>Patch Set 19:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2274/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/28/2018, 10:25:42 PM<br><strong>Message</strong>: <pre>Patch Set 19: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2274/ : UNSTABLE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2274</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/29/2018, 9:27:44 AM<br><strong>Message</strong>: <pre>Patch Set 19: Verified+1 Code-Review+2</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 11/29/2018, 9:27:58 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/29/2018, 10:26:58 AM<br><strong>Message</strong>: <pre>Patch Set 19:

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/540/ : UNSTABLE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/540</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 11/29/2018, 10:29:09 AM<br><strong>Message</strong>: <pre>Patch Set 19:

remerge</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 11/29/2018, 11:22:39 AM<br><strong>Message</strong>: <pre>Patch Set 19:

remerge</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/29/2018, 12:14:57 PM<br><strong>Message</strong>: <pre>Patch Set 19:

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/542/ : UNSTABLE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/542</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/2/2018, 11:29:59 AM<br><strong>UnmergedRevision</strong>: [e5b8646b3143d932ef3fceea81c9151a3e2840f7](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/e5b8646b3143d932ef3fceea81c9151a3e2840f7)<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 10/2/2018, 12:11:11 PM<br><strong>UnmergedRevision</strong>: [9b777342e13d2dacb7b09504fb534c278c4cb881](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/9b777342e13d2dacb7b09504fb534c278c4cb881)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/2/2018, 1:03:17 PM<br><strong>UnmergedRevision</strong>: [1debf7a5a3d0f802abd8ad30c9199aa0638bdb31](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/1debf7a5a3d0f802abd8ad30c9199aa0638bdb31)<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/2/2018, 1:05:00 PM<br><strong>UnmergedRevision</strong>: [6890647e9e9108648ca551c577a2a5f7a127b44f](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/6890647e9e9108648ca551c577a2a5f7a127b44f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/2/2018, 2:10:10 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/3/2018, 6:05:02 AM<br><strong>UnmergedRevision</strong>: [8382c678752aa3107bba3209cbc3a2de1dffbeee](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/8382c678752aa3107bba3209cbc3a2de1dffbeee)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/3/2018, 7:03:52 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/3/2018, 9:07:32 AM<br><strong>UnmergedRevision</strong>: [20e5b0c3cd1173897de8fc302b45d48ebd2a5be5](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/20e5b0c3cd1173897de8fc302b45d48ebd2a5be5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/3/2018, 10:07:26 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_impl.py#L920](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/20e5b0c3cd1173897de8fc302b45d48ebd2a5be5/feature/steps/endorser_impl.py#L920)<br><strong>Comment</strong>: <pre>Try "assert str(context.result[peer].strip()) == str(response.strip())"

Then you'll have the same type and you'll remove the possible newline at the end.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_util.py#L348](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/20e5b0c3cd1173897de8fc302b45d48ebd2a5be5/feature/steps/endorser_util.py#L348)<br><strong>Comment</strong>: <pre>whitespace</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_util.py#L354](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/20e5b0c3cd1173897de8fc302b45d48ebd2a5be5/feature/steps/endorser_util.py#L354)<br><strong>Comment</strong>: <pre>Add an assert here 'assert match is not None, "Received: {}".format(response)'</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/3/2018, 11:09:53 AM<br><strong>UnmergedRevision</strong>: [5c213639514ff7edb8c7d1671ddcc2cca7f6ad8e](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/5c213639514ff7edb8c7d1671ddcc2cca7f6ad8e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/3/2018, 12:10:32 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_util.py#L354](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/5c213639514ff7edb8c7d1671ddcc2cca7f6ad8e/feature/steps/endorser_util.py#L354)<br><strong>Comment</strong>: <pre>For debugging, you'll want to display what is actually returned since the match is returning as None. So I know I mentioned adding the assertion, but maybe you'll want something like:
` if match:
      return match[0]
   return response
`

This way, we can see the response whether there is a match or not.

The test that is failing isn't receiving the expected response, so it would be nice to see the response.</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/4/2018, 3:43:30 AM<br><strong>UnmergedRevision</strong>: [95aa695b405f6a9522fdee4f267197cad20e959a](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/95aa695b405f6a9522fdee4f267197cad20e959a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2018, 4:00:55 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/4/2018, 4:56:06 AM<br><strong>UnmergedRevision</strong>: [4a62549fe0384b83abaa02d6934a55e32e152489](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/4a62549fe0384b83abaa02d6934a55e32e152489)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2018, 5:57:01 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/4/2018, 6:30:54 AM<br><strong>UnmergedRevision</strong>: [4b0c49858b4c0d3e1681461980efd359c31eff4b](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/4b0c49858b4c0d3e1681461980efd359c31eff4b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2018, 7:33:59 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/4/2018, 9:00:22 AM<br><strong>UnmergedRevision</strong>: [125fd65f2c21d718630bbdf7feaa8c4bd9a4e947](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/125fd65f2c21d718630bbdf7feaa8c4bd9a4e947)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2018, 9:56:25 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/4/2018, 12:16:53 PM<br><strong>UnmergedRevision</strong>: [041399a193d7893f7a8d64507e1684286a10ffe4](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/041399a193d7893f7a8d64507e1684286a10ffe4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2018, 1:11:01 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/9/2018, 5:05:09 AM<br><strong>UnmergedRevision</strong>: [497e363e9e9becc73afe7450fce01a2ef6081d16](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/497e363e9e9becc73afe7450fce01a2ef6081d16)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/9/2018, 6:07:04 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 10/9/2018, 6:08:16 AM<br><strong>UnmergedRevision</strong>: [fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/9/2018, 7:11:16 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 10/21/2018, 8:45:09 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L32](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L32)<br><strong>Comment</strong>: <pre>Are you planning on doing anything with the "transaction" tag? Is it ok if this test runs as apart of the daily test suite?</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L33](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L33)<br><strong>Comment</strong>: <pre>I would change as you suggested to "Test the use of the network model API to successfully commit to the ledger"</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L34](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L34)<br><strong>Comment</strong>: <pre>does the orderer type really matter? if not, we can eliminate this "type" from the test.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L34](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L34)<br><strong>Comment</strong>: <pre>I'm not sure that having a kafka-based orderer or a solo based orderer would have an impact on this test. That said, I'm not clear what it hurts to test this in both environments as a first step. We can always go to solo orderer once we have completed this first run through.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L38](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L38)<br><strong>Comment</strong>: <pre>which is it going to be - executes or submits? Pick one. It is too confusing to have both here. At this level, the invoke (invoke/move) and the query (invoke/query) are the same. The first arg indicates the funciton, and from there the implementation can determine what to do - whether to call the existing step to invoke, or to query.

If you really want to differentitate at this level, like we did already for invokes and queries, then maybe we should play off our existing steps to say something like "submits a transaction to invoke" and "submits a transaction to query" - but I would argure that is not needed.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L38](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L38)<br><strong>Comment</strong>: <pre>From Nick's explanation, "execute" is the equivalent of an "query" for transactions. Maybe in order to be sure that this is clear, we can add a comment that says as much.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L40](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L40)<br><strong>Comment</strong>: <pre>Honestly, the early docs described it as sending "transaction proposals" to the peers, but broadcasting transactions to the orderers.  Your language is a change from that nomenclature. Are you suggesting that "submit/execute transaction" is more intuitive for sdk users?
(This may be moot point, if we reword, per earlier comments.)</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L40](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L40)<br><strong>Comment</strong>: <pre>I'm not against adding "submit" to mean "invoke". We don't need to rewrite, but we can add some flexibility.

I would add a comment that says that submit=invoke here since it is different from the other cases, but the point of the feature files is that they should read like a document and someone should be able to understand what is happening.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L45](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L45)<br><strong>Comment</strong>: <pre>is it worthwhile to expand the testcase, to do it without tls? are you planning to do so? if not, we could delete this parameter. Or, how about would you consider setting the env var to set up mutual tls? Does the new API pay any attention to that?

We really should touch only the different parameters that are relevant to the new transaction API, and none others.

And include a parameter in this table only if we actually use different values in different scenarios.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L45](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/chaincodes.feature#L45)<br><strong>Comment</strong>: <pre>I do think that we can delete the interface and ccName parameters here since they are all the same thing. Maybe once JavaSDK gets incorporated, we can add interface back. And as Nick indicated that he wants to test this without tls, I would also change one of the items in the list to "without tls".</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/configs/network-config.json#L67](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/configs/network-config.json#L67)<br><strong>Comment</strong>: <pre>I just have questions:
What is ccp? Can we give this a better name?
Do we need more than one orderer?
Where can I find all these attributes defined?
Why would anyone add a peer that has chaincodeQuery false?
Maybe these can all be answered if FAB-11808 contained any references to the new docs of the new programming model or tutorials.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/configs/network-config.json#L67](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/configs/network-config.json#L67)<br><strong>Comment</strong>: <pre>Sound like Nick has agreed to change this to "common-connection-profile"

Doc: https://fabric-sdk-node.github.io/Gateway.html</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/sdk/node/invoke.js#L13](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/sdk/node/invoke.js#L13)<br><strong>Comment</strong>: <pre>I'm not sure why this was hanged. I'm pretty sure that we should be using the shorter license text.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/sdk/node/invoke.js#L218](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/sdk/node/invoke.js#L218)<br><strong>Comment</strong>: <pre>Can we move this to the top of the file?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/sdk/node/invoke.js#L218](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/sdk/node/invoke.js#L218)<br><strong>Comment</strong>: <pre>makes sense to me</pre><strong>Commenter</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>CommentLine</strong>: [feature/sdk/node/invoke.js#L218](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/sdk/node/invoke.js#L218)<br><strong>Comment</strong>: <pre>That was my initial instinct, but the documentation for the module states that it must be at the end of the file</pre><strong>Commenter</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>CommentLine</strong>: [feature/sdk/node/invoke.js#L218](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/sdk/node/invoke.js#L218)<br><strong>Comment</strong>: <pre>must be at bottom of file: https://www.npmjs.com/package/make-runnable</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/sdk/node/query.js#L13](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/sdk/node/query.js#L13)<br><strong>Comment</strong>: <pre>revert back to shorter license text</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/sdk/node/query.js#L73](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/fc7ab2a2c2daeafecd06d918e16e5bbd3e3daa62/feature/sdk/node/query.js#L73)<br><strong>Comment</strong>: <pre>Thank you!</pre></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 11/1/2018, 8:01:38 AM<br><strong>UnmergedRevision</strong>: [df45dcf053959098e77a3d28789ac9cdfee94c1e](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/df45dcf053959098e77a3d28789ac9cdfee94c1e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/1/2018, 8:25:30 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L37](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/df45dcf053959098e77a3d28789ac9cdfee94c1e/feature/chaincodes.feature#L37)<br><strong>Comment</strong>: <pre>Thanks - this is clearer to me. This seems to be an important differentiation. I'm wondering if we may also want to point this out in the README or something... This may be good enough, though.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L48](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/df45dcf053959098e77a3d28789ac9cdfee94c1e/feature/chaincodes.feature#L48)<br><strong>Comment</strong>: <pre>"without tls" to ad the diversity that we talked about.</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_util.py#L149](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/df45dcf053959098e77a3d28789ac9cdfee94c1e/feature/steps/endorser_util.py#L149)<br><strong>Comment</strong>: <pre>The order of these variables are switched. opts should go after user</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_util.py#L151](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/df45dcf053959098e77a3d28789ac9cdfee94c1e/feature/steps/endorser_util.py#L151)<br><strong>Comment</strong>: <pre>same here. opts should go after user</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_util.py#L222](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/df45dcf053959098e77a3d28789ac9cdfee94c1e/feature/steps/endorser_util.py#L222)<br><strong>Comment</strong>: <pre>The order of these variables are switched. opts should go after user</pre><strong>Commenter</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>CommentLine</strong>: [feature/steps/endorser_util.py#L629](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/df45dcf053959098e77a3d28789ac9cdfee94c1e/feature/steps/endorser_util.py#L629)<br><strong>Comment</strong>: <pre>The order of these variables are switched. opts should go after user</pre></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 11/1/2018, 12:29:20 PM<br><strong>UnmergedRevision</strong>: [2427dd86add4db31735c49be99411bf79df79b57](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/2427dd86add4db31735c49be99411bf79df79b57)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/1/2018, 1:26:08 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [feature/chaincodes.feature#L49](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/2427dd86add4db31735c49be99411bf79df79b57/feature/chaincodes.feature#L49)<br><strong>Comment</strong>: <pre>we could do without two of these lines.</pre></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Created</strong>: 11/2/2018, 4:39:29 AM<br><strong>UnmergedRevision</strong>: [1cea329b3289ab1c747388616a04b02003a04d63](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/1cea329b3289ab1c747388616a04b02003a04d63)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/22/2018, 6:40:41 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/2/2018, 8:34:42 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 18</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 11/26/2018, 10:26:31 AM<br><strong>UnmergedRevision</strong>: [daa80e6faea99952cdc305d15ddbb7c56f2913ac](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/daa80e6faea99952cdc305d15ddbb7c56f2913ac)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/26/2018, 11:17:18 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/2/2018, 8:34:42 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Approved</strong>: 11/28/2018, 9:38:17 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 19</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nick Lincoln - nkl199@yahoo.co.uk<br><strong>Uploader</strong>: Latitia Haskins - latitia.haskins@gmail.com<br><strong>Created</strong>: 11/28/2018, 9:35:46 PM<br><strong>GitHubMergedRevision</strong>: [476fc132a012741d8659f9c445f1c5ad61b2ffa3](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/476fc132a012741d8659f9c445f1c5ad61b2ffa3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/28/2018, 10:25:42 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/29/2018, 9:27:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 11/29/2018, 9:27:58 AM<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 11/29/2018, 9:27:44 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>