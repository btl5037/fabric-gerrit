<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 31727<br><strong>Subject</strong>: [FAB-7138] PTE supports connection profile<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 6/5/2019, 10:46:25 AM<br><strong>LastUpdated</strong>: 6/12/2019, 9:20:05 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-7138] PTE supports connection profile

This CR is to have PTE comsume connection profile.
Both yaml and json format are supported.
The service credential file support is deprecated.

Change-Id: I5caffc3dcb992561ee640de5d2657c68211aea97
Signed-off-by: Dongming <dongming@ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/5/2019, 10:46:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2019, 10:51:14 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3019/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2019, 11:14:21 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3019/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3019</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/5/2019, 3:25:53 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(3 comments)

Lots more for me to inspect, but here are a few comments.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/5/2019, 3:41:46 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/5/2019, 3:43:34 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2019, 3:46:19 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3022/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/5/2019, 4:09:43 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3022/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3022</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/5/2019, 5:39:59 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(4 comments)

Looking better. Still reviewing; but here are a few more comments.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 1:49:02 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(2 comments)</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 2:54:57 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 2:55:05 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(2 comments)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 2:57:51 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(3 comments)

pte-main review comments</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 2:58:53 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3025/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 3:27:24 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3025/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3025</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 3:34:49 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 3:36:02 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3026/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 3:58:59 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3026/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3026</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 4:17:39 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 4:17:45 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 4:23:15 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3027/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 4:50:54 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3027/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3027</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/6/2019, 4:52:31 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 4:56:17 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3028/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 5:23:18 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3028/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3028</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/7/2019, 2:53:35 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 2:58:54 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3029/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:23:02 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3029/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3029</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/7/2019, 3:55:26 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review-1

(10 comments)

Finished. Please make sure we addressed all the comments in previous reviews, too, or opened jira tasks, or let's discuss the remaining ones if there are still any unaddressed.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/7/2019, 4:56:31 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/7/2019, 4:56:44 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(9 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 4:59:03 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3030/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 5:28:16 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3030/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/3030</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/10/2019, 11:48:40 AM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review-1

(18 comments)</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/11/2019, 1:43:52 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(4 comments)</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/11/2019, 2:34:38 PM<br><strong>Message</strong>: <pre>Patch Set 8: -Code-Review

(4 comments)</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 6/11/2019, 2:35:13 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/11/2019, 2:36:42 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+2

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 2:39:43 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/3035/</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/11/2019, 2:41:16 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified+1

Giving a "pass" on the verification job failure; the tests must be changed to use the conn profile, since that is what the PTE tool looks for (once we merge this update). Those changes are coming later today to hopefully get the pte smoke test (and other pte tests) to pass again.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 6/11/2019, 2:41:28 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 2:46:28 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/687/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:11:23 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/687/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/687</pre><strong>Reviewer</strong>: VIJAY BABU PUNUGUBATI - vijaypunugubati@gmail.com<br><strong>Reviewed</strong>: 6/12/2019, 9:16:26 AM<br><strong>Message</strong>: <pre>Patch Set 9:

remerge</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2019, 9:20:05 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/688/</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/5/2019, 10:46:25 AM<br><strong>UnmergedRevision</strong>: [f6b54ffdc44e507149e503bc84f3d9002ea98ecd](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/f6b54ffdc44e507149e503bc84f3d9002ea98ecd)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/5/2019, 11:14:21 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L7](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L7)<br><strong>Comment</strong>: <pre>Can we just say "a blockchain network"?  There is nothing here specific to IBP, is there?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L7](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L7)<br><strong>Comment</strong>: <pre>ok</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L7](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L7)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L59](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L59)<br><strong>Comment</strong>: <pre>ok, but where are the orderer orgs?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L59](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L59)<br><strong>Comment</strong>: <pre>do not use orderer org</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L59](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L59)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L260](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L260)<br><strong>Comment</strong>: <pre>is there a reason we are using ca0 with org1, ca1 with org2, etc? I know it does not matter much, and I won't object if there is a reason, but I raise it because it could be confusing/suspicious to someone trying to debug things in future.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L260](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L260)<br><strong>Comment</strong>: <pre>there is no particular reason to associate ca0 with org1 etc since this is just an example for our own test</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/SCFiles/config.yaml#L260](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/f6b54ffdc44e507149e503bc84f3d9002ea98ecd/tools/PTE/SCFiles/config.yaml#L260)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/5/2019, 3:41:46 PM<br><strong>UnmergedRevision</strong>: [c193c820fd2e56ae15732d5be5f620f98b76e033](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/c193c820fd2e56ae15732d5be5f620f98b76e033)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/5/2019, 4:09:43 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 6/5/2019, 5:39:59 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ConnProfiles/config.yaml#L146](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/ConnProfiles/config.yaml#L146)<br><strong>Comment</strong>: <pre>One of my questions was WHY we have peer orgs in the connection profile, each with a list of peers (as in lines 126-127), whereas the orderers are listed individually. Why isn't this connection profile built to have a list of ordererorgs too, each with a list of orderer(s)?
Hmmmm; does cryptogen support multiple orderer orgs? If it just assumes one, then maybe this is the reason it looks this way. I see "ordererOrganizations" directory but I do not see any specific ordererorg2 in the certs paths. Question for the NL guys: Are we going to have to enhance cryptogen too, when we use it with NL for configs with multiple ordererorgs?

How would this look for test configs requiring 2 (or more) orderer orgs? I think we should create this connprofile using 2 (or more). Bharadwaj's tests to add/remove orderers used 7 orderers, with (I think) the first four in ordererorg1 and the next three in ordererorg2. That said, I guess it is not required for this initial merge, but if you want to defer it then at least please create another testtask to change this config accordingly, along with the PTE changes necessary to read it.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ConnProfiles/config.yaml#L146](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/ConnProfiles/config.yaml#L146)<br><strong>Comment</strong>: <pre>we may need to talk about this.  At least IBP's connection profile does not have orderer org, see FAB-15393.  If we decide to include orderer org, I can open a jira task.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ConnProfiles/config.yaml#L146](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/ConnProfiles/config.yaml#L146)<br><strong>Comment</strong>: <pre>Let's discuss this with dev team. Possible cryptogen enhancement and configtxgen enhancement too.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ConnProfiles/config.yaml#L146](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/ConnProfiles/config.yaml#L146)<br><strong>Comment</strong>: <pre>agree, let's talk about this</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L0)<br><strong>Comment</strong>: <pre>Actually, after reviewing this file, it occurs to me that we should remove all references to SCFiles throughout this. Anyone that clones this version of fabric-test PTE should see only the ConnProfiles. If they clone the older version of fabric-test PTE, then they would see the SCFiles. (If you want to modify the comments about SCFiles in the older versions, then do that BEFORE you submit this update, or do it in 1.4 or earlier releases only.)</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L0)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L146](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L146)<br><strong>Comment</strong>: <pre>ConnProfiles</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L146](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L146)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L849](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L849)<br><strong>Comment</strong>: <pre>Should this be:

  ConnProfile
    ConnProfiles/config.yaml</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L849](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L849)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L873](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L873)<br><strong>Comment</strong>: <pre>ditto</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L873](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/README.md#L873)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/marblescc_privInputs/marblescc-priv-chan1-constant-i-TLS.json#L69](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/marblescc_privInputs/marblescc-priv-chan1-constant-i-TLS.json#L69)<br><strong>Comment</strong>: <pre>For all these files that list the ConnProfile...
What is your plan to support multiple connection profiles? Are we going to list each individual connprofile (config.yaml org2config.yaml org3config.yaml) files here on separate lines? Let's consider usecases and scenarios. For instance, could there be a desire to do it that way in order for someone to be able to run a pte test using only the peers in their own org connprofile? If the test was written generically, it could be used to point traffic to all peers in an individual orgNconfig.yaml, then try it again with a different org2config.yam., then org3config.yaml. That might be easier than editing the test to specify which peers to send traffic to. But it also adds complexity. The user could just as easily write the testcase to send traffic to every peer in all orgs and do it just once.

Therefore, I think it might be better if we provide only a path here (e.g.: "ConnProfiles" or "ConnProfiles/testprofile1") pointing to a directory containing *.yaml files, instead of a specific filename? That is how we do it in fabric-test/tools/networktest/runPTE.sh (referring to the --dir option for the path "networktest/connectionprofile/").

If we do this, then depending on the alternative chosen, it means we may also need to change the config filename itself accordingly, from PTE/ConnProfiles/config.yaml to something like PTE/ConnProfiles/testprofile1/config.yaml</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/marblescc_privInputs/marblescc-priv-chan1-constant-i-TLS.json#L69](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/marblescc_privInputs/marblescc-priv-chan1-constant-i-TLS.json#L69)<br><strong>Comment</strong>: <pre>The use case is that user can specify the peers to send proposal, e.g., org1:peer1 and org2:peer1.  My plan was to list one connection profile a line.  It might be a good idea to point to a dir that contains all connection profiles. This will be easier for the case of large org number.  I need to change PTE to read in all files in a dir.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/marblescc_privInputs/marblescc-priv-chan1-constant-i-TLS.json#L69](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/marblescc_privInputs/marblescc-priv-chan1-constant-i-TLS.json#L69)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L232](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L232)<br><strong>Comment</strong>: <pre>I think we need upper case "ID" here, both times on this line AND on the previous line for ordererID.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L232](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L232)<br><strong>Comment</strong>: <pre>done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L232](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L232)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L915](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L915)<br><strong>Comment</strong>: <pre>I don't think we need two semicolons !</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L915](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L915)<br><strong>Comment</strong>: <pre>done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L915](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L915)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1237](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L1237)<br><strong>Comment</strong>: <pre>why changing this to a DIFFERENT function name?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1237](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L1237)<br><strong>Comment</strong>: <pre>done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-main.js#L1237](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/c193c820fd2e56ae15732d5be5f620f98b76e033/tools/PTE/pte-main.js#L1237)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/6/2019, 2:54:57 PM<br><strong>UnmergedRevision</strong>: [bb32e3d1ec43f0052a8d113b73d4d0fd995fb799](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/bb32e3d1ec43f0052a8d113b73d4d0fd995fb799)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/6/2019, 3:27:24 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 6/6/2019, 2:57:51 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/6/2019, 3:34:49 PM<br><strong>UnmergedRevision</strong>: [5be44d5484deb0587901a433213dfa74457ae74c](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/5be44d5484deb0587901a433213dfa74457ae74c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/6/2019, 3:58:59 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/6/2019, 4:17:39 PM<br><strong>UnmergedRevision</strong>: [f671881b784d7dc799964ff01f04bcef7316f742](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/f671881b784d7dc799964ff01f04bcef7316f742)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/6/2019, 4:50:54 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/6/2019, 4:52:31 PM<br><strong>UnmergedRevision</strong>: [9af826985c1bd20260fc3c30a45cca9cc7acf081](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/9af826985c1bd20260fc3c30a45cca9cc7acf081)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/6/2019, 5:23:18 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ConnProfiles/test-network/config.yaml#L7](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/ConnProfiles/test-network/config.yaml#L7)<br><strong>Comment</strong>: <pre>I think you missed some of my earlier comments. This should be:
"a blockchain network"</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/ConnProfiles/test-network/config.yaml#L7](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/ConnProfiles/test-network/config.yaml#L7)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L134](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L134)<br><strong>Comment</strong>: <pre>ConnProfiles/test-network/config.yaml</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L134](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L134)<br><strong>Comment</strong>: <pre>done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L134](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L134)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L254](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L254)<br><strong>Comment</strong>: <pre>insert /test-network/</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L254](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L254)<br><strong>Comment</strong>: <pre>done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L254](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L254)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L1082](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L1082)<br><strong>Comment</strong>: <pre>insert /test-network/</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L1082](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L1082)<br><strong>Comment</strong>: <pre>done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L1082](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/README.md#L1082)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L232](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-execRequest.js#L232)<br><strong>Comment</strong>: <pre>This seems arbitrary. Should this be a global variable?
Should we set it to the Nid? Or set to the "name" specified in the config.yaml? (If you agree makes sense, then I suggest to please create another jira testtask to  make this generalization usability enhancement because it affects several files.)
https://gerrit.hyperledger.org/r/c/fabric-test/+/31727/4/tools/PTE/ConnProfiles/config.yaml#6</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L232](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-execRequest.js#L232)<br><strong>Comment</strong>: <pre>This is ok for now since we only support one connection profile.  When we make changes to support multiple connection profiles, I am thinking to have an array of pointers for connection profiles.  We can discuss this later.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L232](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-execRequest.js#L232)<br><strong>Comment</strong>: <pre>I created FAB-15671, to support multiple conn profiles, and added an appropriate reference note to capture this idea.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L232](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-execRequest.js#L232)<br><strong>Comment</strong>: <pre>great, thx</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L661](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-execRequest.js#L661)<br><strong>Comment</strong>: <pre>delete line; not used in this function</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L661](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-execRequest.js#L661)<br><strong>Comment</strong>: <pre>done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L661](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-execRequest.js#L661)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L174](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L174)<br><strong>Comment</strong>: <pre>Will the push be skipped for duplicates (if we call this function twice)? If not then need some sort of bool indicator to prevent doing it more than once.
Also, the only thing this does is print a log. Should it return the name(s)?
Oh, I see, you are only retrieving the list of names to fill in "global" array. Later you just use the 0-indexed name for something. A little awkward.  Should probably return the list itself. What do you think?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L174](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L174)<br><strong>Comment</strong>: <pre>This should be modified when supporting multiple connection profiles.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L174](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L174)<br><strong>Comment</strong>: <pre>I added a note about this to FAB-15671.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L174](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L174)<br><strong>Comment</strong>: <pre>thx</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L280](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L280)<br><strong>Comment</strong>: <pre>should we return null? not sure.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L280](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L280)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L280](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L280)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L289](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L289)<br><strong>Comment</strong>: <pre>should we return null? not sure.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L289](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L289)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L289](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L289)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L331](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L331)<br><strong>Comment</strong>: <pre>Will this crash if there are no orderer names? Should we check first for an empty list? and maybe return null?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L331](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L331)<br><strong>Comment</strong>: <pre>add orderer check in pte-main.js</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L331](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L331)<br><strong>Comment</strong>: <pre>No; actually those changes in pte-main might be incorrect once we try to support multiple connection profiles - some of which may not have orderers.

Besides this solution won't work for this util function. This file, in line 171, has its own ordererName[]. I think you need to check here (and other places in this file that index into ordererName[]).

Would it make more sense to return the ordererName array from the getOrdererName() function? That way, we would not have different files with different local copies of ordererName[], which could potentially lead to errors.</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L331](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L331)<br><strong>Comment</strong>: <pre>PTE will exit if pte-main.js detects that no orderers is listed in the connection profile,  Hence pte-util.js will NOT be executed.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-util.js#L331](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/9af826985c1bd20260fc3c30a45cca9cc7acf081/tools/PTE/pte-util.js#L331)<br><strong>Comment</strong>: <pre>OK. Acknowledge the orderers are needed to send transactions, so this is ok. we will need to reexamine when support mult conn profiles.</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/7/2019, 2:53:35 PM<br><strong>UnmergedRevision</strong>: [b6c569a23a539a82b59e80b51f334df3d901801a](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/b6c569a23a539a82b59e80b51f334df3d901801a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2019, 3:23:02 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 6/7/2019, 3:55:26 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/7/2019, 4:56:31 PM<br><strong>UnmergedRevision</strong>: [3f0f7c11ec1ebe74711d9c2ae303682e8d97cc7e](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/3f0f7c11ec1ebe74711d9c2ae303682e8d97cc7e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2019, 5:28:16 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 6/11/2019, 2:35:13 PM<br><strong>GitHubMergedRevision</strong>: [c2c8e9e89dd90f97066e8c9670a5e77d0eed8a46](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/c2c8e9e89dd90f97066e8c9670a5e77d0eed8a46)<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 6/11/2019, 2:36:42 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 6/11/2019, 2:41:28 PM<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 6/11/2019, 2:41:16 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>