<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 31214<br><strong>Subject</strong>: [FAB-15315] PTE general chaincode support<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 5/3/2019, 1:39:20 PM<br><strong>LastUpdated</strong>: 5/14/2019, 6:21:16 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-15315] PTE general chaincode support

This CR is to add general chaincode support in PTE
- add a new ccType, general
- add new payload type, min, and max

Change-Id: I4d647922832f243633b7177e8b013fc966c4e251
Signed-off-by: Dongming <dongming@ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 5/3/2019, 1:39:20 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2019, 1:42:42 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2897/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2019, 2:14:35 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2897/ : UNSTABLE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2897</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 5/9/2019, 11:20:05 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2019, 11:22:47 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2944/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2019, 11:53:42 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2944/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2944</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 5/13/2019, 1:16:35 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 5/13/2019, 3:55:13 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 5/13/2019, 3:55:29 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/13/2019, 3:59:20 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2951/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/13/2019, 4:28:44 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2951/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2951</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 5/13/2019, 5:35:57 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(2 comments)</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 5/14/2019, 10:42:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Reviewed</strong>: 5/14/2019, 10:42:27 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2019, 10:52:51 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2956/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2019, 11:23:59 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2956/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2956</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 5/14/2019, 5:48:36 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 5/14/2019, 5:48:46 PM<br><strong>Message</strong>: <pre>Patch Set 5: Patch Set 4 was rebased</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 5/14/2019, 5:48:50 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2019, 6:21:05 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2961/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2961</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2019, 6:21:16 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/675/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/675</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 5/3/2019, 1:39:20 PM<br><strong>UnmergedRevision</strong>: [7726d3e2338129d0776f5718550dbe7852a9b0af](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/7726d3e2338129d0776f5718550dbe7852a9b0af)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/3/2019, 2:14:35 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 5/9/2019, 11:20:05 AM<br><strong>UnmergedRevision</strong>: [804a0dd1c6d967e2d8f87501331aebfc47ab82f6](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/804a0dd1c6d967e2d8f87501331aebfc47ab82f6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/9/2019, 11:53:42 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 5/13/2019, 1:16:35 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L1096](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/804a0dd1c6d967e2d8f87501331aebfc47ab82f6/tools/PTE/README.md#L1096)<br><strong>Comment</strong>: <pre>It seems it might be easier to understand if, instead of lists of each of these, we grouped them the orthogonal way: For each index, provide a structure with all these items. But I see how this is flexible and consistent with other things you have developed, so... how about if we just create a more complicated example above that has more than one thing in the list, and uses different args?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L1096](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/804a0dd1c6d967e2d8f87501331aebfc47ab82f6/tools/PTE/README.md#L1096)<br><strong>Comment</strong>: <pre>It might be easier for users to follow if rearrange the arguments orthogonally.  But it will be different from other arguments such as burst frequency and duration.  Probably we better to change all at the same time to avoid confusion later.  How do you think?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L1096](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/804a0dd1c6d967e2d8f87501331aebfc47ab82f6/tools/PTE/README.md#L1096)<br><strong>Comment</strong>: <pre>Yes we can defer discussion until later time, and do all at same time if we decide to do it. ok. For now, can you create a more complicated example above that has two or more items in each key list, and uses different args types?</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L1098](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/804a0dd1c6d967e2d8f87501331aebfc47ab82f6/tools/PTE/README.md#L1098)<br><strong>Comment</strong>: <pre>can we add some more words here to emphasize the difference of this from the keyPayLoadType discussed above? it is easy to get confused.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L2410](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/804a0dd1c6d967e2d8f87501331aebfc47ab82f6/tools/PTE/pte-execRequest.js#L2410)<br><strong>Comment</strong>: <pre>I see what you are deleting. Why were those lines here in the first place? Was it because any higher numbers would be impossible to do?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/pte-execRequest.js#L2410](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/804a0dd1c6d967e2d8f87501331aebfc47ab82f6/tools/PTE/pte-execRequest.js#L2410)<br><strong>Comment</strong>: <pre>In the beginning, PTE cannot handle freq < 2000.  This should be removed earlier when the limitation is fixed.</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 5/13/2019, 3:55:13 PM<br><strong>UnmergedRevision</strong>: [90251e8c7979827fb4d7fe7975b172cc87e451d1](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/90251e8c7979827fb4d7fe7975b172cc87e451d1)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/13/2019, 4:28:44 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L821](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/90251e8c7979827fb4d7fe7975b172cc87e451d1/tools/PTE/README.md#L821)<br><strong>Comment</strong>: <pre>or now, can you create a more complicated example here that shows at least two items in these key lists, and maybe even uses different args types?</pre><strong>Commenter</strong>: Dongming Hwang - dongming@ibm.com<br><strong>CommentLine</strong>: [tools/PTE/README.md#L821](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/90251e8c7979827fb4d7fe7975b172cc87e451d1/tools/PTE/README.md#L821)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Created</strong>: 5/14/2019, 10:42:08 AM<br><strong>UnmergedRevision</strong>: [cd68b87d14ad04db9c942826122ec7a5da7e8b72](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/cd68b87d14ad04db9c942826122ec7a5da7e8b72)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2019, 11:23:59 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 5/14/2019, 5:48:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Dongming Hwang - dongming@ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 5/14/2019, 5:48:46 PM<br><strong>GitHubMergedRevision</strong>: [99d8ee12bc1c9a9ad0f49cb3907de9a70e707de9](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/99d8ee12bc1c9a9ad0f49cb3907de9a70e707de9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2019, 11:23:59 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 5/14/2019, 5:48:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 5/14/2019, 5:48:50 PM<br><br></blockquote>