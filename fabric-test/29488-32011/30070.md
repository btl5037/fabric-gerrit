<strong>Project</strong>: fabric-test<br><strong>Branch</strong>: master<br><strong>ID</strong>: 30070<br><strong>Subject</strong>: [FAB-14225] RAFT overlapping consenters sets<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 3/13/2019, 3:25:38 PM<br><strong>LastUpdated</strong>: 3/13/2019, 5:44:50 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-14225] RAFT overlapping consenters sets

Change-Id: I739cf6f2f0465b953c56bb03175d3d75acacbeec
Signed-off-by: bharadwajambati1 <bharadwaj.ambati1@ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Reviewed</strong>: 3/13/2019, 3:25:38 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/13/2019, 3:31:08 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2649/</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 3/13/2019, 4:09:15 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(20 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/13/2019, 4:13:43 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2649/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/2649</pre><strong>Reviewer</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Reviewed</strong>: 3/13/2019, 4:27:47 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/13/2019, 4:27:54 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2653/</pre><strong>Reviewer</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Reviewed</strong>: 3/13/2019, 4:54:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 3/13/2019, 4:54:42 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1 Code-Review+2</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 3/13/2019, 4:54:46 PM<br><strong>Message</strong>: <pre>Patch Set 4: Patch Set 3 was rebased</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 3/13/2019, 4:54:51 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Scott Zwierzynski</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/13/2019, 4:54:51 PM<br><strong>Message</strong>: <pre>Patch Set 3:

No Builds Executed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/13/2019, 4:57:56 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2654/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/13/2019, 5:02:00 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/607/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/13/2019, 5:44:50 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-test-merge-x86_64/607/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/607</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Uploader</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Created</strong>: 3/13/2019, 3:25:38 PM<br><strong>UnmergedRevision</strong>: [05d789cd117057512ad2706aaa2a4b993ee44a5e](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/05d789cd117057512ad2706aaa2a4b993ee44a5e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/13/2019, 4:13:43 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 3/13/2019, 4:09:15 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/CISCFiles/config-chan2-TLS.json#L38](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/CISCFiles/config-chan2-TLS.json#L38)<br><strong>Comment</strong>: <pre>I don't know what this is used for, if anything. But let's set this to an orderer in this channel2 that is in ordererorg1 (2nd or 3rd).

2nd</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/CISCFiles/config-chan2-TLS.json#L45](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/CISCFiles/config-chan2-TLS.json#L45)<br><strong>Comment</strong>: <pre>I don't know what this is used for, if anything. But let's set this to an orderer in this channel2 that is in ordererorg2 (only 4th).

4th</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/CISCFiles/config-chan2-TLS.json#L83](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/CISCFiles/config-chan2-TLS.json#L83)<br><strong>Comment</strong>: <pre>This is ok.
But in retrospect, since you did this, we could have easily directed the traffic for these 2 threads to a different orderer (either 3rd or 4th). But is fine as it is now.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan1-create-TLS.json#L17](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan1-create-TLS.json#L17)<br><strong>Comment</strong>: <pre>12i</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan1-join-TLS.json#L17](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan1-join-TLS.json#L17)<br><strong>Comment</strong>: <pre>12i

It looks like you forgot to change this pathname in all your files. Please search and change all occurrances from CITest/FAB-14225-4i to CITest/FAB-14225-12i</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan2-create-TLS.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan2-create-TLS.json#L2)<br><strong>Comment</strong>: <pre>2</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan2-join-TLS.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan2-join-TLS.json#L2)<br><strong>Comment</strong>: <pre>2</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan3-create-TLS.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan3-create-TLS.json#L2)<br><strong>Comment</strong>: <pre>3</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan3-join-TLS.json#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/chan3-join-TLS.json#L2)<br><strong>Comment</strong>: <pre>3</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/runCases-chan-create-TLS.txt#L1](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/runCases-chan-create-TLS.txt#L1)<br><strong>Comment</strong>: <pre>remove the comment marker '#', so we could create all 3 channels</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/preconfig/channels/runCases-chan-join-TLS.txt#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/preconfig/channels/runCases-chan-join-TLS.txt#L2)<br><strong>Comment</strong>: <pre>remove the comment markers '#', so we could join all peers to all 3 channels</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/samplecc/PTEMgr-FAB-14225-12i-TLS.txt#L1](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/samplecc/PTEMgr-FAB-14225-12i-TLS.txt#L1)<br><strong>Comment</strong>: <pre>12i</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/samplecc/PTEMgr-FAB-14225-12i-TLS.txt#L1](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/samplecc/PTEMgr-FAB-14225-12i-TLS.txt#L1)<br><strong>Comment</strong>: <pre>12i</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/samplecc/runCases-FAB-14225-12i-TLS.txt#L1](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/samplecc/runCases-FAB-14225-12i-TLS.txt#L1)<br><strong>Comment</strong>: <pre>12i</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/samplecc/runCases-FAB-14225-12i-TLS.txt#L2](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/samplecc/runCases-FAB-14225-12i-TLS.txt#L2)<br><strong>Comment</strong>: <pre>12i</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/samplecc/runCases-FAB-14225-12i-TLS.txt#L3](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/samplecc/runCases-FAB-14225-12i-TLS.txt#L3)<br><strong>Comment</strong>: <pre>12i</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/samplecc/samplecc-chan2-FAB-14225-4i-TLS.json#L10](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/samplecc/samplecc-chan2-FAB-14225-4i-TLS.json#L10)<br><strong>Comment</strong>: <pre>RoundRobin</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/FAB-14225-12i/test_nl.sh#L0](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/FAB-14225-12i/test_nl.sh#L0)<br><strong>Comment</strong>: <pre>Change this to bring up a raft network with 7 orderers.
Hmmmm, I don't think PTE can autogenerate a configtx file yet using networkLauncher that could create 2 ordererorgs, nor create channels with partially overlapping consenter sets as required by this testcase (ABC, BCD, EFG). So probably the best this is to just delete this file.</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/README.md#L111](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/README.md#L111)<br><strong>Comment</strong>: <pre>in 3 channels with partially overlapping consenter sets (requires 3 channel profile consenter sets and 3 unique SCfiles),</pre><strong>Commenter</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>CommentLine</strong>: [tools/PTE/CITest/README.md#L111](https://github.com/hyperledger-gerrit-archive/fabric-test/blob/05d789cd117057512ad2706aaa2a4b993ee44a5e/tools/PTE/CITest/README.md#L111)<br><strong>Comment</strong>: <pre>delete this phrase</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Uploader</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Created</strong>: 3/13/2019, 4:27:47 PM<br><strong>UnmergedRevision</strong>: [624d0eacc447ee9cd2faf3355cba52efded7fa77](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/624d0eacc447ee9cd2faf3355cba52efded7fa77)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Uploader</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Created</strong>: 3/13/2019, 4:54:15 PM<br><strong>UnmergedRevision</strong>: [a6107a4d09326c0193cba440c41add92ef428697](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/a6107a4d09326c0193cba440c41add92ef428697)<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 3/13/2019, 4:54:42 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 3/13/2019, 4:54:42 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Bharadwaj Ambati - bharadwaj.ambati1@ibm.com<br><strong>Uploader</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Created</strong>: 3/13/2019, 4:54:46 PM<br><strong>GitHubMergedRevision</strong>: [8a9d955405bfaf11b5a967a88c3b1a836d30b550](https://github.com/hyperledger-gerrit-archive/fabric-test/commit/8a9d955405bfaf11b5a967a88c3b1a836d30b550)<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 3/13/2019, 4:54:42 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Scott Zwierzynski<br><strong>Merged</strong>: 3/13/2019, 4:54:51 PM<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 3/13/2019, 4:54:42 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>