<strong>Project</strong>: fabric-samples<br><strong>Branch</strong>: master<br><strong>ID</strong>: 28206<br><strong>Subject</strong>: FAB-13305 Update scripts to pull latest artifacts<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 12/16/2018, 4:57:15 PM<br><strong>LastUpdated</strong>: 1/4/2019, 9:28:27 AM<br><strong>CommitMessage</strong>:<br><pre>FAB-13305 Update scripts to pull latest artifacts

Update byfn/eyfn Jenkins script to get the latest
version binaries for fabric and fabric-ca

Change-Id: I0a310385285b1c086a6cfef0f7cb1c1906ed8351
Signed-off-by: Sambhav Nidamarty <sambhavdutt@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/16/2018, 4:57:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>Reviewed</strong>: 12/16/2018, 5:27:06 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(4 comments)</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/16/2018, 6:00:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/16/2018, 6:01:45 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(4 comments)</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/16/2018, 7:55:29 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3: Commit message was updated.</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/16/2018, 9:24:00 PM<br><strong>Message</strong>: <pre>Patch Set 3:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/16/2018, 9:24:11 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/149/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/16/2018, 9:30:09 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/149/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-byfn/149</pre><strong>Reviewer</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 10:35:47 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 12:26:04 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 12:26:13 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/150/</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 12:27:56 PM<br><strong>Message</strong>: <pre>Patch Set 4:

https://jenkins.hyperledger.org/sandbox/job/fabric-samples-verify-byfn/5/consoleFull

This CR is working in Jenkins Sandbox</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 12:30:24 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/150/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-byfn/150</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 12:33:50 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 12:37:32 PM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 12:37:38 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/151/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 12:43:57 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/151/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-byfn/151</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 3:11:50 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 3:12:00 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/152/</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 3:14:33 PM<br><strong>Message</strong>: <pre>Patch Set 5:

> (1 comment)

Done</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 3:29:51 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/152/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-byfn/152</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 3:30:36 PM<br><strong>Message</strong>: <pre>Patch Set 5:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 3:30:46 PM<br><strong>Message</strong>: <pre>Patch Set 5: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/153/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/17/2018, 3:57:50 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/153/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-byfn/153</pre><strong>Reviewer</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>Reviewed</strong>: 12/17/2018, 4:22:18 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+1</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 1/2/2019, 4:36:43 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 1/3/2019, 9:23:34 AM<br><strong>Message</strong>: <pre>Patch Set 5: -Code-Review

Ramesh, Sambhav, shouldn't fabric-samples pull the fabric of the matching release, rather than latest?  That's one reason why we have release-specific samples... so that a specific release samples is guaranteed to work with a specific release of fabric.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 1/3/2019, 9:24:29 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 1/3/2019, 11:02:24 AM<br><strong>Message</strong>: <pre>Patch Set 5:

> Ramesh, Sambhav, shouldn't fabric-samples pull the fabric of the
 > matching release, rather than latest?  That's one reason why we
 > have release-specific samples... so that a specific release samples
 > is guaranteed to work with a specific release of fabric.

@Dave
This change is just for the master/development branch where we fetch the latest binaries. The release branches are getting the correct version of fabric binaries(/images)in the test.</pre><strong>Reviewer</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>Reviewed</strong>: 1/3/2019, 11:23:54 AM<br><strong>Message</strong>: <pre>Patch Set 5:

> > Ramesh, Sambhav, shouldn't fabric-samples pull the fabric of the
 > > matching release, rather than latest?  That's one reason why we
 > > have release-specific samples... so that a specific release
 > samples
 > > is guaranteed to work with a specific release of fabric.
 > 
 > @Dave
 > This change is just for the master/development branch where we
 > fetch the latest binaries. The release branches are getting the
 > correct version of fabric binaries(/images)in the test.

Dave & Sambhav, Yes we fetch binaries from nexus2 snapshot url. This where the nightly master job publishes the binaries. All the release branches publishes to release url and the scripts pull matching release versions from nexus2.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 1/3/2019, 3:34:19 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/4/2019, 9:03:07 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/4/2019, 9:03:09 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2019, 9:14:19 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-merge-byfn/28/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-merge-byfn/28</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2019, 9:28:27 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-merge-byfn/29/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-merge-byfn/29</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 12/16/2018, 4:57:15 PM<br><strong>UnmergedRevision</strong>: [af83de1fcd90f46c3c1abeec1adcff494977cc24](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/af83de1fcd90f46c3c1abeec1adcff494977cc24)<br><br><strong>Approver</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>Approved</strong>: 12/16/2018, 5:27:06 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L11](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L11)<br><strong>Comment</strong>: <pre>fabric-ca is not required here</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L11](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L11)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L15](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L15)<br><strong>Comment</strong>: <pre>As we doing this in master branch, let's keep "latest" here.</pre><strong>Commenter</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L15](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L15)<br><strong>Comment</strong>: <pre>latest</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L15](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L15)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L15](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L15)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L29](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L29)<br><strong>Comment</strong>: <pre>latest</pre><strong>Commenter</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L29](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/af83de1fcd90f46c3c1abeec1adcff494977cc24/scripts/Jenkins_Scripts/byfn_eyfn.sh#L29)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 12/16/2018, 6:00:17 PM<br><strong>UnmergedRevision</strong>: [095c4ec74f8522ad7b79c0ecd817e97d19632f9e](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/095c4ec74f8522ad7b79c0ecd817e97d19632f9e)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 12/16/2018, 7:55:29 PM<br><strong>UnmergedRevision</strong>: [63575c1faedd102e32b0520a5dab7753d413db29](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/63575c1faedd102e32b0520a5dab7753d413db29)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/16/2018, 9:30:09 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>Approved</strong>: 12/17/2018, 10:35:47 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>CommentLine</strong>: [scripts/Jenkins_Scripts/byfn_eyfn.sh#L15](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/63575c1faedd102e32b0520a5dab7753d413db29/scripts/Jenkins_Scripts/byfn_eyfn.sh#L15)<br><strong>Comment</strong>: <pre>the ARCH here pointing to https://github.com/hyperledger/fabric-samples/blob/master/Jenkinsfile#L13 (amd64). I think you have keep below line at 11

MARCH=$(echo "$(uname -s|tr '[:upper:]' '[:lower:]'|sed 's/mingw64_nt.*/windows/')-$(uname -m | sed 's/x86_64/amd64/g')" | awk '{print tolower($0)}')
echo "Arch: $MARCH"</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 12/17/2018, 12:26:04 PM<br><strong>UnmergedRevision</strong>: [a9da95efbe2d69bdf0e647b5e2797c602e3a4a3c](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/a9da95efbe2d69bdf0e647b5e2797c602e3a4a3c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/17/2018, 12:43:57 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Approved</strong>: 12/17/2018, 12:33:50 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Uploader</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Created</strong>: 12/17/2018, 3:11:50 PM<br><strong>GitHubMergedRevision</strong>: [c7572aad9b63862691f4116a645123bc41a3ab25](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/c7572aad9b63862691f4116a645123bc41a3ab25)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/17/2018, 3:57:50 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Ramesh Babu Thoomu - rameshbabu.thoomu@gmail.com<br><strong>Approved</strong>: 12/17/2018, 4:22:18 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 1/4/2019, 9:03:07 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 1/4/2019, 9:03:09 AM<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 1/3/2019, 3:34:19 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>