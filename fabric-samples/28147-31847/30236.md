<strong>Project</strong>: fabric-samples<br><strong>Branch</strong>: master<br><strong>ID</strong>: 30236<br><strong>Subject</strong>: [FAB-14711] update byfn with new lifecycle<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Assignee</strong>:<br><strong>Created</strong>: 3/19/2019, 2:49:49 PM<br><strong>LastUpdated</strong>: 3/26/2019, 1:36:06 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-14711] update byfn with new lifecycle

Change-Id: I24dd3e85f6dedab52b05ce3103ee06435f01f9a3
Signed-off-by: Alessandro Sorniotti <ale.linux@sopit.net>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/19/2019, 2:49:49 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/19/2019, 2:49:56 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/92/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/19/2019, 2:57:44 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/92/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/92</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/19/2019, 2:58:19 PM<br><strong>Message</strong>: <pre>Patch Set 1:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/19/2019, 2:58:26 PM<br><strong>Message</strong>: <pre>Patch Set 1: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/93/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/19/2019, 3:07:49 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/93/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/93</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 3/19/2019, 3:10:39 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+1

I a run the code locally and it works.</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/19/2019, 5:15:51 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/19/2019, 5:16:01 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/94/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/19/2019, 5:25:23 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/94/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/94</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/20/2019, 4:36:54 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 4:37:04 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/95/</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/20/2019, 4:38:34 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 4:38:35 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/95/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/95</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 4:38:44 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/96/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 4:47:39 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/96/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/96</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/20/2019, 4:49:38 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 4:49:45 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/97/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 5:01:29 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/97/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/97</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/20/2019, 5:31:28 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 5:31:40 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/98/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 5:45:23 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/98/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/98</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/20/2019, 6:36:21 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 6:36:30 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/99/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 6:48:23 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/99/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/99</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/20/2019, 7:25:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 7:25:31 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/100/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 7:36:27 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/100/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/100</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/20/2019, 9:03:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 9:03:31 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/101/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 9:14:26 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/101/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/101</pre><strong>Reviewer</strong>: Sambhav Nidamarty - sambhavdutt@gmail.com<br><strong>Reviewed</strong>: 3/20/2019, 10:29:07 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 10:29:17 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/102/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/20/2019, 10:53:48 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/102/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/102</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 3/20/2019, 11:26:58 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(2 comments)

Ale, do you intend to remove the chaincode upgrade step altogether or want to do it later in another CR? Because - the doc would still be talking about upgrading the chaincode.</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/21/2019, 4:11:32 PM<br><strong>Message</strong>: <pre>Patch Set 5: Published edit on patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/21/2019, 4:11:41 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/116/</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/21/2019, 4:14:30 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(2 comments)

Thanks Manish, that section of the docs is also being updated

https://gerrit.hyperledger.org/r/#/c/29866/6/docs/source/channel_update_tutorial.rst@681

to state that we no longer require an upgrade since the chaincode endorsement policy now references the channel policy</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/21/2019, 4:39:52 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/116/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/116</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/22/2019, 12:49:39 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(1 comment)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 3/22/2019, 12:57:17 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 3/26/2019, 10:05:01 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(5 comments)

Generally looks good... a few nits, feel free to address, or not.</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/26/2019, 11:25:20 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/26/2019, 11:25:27 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/146/</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/26/2019, 11:25:56 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(4 comments)

Thanks Jason - I've addressed all of your comments in the new patch set</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/26/2019, 12:00:41 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/146/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-verify-x86_64/146</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 3/26/2019, 12:29:19 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+2

(1 comment)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/26/2019, 1:14:06 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+2

Only minor changes since Manish +2'd so I'll just go ahead and merge</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 3/26/2019, 1:14:09 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Alessandro Sorniotti</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/26/2019, 1:36:06 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-samples-merge-x86_64/27/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-samples-merge-x86_64/27</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - aso@zurich.ibm.com<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 3/19/2019, 2:49:49 PM<br><strong>UnmergedRevision</strong>: [50fb8bd8e43421d9f1e2845cd51d6476689a4d38](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/50fb8bd8e43421d9f1e2845cd51d6476689a4d38)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/19/2019, 3:07:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Approved</strong>: 3/19/2019, 3:10:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - aso@zurich.ibm.com<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 3/19/2019, 5:15:51 PM<br><strong>UnmergedRevision</strong>: [dc0baf3463c8986b2dc84fba786f28cd26c1e311](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/dc0baf3463c8986b2dc84fba786f28cd26c1e311)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/19/2019, 5:25:23 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - aso@zurich.ibm.com<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 3/20/2019, 4:36:54 AM<br><strong>UnmergedRevision</strong>: [de4b3ec980341857690926f4393dccc6c980cf1b](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/de4b3ec980341857690926f4393dccc6c980cf1b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/20/2019, 4:38:35 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - aso@zurich.ibm.com<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 3/20/2019, 4:38:34 AM<br><strong>UnmergedRevision</strong>: [568dfaa3419536f550ca387c910b7f91c5c33524](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/568dfaa3419536f550ca387c910b7f91c5c33524)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/20/2019, 10:53:48 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [first-network/scripts/script.sh#L100](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/568dfaa3419536f550ca387c910b7f91c5c33524/first-network/scripts/script.sh#L100)<br><strong>Comment</strong>: <pre>should not verify here that peers of both orgs committed both the approvals before proceeding to commit step?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [first-network/scripts/script.sh#L100](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/568dfaa3419536f550ca387c910b7f91c5c33524/first-network/scripts/script.sh#L100)<br><strong>Comment</strong>: <pre>It wouldn't hurt but I'm not sure we have that query yet. That said, I believe we call approveForMyOrg with waitForEvent, which should only return once the tx commits, so in theory it should be guaranteed that the definition for both org commits - wouldn't you agree?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [first-network/scripts/script.sh#L100](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/568dfaa3419536f550ca387c910b7f91c5c33524/first-network/scripts/script.sh#L100)<br><strong>Comment</strong>: <pre>As discussed with you and Jason, FAB-14779 tracks the work required to introduce a query step here after the approve but before the commit step.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L127](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/568dfaa3419536f550ca387c910b7f91c5c33524/first-network/scripts/utils.sh#L127)<br><strong>Comment</strong>: <pre>the output of the command is not dumped to log.txt?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L127](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/568dfaa3419536f550ca387c910b7f91c5c33524/first-network/scripts/utils.sh#L127)<br><strong>Comment</strong>: <pre>Ouch - yup, good catch. Let me fix</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - aso@zurich.ibm.com<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 3/21/2019, 4:11:32 PM<br><strong>UnmergedRevision</strong>: [f4972272040e86254249bf511b69a413f6b99bc8](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/f4972272040e86254249bf511b69a413f6b99bc8)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/21/2019, 4:39:52 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Approved</strong>: 3/22/2019, 12:57:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [first-network/configtx.yaml#L165](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/configtx.yaml#L165)<br><strong>Comment</strong>: <pre>This should now be false, as it's unnecessary if V2_0 has been included.  In fact, I might simply delete the non-current capabilities across this config.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [first-network/configtx.yaml#L165](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/configtx.yaml#L165)<br><strong>Comment</strong>: <pre>Good catch, thanks! I've set it as false in this CR, we might want to remove all the old ones (also in other sections) in another CR - wdyt?</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [first-network/configtx.yaml#L165](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/configtx.yaml#L165)<br><strong>Comment</strong>: <pre>Works for me!</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L119](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/scripts/utils.sh#L119)<br><strong>Comment</strong>: <pre>Not the end of the world, but a little weird to use shift here when you also reference $2?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L119](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/scripts/utils.sh#L119)<br><strong>Comment</strong>: <pre>Yeah, the scope of this patch mutated as I coded it up - I started from minor changes to existing functions (hence the shift), but then moved on to just create whole new functions where the shift no longer made sense. Removed - thx!</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L168](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/scripts/utils.sh#L168)<br><strong>Comment</strong>: <pre>Also here, just strikes me as a little odd.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L168](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/scripts/utils.sh#L168)<br><strong>Comment</strong>: <pre>As above - removed. Thx</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L192](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/scripts/utils.sh#L192)<br><strong>Comment</strong>: <pre>Ah, perhaps this is where the 'shift' originates from?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L192](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/scripts/utils.sh#L192)<br><strong>Comment</strong>: <pre>Right, this is one of the instances where the shift makes sense</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [first-network/scripts/utils.sh#L377](https://github.com/hyperledger-gerrit-archive/fabric-samples/blob/f4972272040e86254249bf511b69a413f6b99bc8/first-network/scripts/utils.sh#L377)<br><strong>Comment</strong>: <pre>Comment is incorrect.</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - aso@zurich.ibm.com<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 3/26/2019, 11:25:20 AM<br><strong>GitHubMergedRevision</strong>: [27774297ecb8ebf915d129735e308b0e320d76cf](https://github.com/hyperledger-gerrit-archive/fabric-samples/commit/27774297ecb8ebf915d129735e308b0e320d76cf)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/26/2019, 12:00:41 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 3/26/2019, 12:29:19 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Approved</strong>: 3/26/2019, 1:14:06 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Alessandro Sorniotti<br><strong>Merged</strong>: 3/26/2019, 1:14:09 PM<br><br></blockquote>