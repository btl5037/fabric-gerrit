<strong>Project</strong>: fabric-chaincode-evm<br><strong>Branch</strong>: master<br><strong>ID</strong>: 26323<br><strong>Subject</strong>: [FAB-11082] implement eth_getTransactionByHash<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 9/14/2018, 6:51:22 PM<br><strong>LastUpdated</strong>: 11/5/2018, 2:29:33 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-11082] implement eth_getTransactionByHash

Change-Id: Ib7bbcac981c1b4ac714f94c5650d4d93d43e3af7
Signed-off-by: Morgan Bauer <mbauer@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/14/2018, 6:51:22 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/14/2018, 6:59:19 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/98/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/14/2018, 6:59:31 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/98/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/98/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/98</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/14/2018, 7:45:01 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/14/2018, 7:45:12 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/99/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/14/2018, 7:49:23 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/99/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/99/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/99</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/17/2018, 3:57:18 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/17/2018, 3:57:26 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/100/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/17/2018, 4:01:31 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/100/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/100/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/100</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/17/2018, 7:41:25 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/17/2018, 7:50:19 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/102/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/17/2018, 7:50:34 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/102/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/102/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/102</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/17/2018, 9:28:13 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/17/2018, 9:35:40 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/105/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/17/2018, 9:40:04 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/105/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/105/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/105</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/26/2018, 3:26:32 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6: Patch Set 5 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2018, 3:26:41 PM<br><strong>Message</strong>: <pre>Patch Set 6: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/107/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2018, 3:34:04 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/107/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/107</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/27/2018, 12:34:36 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7: Patch Set 6 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2018, 12:37:58 PM<br><strong>Message</strong>: <pre>Patch Set 7: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/110/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2018, 12:42:57 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/110/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/110/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/110</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/27/2018, 12:45:21 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8: Patch Set 7 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2018, 12:45:30 PM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/112/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2018, 12:53:54 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/112/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/112</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/27/2018, 1:59:54 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2018, 2:00:03 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/113/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2018, 2:08:23 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/113/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/113</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 10/4/2018, 5:39:03 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review-1

(5 comments)

We should add more information in the transaction we return.</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/10/2018, 4:37:40 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(3 comments)

I think this requires more work, so I'll push the other one immediately.</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/10/2018, 4:41:55 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/10/2018, 4:50:41 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/134/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/10/2018, 4:51:51 AM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/134/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/134</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/10/2018, 6:03:31 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/10/2018, 6:11:55 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/136/</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/10/2018, 6:12:37 AM<br><strong>Message</strong>: <pre>Patch Set 10:

can someone validate I'm on the right path?

I think there may need to be a bigger disambiguation between contract deploy and contract invoke.

Deploy:
To: 0 Forty Times (txn first input)
From: address based on fabric private key [ is this 'evm chaincode invoke with "account" arg' ?]
Input: Contract bytes args (txn second input)

Invoke/Call:
To: evm address (txn first input)
From: fabric contract deployed address (block address? transaction address?) 
Input: contract args (txn second input)


To and Input look fairly consistent, it is From that changes and requires work to figure out.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/10/2018, 6:14:53 AM<br><strong>Message</strong>: <pre>Patch Set 11: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/136/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/136</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/18/2018, 11:32:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12: Patch Set 11 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/18/2018, 11:53:55 AM<br><strong>Message</strong>: <pre>Patch Set 12: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/189/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/18/2018, 11:59:10 AM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/189/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/189</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/25/2018, 6:01:01 AM<br><strong>Message</strong>: <pre>Uploaded patch set 13: Patch Set 12 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/25/2018, 6:01:10 AM<br><strong>Message</strong>: <pre>Patch Set 13: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/190/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/25/2018, 6:09:49 AM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/190/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/190/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/190</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/29/2018, 2:30:34 PM<br><strong>Message</strong>: <pre>Uploaded patch set 14: Patch Set 13 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 2:35:44 PM<br><strong>Message</strong>: <pre>Patch Set 14: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/196/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 2:40:39 PM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/196/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/196</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/29/2018, 7:01:24 PM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 7:01:35 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/200/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 7:12:03 PM<br><strong>Message</strong>: <pre>Patch Set 15: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/200/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/200</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 10/30/2018, 1:16:54 PM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review-1

(8 comments)

I think almost ready. Just a few cleanups in the code and tests are needed.</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 5:38:10 PM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 5:38:19 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/206/</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 5:44:31 PM<br><strong>Message</strong>: <pre>Patch Set 15:

(6 comments)

ready for another go around.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 5:51:35 PM<br><strong>Message</strong>: <pre>Patch Set 16: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/206/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/206</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 6:17:30 PM<br><strong>Message</strong>: <pre>Uploaded patch set 17: Patch Set 16 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 6:17:39 PM<br><strong>Message</strong>: <pre>Patch Set 17: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/207/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/31/2018, 6:28:17 PM<br><strong>Message</strong>: <pre>Patch Set 17: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/207/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/207</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 7:01:10 PM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review+2</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 11/2/2018, 1:55:55 AM<br><strong>Message</strong>: <pre>Patch Set 17:

(2 comments)

i think some comments are needed here explaining the difference between TxID and TxHash in the context of Fabric. Basically, Fabric computes TxID from creator and nonce, whereas Ethereum computes TxHash with keccak256(signedTx), and there's no TxID in Ethereum, AFAIK. We need to make the implication clear that user is not expected to compute TxHash and query with it. they should always use TxID returned when they issue the request.</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 11/2/2018, 1:28:09 PM<br><strong>Message</strong>: <pre>Patch Set 17:

(2 comments)

> (2 comments)
 > 
 > i think some comments are needed here explaining the difference
 > between TxID and TxHash in the context of Fabric. Basically, Fabric
 > computes TxID from creator and nonce, whereas Ethereum computes
 > TxHash with keccak256(signedTx), and there's no TxID in Ethereum,
 > AFAIK. We need to make the implication clear that user is not
 > expected to compute TxHash and query with it. they should always
 > use TxID returned when they issue the request.

I am not familiar with these details. Where should we document this?</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 11/2/2018, 7:26:43 PM<br><strong>Message</strong>: <pre>Patch Set 17:

(1 comment)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 11/2/2018, 9:22:38 PM<br><strong>Message</strong>: <pre>Patch Set 17: Code-Review+2

(1 comment)

> Patch Set 17:
> 
> (2 comments)
> 
> > (2 comments)
>  > 
>  > i think some comments are needed here explaining the difference
>  > between TxID and TxHash in the context of Fabric. Basically, Fabric
>  > computes TxID from creator and nonce, whereas Ethereum computes
>  > TxHash with keccak256(signedTx), and there's no TxID in Ethereum,
>  > AFAIK. We need to make the implication clear that user is not
>  > expected to compute TxHash and query with it. they should always
>  > use TxID returned when they issue the request.
> 
> I am not familiar with these details. Where should we document this?

Maybe a follow up patch to add a very concise API doc? if you create a JIRA saying we should document this somewhere, I'm also fine :)</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 11/5/2018, 2:23:54 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Swetha Repakula</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/5/2018, 2:29:33 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-merge-master-x86_64/26/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-chaincode-evm-merge-master-x86_64/26/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-merge-master-x86_64/26</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/14/2018, 6:51:22 PM<br><strong>UnmergedRevision</strong>: [5378c18b8a9aa6cca02c6f86b2ad154d11c4244f](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/5378c18b8a9aa6cca02c6f86b2ad154d11c4244f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/14/2018, 6:59:31 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/14/2018, 7:45:01 PM<br><strong>UnmergedRevision</strong>: [6b76d388bc2bca495267c556230ea6b4fe04f0e6](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/6b76d388bc2bca495267c556230ea6b4fe04f0e6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/14/2018, 7:49:23 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/17/2018, 3:57:18 PM<br><strong>UnmergedRevision</strong>: [77fdca124682f6478bb20182759a68d00950b66c](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/77fdca124682f6478bb20182759a68d00950b66c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/17/2018, 4:01:31 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/17/2018, 7:41:25 PM<br><strong>UnmergedRevision</strong>: [1af05c730faf4c4e731bdc375654d0bfe7dfdb87](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/1af05c730faf4c4e731bdc375654d0bfe7dfdb87)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/17/2018, 7:50:34 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/17/2018, 9:28:13 PM<br><strong>UnmergedRevision</strong>: [f1e2b40e912b0b07f991e7ab8dbade6db37fa763](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/f1e2b40e912b0b07f991e7ab8dbade6db37fa763)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/17/2018, 9:40:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/26/2018, 3:26:32 PM<br><strong>UnmergedRevision</strong>: [26932b2d4b56d178ead6668a4df0533c19041c79](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/26932b2d4b56d178ead6668a4df0533c19041c79)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/26/2018, 3:34:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/27/2018, 12:34:36 PM<br><strong>UnmergedRevision</strong>: [b875e625ad7764f351906e5420490dbe81a54ed8](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/b875e625ad7764f351906e5420490dbe81a54ed8)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/27/2018, 12:42:57 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/27/2018, 12:45:21 PM<br><strong>UnmergedRevision</strong>: [583f93e285d08b05c1373f1e08df5d575709c63d](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/583f93e285d08b05c1373f1e08df5d575709c63d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/27/2018, 12:53:54 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/27/2018, 1:59:54 PM<br><strong>UnmergedRevision</strong>: [4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/27/2018, 2:08:23 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 10/4/2018, 5:39:03 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L469](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L469)<br><strong>Comment</strong>: <pre>Can we add from to the transaction?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L473](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L473)<br><strong>Comment</strong>: <pre>We can include the input in the transaction.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L475](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L475)<br><strong>Comment</strong>: <pre>We can include the to on the transaction as we should know which contract is being called.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L475](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L475)<br><strong>Comment</strong>: <pre>these three would be similar logic to that in GetTransactionReceipt, right? 

Is
 from  == caller 
 to  == callee
right?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L476](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L476)<br><strong>Comment</strong>: <pre>We should be able to fins this information from the block.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L476](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L476)<br><strong>Comment</strong>: <pre>Is there the possibility for more than one evm transaction in a block? I think the current implementation here may be incorrect if this is the case.

I think this means we have to unpack the block and iterate through the blockdata, unmarshalling the payload->envelope->etc sequence and then finding the matching transaction.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L480](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L480)<br><strong>Comment</strong>: <pre>Can we delete these fields that we aren't using? Maybe just link to definition of the transaction. Just to be cleaner.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L480](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/4a630b07df5dc09e8fb38b5dc6c2ccc6b65e95cd/fabproxy/ethservice.go#L480)<br><strong>Comment</strong>: <pre>ya, weird that I don't have it at the top here. I think maybe it didn't have a consistent location in the eth rpc definition.</pre></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/10/2018, 4:41:55 AM<br><strong>UnmergedRevision</strong>: [881e251a6f0b6692f38823b77bfaa5c09cbe3407](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/881e251a6f0b6692f38823b77bfaa5c09cbe3407)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/10/2018, 4:51:51 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/10/2018, 6:03:31 AM<br><strong>UnmergedRevision</strong>: [dd40ef637d2a15c5796062e1111674f45f3b2345](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/dd40ef637d2a15c5796062e1111674f45f3b2345)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/10/2018, 6:14:53 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/18/2018, 11:32:25 AM<br><strong>UnmergedRevision</strong>: [3ff8531a9b4b78f44066b52f43bb6da9e5426f43](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/3ff8531a9b4b78f44066b52f43bb6da9e5426f43)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/18/2018, 11:59:10 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: NO_CHANGE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/25/2018, 6:01:01 AM<br><strong>UnmergedRevision</strong>: [43549af8e9967dd060ea7219b29d27a81803577b](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/43549af8e9967dd060ea7219b29d27a81803577b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/25/2018, 6:09:49 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/29/2018, 2:30:34 PM<br><strong>UnmergedRevision</strong>: [e6eef2e0c9a234b376f736de74c7189bd1d65dca](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/e6eef2e0c9a234b376f736de74c7189bd1d65dca)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 2:40:39 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/29/2018, 7:01:24 PM<br><strong>UnmergedRevision</strong>: [56aa1008f5f336f5d8a084724b9d8328bacd5232](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/56aa1008f5f336f5d8a084724b9d8328bacd5232)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 7:12:03 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 10/30/2018, 1:16:54 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L485](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L485)<br><strong>Comment</strong>: <pre>is this still an open question?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L485](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L485)<br><strong>Comment</strong>: <pre>No. I'll take the comment out.

The resolution was that iterating through the transactions in the block allows us to get the index, and that we still need other block data, so looking the transaction up directly does not save effort, other than perhaps by verifying that the transaction looks the same in both places.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L543](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L543)<br><strong>Comment</strong>: <pre>Could this piece not be refactored?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L543](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L543)<br><strong>Comment</strong>: <pre>not sure how to do it cleanly. In gettransactionreciept, payload is only used once to give to the next step, here I use it twice, for both the next step and a later step with the channel header.

I've restructured the code to stop as early as possible before doing more processing.

Needs smarter datastructures and less direct proto handling.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L551](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L551)<br><strong>Comment</strong>: <pre>can't these be combined into one check? Also not sure we should be throwing an error in this case. I think it makes more sense to assume it wasn't an evm transaction and not provide the information the input information in the transaction.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L551](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L551)<br><strong>Comment</strong>: <pre>so `break` and bail with the partially filled data? Okay.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L562](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L562)<br><strong>Comment</strong>: <pre>Not sure I understand the comment here. Can you clean it up a little? I guess what you are trying to say is that we don't care what kind of transaction we are just filling in the to and data?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L572](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L572)<br><strong>Comment</strong>: <pre>I thought you were going to add a comment here saying why we weren't going to look at from. If you aren't I would remove this comment. Maybe a better place is in the struct above?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L572](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice.go#L572)<br><strong>Comment</strong>: <pre>moved up to the struct.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice_test.go#L726](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice_test.go#L726)<br><strong>Comment</strong>: <pre>Is this context necessary?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice_test.go#L726](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice_test.go#L726)<br><strong>Comment</strong>: <pre>oops, I thought an it had to be in a context.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice_test.go#L733](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice_test.go#L733)<br><strong>Comment</strong>: <pre>when the ledger returns an error?

And perhaps pull the mockledger client piece into a before each so its clear thats the setup?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice_test.go#L733](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice_test.go#L733)<br><strong>Comment</strong>: <pre>refactored</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice_test.go#L743](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/56aa1008f5f336f5d8a084724b9d8328bacd5232/fabproxy/ethservice_test.go#L743)<br><strong>Comment</strong>: <pre>you don't need this context. I think the just have the it is fine.</pre></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/31/2018, 5:38:10 PM<br><strong>UnmergedRevision</strong>: [59a0d253501689a98f94b2eed4bf26544d03ff24](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/59a0d253501689a98f94b2eed4bf26544d03ff24)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/31/2018, 5:51:35 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 10/31/2018, 6:17:30 PM<br><strong>GitHubMergedRevision</strong>: [13951195985e1c753d010b2d492cdb9b8f31ab75](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/13951195985e1c753d010b2d492cdb9b8f31ab75)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/31/2018, 6:28:17 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Approved</strong>: 11/2/2018, 9:22:38 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 10/31/2018, 7:01:10 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Swetha Repakula<br><strong>Merged</strong>: 11/5/2018, 2:23:54 PM<br><br><h2>Comments</h2><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L459](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/13951195985e1c753d010b2d492cdb9b8f31ab75/fabproxy/ethservice.go#L459)<br><strong>Comment</strong>: <pre>elaborate a bit?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L459](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/13951195985e1c753d010b2d492cdb9b8f31ab75/fabproxy/ethservice.go#L459)<br><strong>Comment</strong>: <pre>There was an implication that this might change in the future and that it is not currently permanent. Swetha was telling me that there could be changes coming later.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L459](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/13951195985e1c753d010b2d492cdb9b8f31ab75/fabproxy/ethservice.go#L459)<br><strong>Comment</strong>: <pre>I was saying that until we decide that our account translation is the way we are going to generate accounts, we shouldn't add that piece in yet, because we will need to copy code from the evm cc into fab3 in order to get the account from a transaction since we will only have access to public key. If that code changes we will versioning problems because then fab3 and evmcc need always be the same version and at this experimental stage I didn't want to introduce the possibility of a version problem. From in my opinion is not too important at the moment, but if we think account translation from the key is stable then I am okay with adding From with this patch.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L459](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/13951195985e1c753d010b2d492cdb9b8f31ab75/fabproxy/ethservice.go#L459)<br><strong>Comment</strong>: <pre>Ah, gotcha. Maybe add a jira iteam?</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L519](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/13951195985e1c753d010b2d492cdb9b8f31ab75/fabproxy/ethservice.go#L519)<br><strong>Comment</strong>: <pre>are we printing all txid in block?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/ethservice.go#L519](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/13951195985e1c753d010b2d492cdb9b8f31ab75/fabproxy/ethservice.go#L519)<br><strong>Comment</strong>: <pre>debug statement so I can see each txn while processing the block.</pre></blockquote>