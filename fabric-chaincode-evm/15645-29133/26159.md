<strong>Project</strong>: fabric-chaincode-evm<br><strong>Branch</strong>: master<br><strong>ID</strong>: 26159<br><strong>Subject</strong>: [FAB-11082] bubble errors up to main<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 9/7/2018, 3:13:35 AM<br><strong>LastUpdated</strong>: 9/13/2018, 5:09:36 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-11082] bubble errors up to main

 - fabproxy construction now panics on programmer error
 - fabproxy start errors are printed

Change-Id: I0bff8dc807e56441291ed20a31fade1e4f99c2bf
Signed-off-by: Morgan Bauer <mbauer@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 3:13:35 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/7/2018, 3:21:06 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/66/</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 3:21:10 AM<br><strong>Message</strong>: <pre>Patch Set 1:

I think gerrit is confusing me.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/7/2018, 3:28:13 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/66/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/66</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 2:54:59 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+2

(2 comments)</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 2:55:01 PM<br><strong>Message</strong>: <pre>Removed Code-Review+2 by Swetha Repakula <srepaku@us.ibm.com>
</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 2:55:18 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

I think we need a couple more tests</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 6:36:13 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(3 comments)

Does this need a larger refactor?</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 6:37:52 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/7/2018, 6:38:02 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/72/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/7/2018, 6:45:54 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/72/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/72</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 7:33:00 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(4 comments)</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 7:57:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(3 comments)</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 8:01:56 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 8:03:23 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 9/8/2018, 2:47:03 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/8/2018, 2:17:46 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/10/2018, 3:32:28 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/10/2018, 3:32:35 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/73/</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/10/2018, 3:36:55 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/10/2018, 3:41:16 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/73/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/73</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/10/2018, 4:16:26 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/11/2018, 7:14:15 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/11/2018, 7:16:43 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4: Patch Set 3 was rebased.</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/11/2018, 7:56:00 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/11/2018, 9:13:47 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/82/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/11/2018, 9:39:43 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/82/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/82</pre><strong>Reviewer</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Reviewed</strong>: 9/12/2018, 5:22:50 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/12/2018, 5:23:00 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/88/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/12/2018, 5:31:39 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/88/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/88</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 9/13/2018, 2:22:58 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/13/2018, 5:02:02 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/13/2018, 5:02:15 PM<br><strong>Message</strong>: <pre>Patch Set 6: Patch Set 5 was rebased</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 9/13/2018, 5:02:25 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Swetha Repakula</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/13/2018, 5:09:34 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/91/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-verify-master-x86_64/91</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/13/2018, 5:09:36 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-chaincode-evm-merge-master-x86_64/12/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-evm-merge-master-x86_64/12</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/7/2018, 3:13:35 AM<br><strong>UnmergedRevision</strong>: [963c119d27fca4c36df50c2e1782776f94f0ca9d](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/963c119d27fca4c36df50c2e1782776f94f0ca9d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/7/2018, 3:28:13 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 9/7/2018, 2:55:18 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/cmd/main.go#L84](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/cmd/main.go#L84)<br><strong>Comment</strong>: <pre>This defer is pointless. It is already at the end of the function, and cannot occur before the Start() above exits.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/cmd/main.go#L84](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/cmd/main.go#L84)<br><strong>Comment</strong>: <pre>actually that needs to switch to watch for signals. i forgot to make that change.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/cmd/main.go#L84](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/cmd/main.go#L84)<br><strong>Comment</strong>: <pre>do we need a new FAB-#### to handle this? Or does it roll-up under an existing jira?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/cmd/main.go#L84](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/cmd/main.go#L84)<br><strong>Comment</strong>: <pre>ill submit a patch for it with the initial jira that was created for this</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L32)<br><strong>Comment</strong>: <pre>See comment on the `fabproxy_test.go`
I don't think we should be returning an error in the end. Because of how the code is we can never get an error (https://github.com/hyperledger/fabric-chaincode-evm/blob/master/vendor/github.com/gorilla/rpc/v2/map.go#L52-L124). We can only get it if object type is not exported, or if we don't provide a name. Both of which we will never run into because of the interface and since we pass along a name. Instead I think we should have a comment saying why we are ignoring the error. I will paste the same comment on the previous patch.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L32)<br><strong>Comment</strong>: <pre>I can agree with dropping these cases.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L32)<br><strong>Comment</strong>: <pre>actually ignore the initial comment. i don't like that we aren't testing the error but that's probably the better approach</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L32)<br><strong>Comment</strong>: <pre>I probably don't have enough context here, but my hunch is, if `rpcServer.RegisterService(service, "eth")` actually has a return value `error`, even though it never occurs, I feel we should panic on it, for two reasons:
- we explicitly handle it for readability. when I read this code before, I actually thought RegisterService returns void
- it's still never going to happen, we could just panic without adding extra code, i.e. extra return value of NewFabProxy.

wdyt?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L32)<br><strong>Comment</strong>: <pre>I was thinking about that as an option too, but i didn't know if throwing a panic was a great idea. but i do like it more than returning an error that we will never hit.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L32](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L32)<br><strong>Comment</strong>: <pre>I like panic better.
I will add a comment.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L41](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L41)<br><strong>Comment</strong>: <pre>We definitely want to test for this error.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L41](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L41)<br><strong>Comment</strong>: <pre>I'd rather drop this change for now than write a pointless test.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L41](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L41)<br><strong>Comment</strong>: <pre>I don't see it as pointless. The test makes sure we aren't ignoring any errors. It also ensures in the future if the implementation of this changes we don't ignore that use case. Without this error we would fail if we try to bind to a port already in use but nothing would be returning saying that. I don't think just having a print statement is a right approach.</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>How can I access this to force it to return an error? Am I mocking the proxy?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>create a tcp listener on the port you try to start the proxy on. basically recreate the situation in which the server would error on</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>The actual situation shouldn't matter, especially for a test. The httpserver should  be injectable so we can have this work.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>as a user though isn't the port the only that could cause the error?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>This goes back to our "design decision" discussion. 

Instead of owning the listener itself, we should implement ServeHTTP() and make this a handler that allow it to be decorated, and pass in the underlying network details.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>For the time being though we should test this error out. I think turning this into a handler isn't quite necessary at the moment. Also the router `r` we pass in is an http handler.  So we don't really need to implement the ServeHttp, but possibly just have a way to return that router</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>I think it would be better return that and call the ListenAndServe in the main method.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L50](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy.go#L50)<br><strong>Comment</strong>: <pre>I envisioned FabProxy as a server, not a handler. I don't want main to have more logic then creating the objects and starting them. I also don't see us needing to make this separation at this point</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy_test.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy_test.go#L42)<br><strong>Comment</strong>: <pre>Is there a way to test for the error?</pre><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy_test.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy_test.go#L42)<br><strong>Comment</strong>: <pre>I can add a nil check. Not sure how to force it.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy_test.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/963c119d27fca4c36df50c2e1782776f94f0ca9d/fabproxy/fabproxy_test.go#L42)<br><strong>Comment</strong>: <pre>so looking at the code for the RegisterService (https://github.com/hyperledger/fabric-chaincode-evm/blob/master/vendor/github.com/gorilla/rpc/v2/map.go#L52-L124) there is really no way for us to get an error. which makes me think we shouldn't be returning the error at all, and leave a comment saying why we are not checking the error. and i mean that in the fabproxy code.</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/7/2018, 6:37:52 PM<br><strong>UnmergedRevision</strong>: [c5f2b4467c5d4658d4c0b986a9daa864acc9dc5d](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/c5f2b4467c5d4658d4c0b986a9daa864acc9dc5d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/7/2018, 6:45:54 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/10/2018, 3:32:28 PM<br><strong>UnmergedRevision</strong>: [102e77f66201a53324db95c97d3992a0731a25b7](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/102e77f66201a53324db95c97d3992a0731a25b7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/10/2018, 3:41:16 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>CommentLine</strong>: [fabproxy/fabproxy.go#L51](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/102e77f66201a53324db95c97d3992a0731a25b7/fabproxy/fabproxy.go#L51)<br><strong>Comment</strong>: <pre>as it is, this isn't recoverable, and I don't think anyone would automate around this to make it recoverable, so I'm now leaning back toward the solution being "print or panic".</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/11/2018, 7:16:43 PM<br><strong>UnmergedRevision</strong>: [7e02bffed21263a2bd9d578176dcc5e24fa1ee26](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/7e02bffed21263a2bd9d578176dcc5e24fa1ee26)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/11/2018, 9:39:43 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Created</strong>: 9/12/2018, 5:22:50 PM<br><strong>UnmergedRevision</strong>: [d090306bbca2622d191155ca582bd2464c324371](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/d090306bbca2622d191155ca582bd2464c324371)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 9/13/2018, 2:22:58 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/12/2018, 5:31:39 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 9/13/2018, 5:02:02 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Morgan Bauer - mbauer@us.ibm.com<br><strong>Uploader</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Created</strong>: 9/13/2018, 5:02:15 PM<br><strong>GitHubMergedRevision</strong>: [44e412fde454e38e568b6664e57ddbd3f0cf18da](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/44e412fde454e38e568b6664e57ddbd3f0cf18da)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 9/13/2018, 2:22:58 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/12/2018, 5:31:39 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 9/13/2018, 5:02:02 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Swetha Repakula<br><strong>Merged</strong>: 9/13/2018, 5:02:25 PM<br><br></blockquote>