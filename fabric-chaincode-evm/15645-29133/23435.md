<strong>Project</strong>: fabric-chaincode-evm<br><strong>Branch</strong>: master<br><strong>ID</strong>: 23435<br><strong>Subject</strong>: [FAB-10787] Implement Event Publisher interface<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Assignee</strong>:<br><strong>Created</strong>: 6/21/2018, 1:45:30 AM<br><strong>LastUpdated</strong>: 11/15/2018, 9:57:44 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-10787] Implement Event Publisher interface

Change-Id: I8f078f12d35986dc855d6d9dbdd4e6317951b946
Signed-off-by: A V Lakshmy <cs16b101@smail.iitm.ac.in>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 6/21/2018, 1:45:30 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 6/21/2018, 2:44:41 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(11 comments)</pre><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 6/21/2018, 9:16:41 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 6/21/2018, 10:54:39 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(1 comment)

see comments</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 6/21/2018, 11:13:38 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(9 comments)</pre><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 6/22/2018, 9:40:58 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 6/23/2018, 9:47:21 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 6/24/2018, 9:09:34 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 6/28/2018, 3:34:15 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(9 comments)</pre><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 6/29/2018, 8:53:36 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 7/5/2018, 10:27:29 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

(14 comments)</pre><strong>Reviewer</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Reviewed</strong>: 7/6/2018, 12:49:04 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 7/7/2018, 9:23:43 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 11/15/2018, 9:03:16 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Lakshmy, should this be abandoned?</pre><strong>Reviewer</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Reviewed</strong>: 11/15/2018, 9:21:28 AM<br><strong>Message</strong>: <pre>Patch Set 7:

> Lakshmy, should this be abandoned?

Sir, I pushed another commit to Gerrit for code review a few days back. That contains the more recent changes I have made to the event-related code. So, maybe we can abandon this, and retain the latest one.</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 11/15/2018, 9:57:32 AM<br><strong>Message</strong>: <pre>Abandoned

per discussion, abandoning in favor of more recent patch</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 11/15/2018, 9:57:44 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Thanks!</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Uploader</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Created</strong>: 6/21/2018, 1:45:30 AM<br><strong>UnmergedRevision</strong>: [f0b72c6407f303f2e5567f359ee02abb8f9c56ca](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/f0b72c6407f303f2e5567f359ee02abb8f9c56ca)<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 6/21/2018, 2:44:41 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L7](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca//COMMIT_MSG#L7)<br><strong>Comment</strong>: <pre>I created a JIRA for this piece of work. Use that number instead: FAB-10787</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L23](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event.go#L23)<br><strong>Comment</strong>: <pre>What is publisher being used for?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L47](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event.go#L47)<br><strong>Comment</strong>: <pre>Does this need to be added to the event manager interface.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L77](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event.go#L77)<br><strong>Comment</strong>: <pre>This is hardcoding every event into the same object. You aren't using the message or tags that have been provided to the function.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L24](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event_test.go#L24)<br><strong>Comment</strong>: <pre>you should import this from event. And you should use Public objects/interfaces. So this should become event.EventManager.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L29](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event_test.go#L29)<br><strong>Comment</strong>: <pre>You can delete this. Look at comment below.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L34](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event_test.go#L34)<br><strong>Comment</strong>: <pre>Use this function from the event package.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L57](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event_test.go#L57)<br><strong>Comment</strong>: <pre>You are not using this functions from the stub so you don't need this definitions.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L59](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event_test.go#L59)<br><strong>Comment</strong>: <pre>We need a Describe for Flush</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L82](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event_test.go#L82)<br><strong>Comment</strong>: <pre>You should be checking to make sure the message and tags are properly sent to the stub.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L127](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/f0b72c6407f303f2e5567f359ee02abb8f9c56ca/event/event_test.go#L127)<br><strong>Comment</strong>: <pre>You shouldn't need to repeat this code in the Test file.</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Uploader</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Created</strong>: 6/21/2018, 9:16:41 PM<br><strong>UnmergedRevision</strong>: [78c62026342a03ef36ac04066298b464aff14227](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/78c62026342a03ef36ac04066298b464aff14227)<br><br><strong>Approver</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Approved</strong>: 6/21/2018, 10:54:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 6/21/2018, 11:13:38 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L19](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event.go#L19)<br><strong>Comment</strong>: <pre>We should make this a public struct so that way clients, namely the proxy will be able to unmarshal individual events as.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L38](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event.go#L38)<br><strong>Comment</strong>: <pre>Is this the best way? Should this actually be a byte array?</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [event/event.go#L40](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event.go#L40)<br><strong>Comment</strong>: <pre>how do you unmarshal individual events afterwards?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L40](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event.go#L40)<br><strong>Comment</strong>: <pre>I have the same concern.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L43](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event.go#L43)<br><strong>Comment</strong>: <pre>Is this label significant? Should we add some other identifying piece to the string?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L54](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event_test.go#L54)<br><strong>Comment</strong>: <pre>You don't need a separate context for this. The Describe is enough</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L57](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event_test.go#L57)<br><strong>Comment</strong>: <pre>Maybe add some expectations on what happens to the message. We might need to inject something into the eventmanager to achieve that</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L59](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event_test.go#L59)<br><strong>Comment</strong>: <pre>You should add a error test case too. What causes the error? What should error look like when that occurs.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L95](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event_test.go#L95)<br><strong>Comment</strong>: <pre>We should check and verify that an error did not occur</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L117](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/78c62026342a03ef36ac04066298b464aff14227/event/event_test.go#L117)<br><strong>Comment</strong>: <pre>check for error</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Uploader</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Created</strong>: 6/22/2018, 9:40:58 AM<br><strong>UnmergedRevision</strong>: [bb9674140566c853035fa54aa94d89f68cc9806f](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/bb9674140566c853035fa54aa94d89f68cc9806f)<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Uploader</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Created</strong>: 6/23/2018, 9:47:21 AM<br><strong>UnmergedRevision</strong>: [1a6ec6043c7e4de6cacb94fc399bd18011cded25](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/1a6ec6043c7e4de6cacb94fc399bd18011cded25)<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Uploader</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Created</strong>: 6/24/2018, 9:09:34 PM<br><strong>UnmergedRevision</strong>: [8f6b9af8696692f85aeebbd4e5dead61414ad0d5](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/8f6b9af8696692f85aeebbd4e5dead61414ad0d5)<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 6/28/2018, 3:34:15 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L22](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event.go#L22)<br><strong>Comment</strong>: <pre>Add json tags so that the struct can be easily marshalled and unmarshalled properly</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L25](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event.go#L25)<br><strong>Comment</strong>: <pre>Is there a reason you used interface{} instead of a specific type?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L51](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event.go#L51)<br><strong>Comment</strong>: <pre>Is there a reason we are going through the list of messages instead of just using the event cache? Can we not just marshall the event cache?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L53](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event.go#L53)<br><strong>Comment</strong>: <pre>We should perhaps be more explicit about how these message are marshaled. We should have json tags for the object  struct.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L66](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event.go#L66)<br><strong>Comment</strong>: <pre>Why are we singling out Log?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L42](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event_test.go#L42)<br><strong>Comment</strong>: <pre>We should add a error case here or if no error is possible we should note that down.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L88](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event_test.go#L88)<br><strong>Comment</strong>: <pre>Instead of hardcoding the bytes, add a consistent way to obtain the payload.

We should use this as a way to test the marshalling and unmarshaling</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L99](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/event/event_test.go#L99)<br><strong>Comment</strong>: <pre>we should unmarshal the payload and make sure it matches the messages that you created in the before each</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [plugin/evmscc.go#L132](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/8f6b9af8696692f85aeebbd4e5dead61414ad0d5/plugin/evmscc.go#L132)<br><strong>Comment</strong>: <pre>I am not sure we need it in this case, because this case is about deploying contracts only</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Uploader</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Created</strong>: 6/29/2018, 8:53:36 AM<br><strong>UnmergedRevision</strong>: [d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f)<br><br><strong>Approver</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>Approved</strong>: 7/5/2018, 10:27:29 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L53](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event.go#L53)<br><strong>Comment</strong>: <pre>I think we may need to have struct that is equal to []MessagePayload in order to properly marshal and unmarshal.

Also name the error err or something to indicate its an error not a boolean. ok is usually used for bools</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L53](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event.go#L53)<br><strong>Comment</strong>: <pre>make a struct like:

type MessagePayloads struct{
  Payloads []MessagePayload
}</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event.go#L55](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event.go#L55)<br><strong>Comment</strong>: <pre>Just to stay consistent with the error messages everywhere else say something like "Failed to marshal event messages: %s"</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L62](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L62)<br><strong>Comment</strong>: <pre>Maybe call this len1? or originalLen. Something a little more descriptive.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L65](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L65)<br><strong>Comment</strong>: <pre>Maybe call currentLen, again something more descriptive</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L67](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L67)<br><strong>Comment</strong>: <pre>message or msg or maybe expectedMsg</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L87](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L87)<br><strong>Comment</strong>: <pre>Similar comments to the above it</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L92](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L92)<br><strong>Comment</strong>: <pre>this should be a when there is a type mismatch</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L93](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L93)<br><strong>Comment</strong>: <pre>this should be an error occurs</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L129](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L129)<br><strong>Comment</strong>: <pre>you should name these so its err1 and err2 or something like that.</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L130](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L130)<br><strong>Comment</strong>: <pre>maybe call this expected payload</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L135](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L135)<br><strong>Comment</strong>: <pre>Is this necessary in the before each for all the tests in this describe?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [event/event_test.go#L177](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/event/event_test.go#L177)<br><strong>Comment</strong>: <pre>you don't need this context</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [plugin/evmscc_test.go#L526](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/plugin/evmscc_test.go#L526)<br><strong>Comment</strong>: <pre>Make this context more generic. Something like "when a smart contract has events"?</pre><strong>Commenter</strong>: Swetha Repakula - srepaku@us.ibm.com<br><strong>CommentLine</strong>: [plugin/evmscc_test.go#L571](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/blob/d731f35e3e2b4b07c1258eac2d14b8e2d35ba29f/plugin/evmscc_test.go#L571)<br><strong>Comment</strong>: <pre>We don't need this context.</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Uploader</strong>: Lakshmy Ayalur Vedpuriswar - cs16b101@smail.iitm.ac.in<br><strong>Created</strong>: 7/7/2018, 9:23:43 AM<br><strong>UnmergedRevision</strong>: [606654c9473de7e04aaa2a0af6dfa5a6c38bb35b](https://github.com/hyperledger-gerrit-archive/fabric-chaincode-evm/commit/606654c9473de7e04aaa2a0af6dfa5a6c38bb35b)<br><br></blockquote>