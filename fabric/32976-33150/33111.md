<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 33111<br><strong>Subject</strong>: Check HistoryDB format<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 8/22/2019, 12:18:52 AM<br><strong>LastUpdated</strong>: 9/3/2019, 4:15:24 PM<br><strong>CommitMessage</strong>:<br><pre>Check HistoryDB format

This CR adds code to leveldbhelper to check whether the db is in the
specified format. If the db is not in the specified format, and it
contains some data, then an error is returned at the time of opening.
If the db is empty, a key is written to record the specified format
so that subsequent opening of the db succeeds.

This CR also uses the above feature for enabling
the format check for the historydb

FAB-16386 #done

Change-Id: If3e8ab2cd43ebae134618c78bcfbd65bd594d89a
Signed-off-by: manish <manish.sethi@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/22/2019, 12:18:52 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:18:59 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16679/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:19:48 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:25:55 AM<br><strong>Message</strong>: <pre>Patch Set 1: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:26:35 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16679/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16679</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/22/2019, 12:27:16 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:29:20 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14747/ (1/2)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/22/2019, 12:29:46 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:29:47 AM<br><strong>Message</strong>: <pre>Patch Set 2:

No Builds Executed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:30:06 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:30:09 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11377/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:31:01 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16680/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:31:16 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:31:45 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:38:30 AM<br><strong>Message</strong>: <pre>Patch Set 3: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:38:39 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14748/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:39:17 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16680/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16680</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:39:23 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:39:49 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14747/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14747

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11377/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11377</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:44:36 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11378/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 12:45:20 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 1:05:36 AM<br><strong>Message</strong>: <pre>Patch Set 3: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 1:54:56 AM<br><strong>Message</strong>: <pre>Patch Set 3: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2019, 1:55:43 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14748/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14748

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11378/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11378</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/23/2019, 3:13:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:13:07 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16746/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:14:04 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:20:47 PM<br><strong>Message</strong>: <pre>Patch Set 4: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:21:36 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16746/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16746</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:24:07 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14787/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:24:37 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11416/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:24:59 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:25:35 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 3:51:36 PM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 4:51:39 PM<br><strong>Message</strong>: <pre>Patch Set 4: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2019, 4:52:57 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14787/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14787

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11416/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11416</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/26/2019, 11:28:20 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:28:28 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16778/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:29:30 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:38:25 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:39:37 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16778/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16778</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:41:49 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14817/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:42:18 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11444/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:42:36 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2019, 11:43:04 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2019, 12:09:12 AM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2019, 12:48:52 AM<br><strong>Message</strong>: <pre>Patch Set 5: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2019, 12:49:35 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14817/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14817

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11444/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11444</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/27/2019, 12:30:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6: Commit message was updated.</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/28/2019, 12:26:43 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:33:10 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16822/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:34:02 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:41:16 PM<br><strong>Message</strong>: <pre>Patch Set 7: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:42:12 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16822/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16822</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:44:56 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14850/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:45:25 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11486/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:45:45 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 12:46:08 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 1:12:09 PM<br><strong>Message</strong>: <pre>Patch Set 7: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 1:53:48 PM<br><strong>Message</strong>: <pre>Patch Set 7: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 1:54:29 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11486/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11486

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14850/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14850</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/28/2019, 2:22:08 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 2:26:46 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11491/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 2:28:14 PM<br><strong>Message</strong>: <pre>Patch Set 7: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 3:59:23 PM<br><strong>Message</strong>: <pre>Patch Set 7: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 4:00:31 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11491/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11491</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/28/2019, 6:12:54 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(2 comments)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/28/2019, 10:13:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/28/2019, 10:16:28 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:19:54 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16842/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:24:26 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:34:07 PM<br><strong>Message</strong>: <pre>Patch Set 8: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:35:16 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16842/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16842</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:37:50 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14865/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:38:35 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11501/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:39:10 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 10:39:38 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 11:04:04 PM<br><strong>Message</strong>: <pre>Patch Set 8: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/28/2019, 11:06:12 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(6 comments)</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/28/2019, 11:17:52 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 11:50:48 PM<br><strong>Message</strong>: <pre>Patch Set 8: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2019, 11:51:33 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14865/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14865

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11501/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11501</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 12:20:38 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:23:18 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16844/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:24:04 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 12:26:12 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(7 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:30:44 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:31:33 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16844/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16844</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:33:29 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14866/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:34:19 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:34:24 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11502/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:35:16 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 12:59:26 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 1:45:54 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 1:46:45 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14866/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14866

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11502/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11502</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 7:47:51 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Run IntegrationTest</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 7:47:59 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 7:51:16 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11508/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 7:51:44 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14870/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 7:52:11 AM<br><strong>Message</strong>: <pre>Patch Set 9: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 7:52:30 AM<br><strong>Message</strong>: <pre>Patch Set 9: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:16:40 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:05:16 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:06:07 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11508/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11508

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14870/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14870</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/29/2019, 9:33:52 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 9:44:21 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/29/2019, 9:53:46 AM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+2

(1 comment)

Manish mentioned he'd address remaining comments in a next CR, +2ing.</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 8/29/2019, 3:34:59 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(17 comments)

Overall, approach seems reasonable to me.  But, there's definitely some cleanup I'd like to see go in.

Particularly, all of this code has a habit of simply passing errors back undecorated.  Especially in error paths which have multiple sources for errors, this can make it very unclear when printing an error where it came from and why.

Additionally, I don't think I saw any new red path testing in most places around the possibility of an error being returned.  Not the end of the world, but an obvious omission.

Finally, I think the tests overall could be improved by using 'require' in situations where a failure will likely cause a panic or otherwise will prevent the rest of the test from proceeding.  'assert' is great for running 10 test cases which do not depend on eachother and seeing the 3 that failed, but 'require' is more appropriate for checks which must proceed serially (for instance, if the ledger fails to open, query history for a key will almost definitely result in a nil ptr dereference).

There are also a handful of places in the tests where err is set and not checked.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/29/2019, 4:34:24 PM<br><strong>Message</strong>: <pre>Patch Set 9: -Code-Review</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 8:40:35 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:42:59 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16875/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:43:51 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:50:43 PM<br><strong>Message</strong>: <pre>Patch Set 10: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:51:32 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16875/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16875</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:53:15 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14890/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:53:57 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11533/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:54:03 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 8:54:49 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting Integration tests</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 9:02:56 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(18 comments)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 9:10:01 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:14:49 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16876/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:15:38 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:19:16 PM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:22:07 PM<br><strong>Message</strong>: <pre>Patch Set 11: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:22:51 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16876/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16876</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:22:56 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11533/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11533

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14890/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14890</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:25:15 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14891/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:25:53 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11534/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:26:26 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 9:26:41 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 10:01:17 PM<br><strong>Message</strong>: <pre>Patch Set 11: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 10:18:55 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/29/2019, 10:23:17 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 10:43:34 PM<br><strong>Message</strong>: <pre>Patch Set 11: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/29/2019, 10:44:28 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14891/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14891

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11534/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11534</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/30/2019, 8:51:53 AM<br><strong>Message</strong>: <pre>Patch Set 11:

(1 comment)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/30/2019, 9:43:52 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 9:49:41 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16885/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 9:50:27 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 9:57:33 AM<br><strong>Message</strong>: <pre>Patch Set 12: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 9:58:25 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16885/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16885</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 10:01:06 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14899/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 10:01:46 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11544/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 10:01:56 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 10:02:43 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 10:28:18 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 8/30/2019, 11:06:32 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 11:19:28 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 11:20:22 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14899/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14899

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11544/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11544</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/30/2019, 1:53:36 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/30/2019, 1:53:42 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(4 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 1:53:45 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16894/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 1:54:26 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 2:00:44 PM<br><strong>Message</strong>: <pre>Patch Set 13: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 2:00:55 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14908/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 2:01:29 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16894/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16894</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 2:01:41 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 2:06:58 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11554/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 2:07:46 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 2:27:09 PM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 3:22:31 PM<br><strong>Message</strong>: <pre>Patch Set 13: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/30/2019, 3:23:21 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14908/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14908

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11554/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11554</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/31/2019, 8:24:22 AM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+2</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 9/3/2019, 9:56:55 AM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 9:58:54 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16927/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 9:59:56 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 10:08:30 AM<br><strong>Message</strong>: <pre>Patch Set 14: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 10:08:40 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11573/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 10:09:30 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 10:09:36 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16927/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16927</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 10:14:35 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14929/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 10:15:41 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 10:38:04 AM<br><strong>Message</strong>: <pre>Patch Set 14: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 11:12:15 AM<br><strong>Message</strong>: <pre>Patch Set 14: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 11:12:50 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/11573/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/11573

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14929/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/14929</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 9/3/2019, 3:20:32 PM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+2

(3 comments)</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 9/3/2019, 3:47:27 PM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+2

Dave had already +2ed before the last rebase. So, merging this with my +2</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 9/3/2019, 3:47:31 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Manish Sethi</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 9/3/2019, 3:49:09 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 3:50:55 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/7583/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 3:51:08 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/6281/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/3/2019, 4:15:24 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/6281/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6281

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/7583/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/7583</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/22/2019, 12:18:52 AM<br><strong>UnmergedRevision</strong>: [11df28ab928c1d7709ff16f83a90c7b00925a123](https://github.com/hyperledger-gerrit-archive/fabric/commit/11df28ab928c1d7709ff16f83a90c7b00925a123)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2019, 12:25:55 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2019, 12:25:55 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2019, 12:39:49 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/22/2019, 12:27:16 AM<br><strong>UnmergedRevision</strong>: [2883e09002564abc64daa6f1049b8062259e71c9](https://github.com/hyperledger-gerrit-archive/fabric/commit/2883e09002564abc64daa6f1049b8062259e71c9)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/22/2019, 12:29:46 AM<br><strong>UnmergedRevision</strong>: [6355a5a19c1d82022b7c40af147b46c3a9e9f91c](https://github.com/hyperledger-gerrit-archive/fabric/commit/6355a5a19c1d82022b7c40af147b46c3a9e9f91c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2019, 12:38:30 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2019, 12:38:30 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2019, 1:54:56 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2019, 1:05:36 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/23/2019, 3:13:00 PM<br><strong>UnmergedRevision</strong>: [c846a50744bfd2bbcf8ebf27fc75cae9af068049](https://github.com/hyperledger-gerrit-archive/fabric/commit/c846a50744bfd2bbcf8ebf27fc75cae9af068049)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2019, 3:20:47 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2019, 3:20:47 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2019, 4:51:39 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2019, 3:51:36 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/26/2019, 11:28:20 PM<br><strong>UnmergedRevision</strong>: [889f1bbd0c9c1c7a91c00bf7de5dc3e267f51ae0](https://github.com/hyperledger-gerrit-archive/fabric/commit/889f1bbd0c9c1c7a91c00bf7de5dc3e267f51ae0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2019, 11:38:25 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2019, 11:38:25 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2019, 12:48:52 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2019, 12:09:12 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/27/2019, 12:30:00 PM<br><strong>UnmergedRevision</strong>: [7f28225df9ecbd0e0db0b3f15b025ba3fde35ad7](https://github.com/hyperledger-gerrit-archive/fabric/commit/7f28225df9ecbd0e0db0b3f15b025ba3fde35ad7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2019, 11:38:25 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2019, 11:38:25 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2019, 12:48:52 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2019, 12:09:12 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/28/2019, 12:26:43 PM<br><strong>UnmergedRevision</strong>: [576d8dfc6b8731c54be2978428e3886c82a74501](https://github.com/hyperledger-gerrit-archive/fabric/commit/576d8dfc6b8731c54be2978428e3886c82a74501)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 12:41:16 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 12:41:16 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 3:59:23 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 1:12:09 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/576d8dfc6b8731c54be2978428e3886c82a74501/common/ledger/util/leveldbhelper/leveldb_provider.go#L116)<br><strong>Comment</strong>: <pre>switch the order of these statements per
https://github.com/golang/go/wiki/CodeReviewComments#indent-error-flow

if !bytes.Equal then return err
last statement should be normal flow returning success.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/576d8dfc6b8731c54be2978428e3886c82a74501/common/ledger/util/leveldbhelper/leveldb_provider.go#L116)<br><strong>Comment</strong>: <pre>The link you pasted is not directly applicable here. The link talks about handling errors in the normal path. The source of the error is quite a normal path. Nonetheless, I have swapped as I am fine either way.</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/kv_ledger_provider.go#L57](https://github.com/hyperledger-gerrit-archive/fabric/blob/576d8dfc6b8731c54be2978428e3886c82a74501/core/ledger/kvledger/kv_ledger_provider.go#L57)<br><strong>Comment</strong>: <pre>Why use named return parameters pr and e?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/kv_ledger_provider.go#L57](https://github.com/hyperledger-gerrit-archive/fabric/blob/576d8dfc6b8731c54be2978428e3886c82a74501/core/ledger/kvledger/kv_ledger_provider.go#L57)<br><strong>Comment</strong>: <pre>because I access "e" in the defer statement at line 63</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/kv_ledger_provider.go#L57](https://github.com/hyperledger-gerrit-archive/fabric/blob/576d8dfc6b8731c54be2978428e3886c82a74501/core/ledger/kvledger/kv_ledger_provider.go#L57)<br><strong>Comment</strong>: <pre>I expected pr would be used as well for *Provider, but below you use p. Why not use pr?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/kv_ledger_provider.go#L57](https://github.com/hyperledger-gerrit-archive/fabric/blob/576d8dfc6b8731c54be2978428e3886c82a74501/core/ledger/kvledger/kv_ledger_provider.go#L57)<br><strong>Comment</strong>: <pre>if I use pr instead of p, I'll get pr as nil in the defer function.</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/28/2019, 10:13:00 PM<br><strong>UnmergedRevision</strong>: [2e353d88ddfc1bced913c7b5fd5794db5ecee7f7](https://github.com/hyperledger-gerrit-archive/fabric/commit/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 10:34:07 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 10:34:07 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 11:50:48 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/28/2019, 11:04:04 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L24)<br><strong>Comment</strong>: <pre>I think everywhere you use 'format', it would be more intuitive to call it 'version' or 'formatVersion'.

Upon first seeing the code I thought maybe the formatKey would describe the format rather than indicate the version of the format.</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L24)<br><strong>Comment</strong>: <pre>We'll want to be able to support a different formatVersion per database right?  e.g. in v3.0 history db may continue to use v2.0 format (no upgrade required in v3.0), while state db may get upgraded again to v3.0 format.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L24)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L24)<br><strong>Comment</strong>: <pre>yes</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L29)<br><strong>Comment</strong>: <pre>ExpectedVersion or ExpectedFormatVersion</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L29)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L32)<br><strong>Comment</strong>: <pre>in the database is equal to `ExpectedFormat` (or whatever we call it)</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L32)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L52)<br><strong>Comment</strong>: <pre>IsVersionMismatch
or
IsFormatMismatch</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L52)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L105)<br><strong>Comment</strong>: <pre>version or formatVersion</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/2e353d88ddfc1bced913c7b5fd5794db5ecee7f7/common/ledger/util/leveldbhelper/leveldb_provider.go#L105)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/29/2019, 12:20:38 AM<br><strong>UnmergedRevision</strong>: [85781ff85c14ae9169b49940fc10cc8a02369273](https://github.com/hyperledger-gerrit-archive/fabric/commit/85781ff85c14ae9169b49940fc10cc8a02369273)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 12:30:44 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 12:30:44 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 9:05:16 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 8:16:40 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74)<br><strong>Comment</strong>: <pre>Shouldn't we be adding a test to cover the error case as well?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74)<br><strong>Comment</strong>: <pre>The error case is covered in this test - https://gerrit.hyperledger.org/r/#/c/fabric/+/33111/9/core/ledger/kvledger/tests/v11_test.go@26
which tests the error propagation all the way up with all real code.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74)<br><strong>Comment</strong>: <pre>I am all in favor of not testing the paths over and over again, especially red paths.  Still, I'd typically expect for green paths to dominate multi-package large integration tests, and for red paths to be mostly tested locally within their package.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/blkstorage/fsblkstorage/pkg_test.go#L74)<br><strong>Comment</strong>: <pre>The provider returning error is tested here if this is what you are looking for - https://gerrit.hyperledger.org/r/#/c/fabric/+/33111/9/common/ledger/util/leveldbhelper/leveldb_provider_test.go@89</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/blkstorage/fsblkstorage/rollback.go#L64](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/blkstorage/fsblkstorage/rollback.go#L64)<br><strong>Comment</strong>: <pre>In all of these files, but especially in contexts where more than one error path exists, we should really be using `errors.WithMessage` to help us differentiate error cases.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/blkstorage/fsblkstorage/rollback.go#L64](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/blkstorage/fsblkstorage/rollback.go#L64)<br><strong>Comment</strong>: <pre>See response to similar comment at the other place</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper.go#L3](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_helper.go#L3)<br><strong>Comment</strong>: <pre>Not a big deal, but we retain this blank line in all our other copyright statements.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper.go#L3](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_helper.go#L3)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81)<br><strong>Comment</strong>: <pre>Seem to be missing red-path testing again?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81)<br><strong>Comment</strong>: <pre>These kind of paths you cannot tests without introducing an interface and a corresponding mock for just testing this specific bit of "if err != nil {return err}".
This leads to overuse of interfaces and mocks at very finer granularity and makes the code unreadable. In my experience, a readable code is less error prone than
the tries to chase 100% lines of code coverage blindly an eventually becomes hard to read because of level of indirections. Many packages in fabric code follow this practice and differs from other mature projects.
We have discussed this and if I am not wrong then Matt has also realized this and is convinced that overusing of interfaces and mocks for testing the tiny pieces is not the way to go.</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81)<br><strong>Comment</strong>: <pre>Right - we discussed this at length with Matt and collectively agreed that we will stop the overuse of interfaces/mocks just for the sake of getting 100% coverage. We published this in the coding guidelines here: https://wiki.hyperledger.org/display/fabric/Coding+Guidelines</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81)<br><strong>Comment</strong>: <pre>I was not suggesting that you introduce a mock.

> These kind of paths you cannot tests without introducing an interface and a corresponding mock for just testing this specific bit of "if err != nil {return err}".

I know this code much less well than you do, but, usually, it's possible to induce an error using a real.  If I were using a proto unmarshal, I could pass in malformed bytes.  If I were reading a file, I could turn off the read bits, or create a symlink to nowhere.  If I were creating a directory, I could try to name it something with a path separator in it.

Just guessing, it would be pretty trivial to test this error path by closing the DB before attempting to read from it.

It's not critical that all error paths be tested, and maybe this is an error path which doesn't deserve a test, but using reals is not an excuse for not testing.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_helper_test.go#L81)<br><strong>Comment</strong>: <pre>Yes, in this case, I can test it by closing the db. Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L42)<br><strong>Comment</strong>: <pre>Nothing strictly wrong with it, but this is atypical syntax.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L42)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L94](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L94)<br><strong>Comment</strong>: <pre>Another case where having some additional context on the error via a 'WithMessage' would be useful.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L94](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L94)<br><strong>Comment</strong>: <pre>See response to similar comment at other place</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L97)<br><strong>Comment</strong>: <pre>Under what condition do we expect this string to be empty?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L97)<br><strong>Comment</strong>: <pre>The format version of the data persisted by fabric version 1.1.x is treated as an empty string</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L97)<br><strong>Comment</strong>: <pre>I don't really see the value of the check, seems like all the logic works if you initialize the old format with an empty version (whether the key exists, or does not, you still get an empty byte slice back, no?)</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L97)<br><strong>Comment</strong>: <pre>From code point of view yes its the same. From data point of view, I like to avoid change in data unless there is no way out (and presence of a key v/s missing are different things). Is this check bothering you so much? then I don't mind one to two mapping in the persisted data?</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L97)<br><strong>Comment</strong>: <pre>I'm fine leaving it as is.  Just found reading it confusing because it seemed like there must be a case I was missing.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L98](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L98)<br><strong>Comment</strong>: <pre>This should only happen once, no? If so, I would think an info level message might be more appropriate?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L98](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L98)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L112](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L112)<br><strong>Comment</strong>: <pre>The error message should also provide guidance to drop database so that it can be rebuild upon next peer start.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L112](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L112)<br><strong>Comment</strong>: <pre>As this is a basic code that is used eventually by different stores, the specific message will be created at specific place. That is the reason that below I return a typed error.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L144](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L144)<br><strong>Comment</strong>: <pre>How can this be true?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L144](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L144)<br><strong>Comment</strong>: <pre>It can never be unless someone construct the provider using "&Provider{...}". Left over from some intermediate code when I was constructing the provider first and doing the operations in order to save some code but eventually decided to make it cleaner and constructing provider as the last thing. Will removed this check now.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_provider.go#L144](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/common/ledger/util/leveldbhelper/leveldb_provider.go#L144)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/confighistory/db_helper_test.go#L40](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/confighistory/db_helper_test.go#L40)<br><strong>Comment</strong>: <pre>For conditions like this, where if there is an error set, we will most likely crash/panic, it's better to use 'require' to halt execution rather than to attempt to continue the test.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/confighistory/db_helper_test.go#L40](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/confighistory/db_helper_test.go#L40)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/confighistory/mgr_test.go#L180](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/confighistory/mgr_test.go#L180)<br><strong>Comment</strong>: <pre>Err declared and not checked</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/confighistory/mgr_test.go#L180](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/confighistory/mgr_test.go#L180)<br><strong>Comment</strong>: <pre>In the tests, I was a bit casual at places where error is accompanied by some other return (e.g., p in this case) which would eventually lead to nil pointer causing the test failure but yes, better not to be miser in few more key punches and add assertion for error. Fixed now</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/bookkeeping/test_exports.go#L39](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/bookkeeping/test_exports.go#L39)<br><strong>Comment</strong>: <pre>If we're adding an assertion tool, maybe fix here too?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/bookkeeping/test_exports.go#L39](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/bookkeeping/test_exports.go#L39)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/bookkeeping/test_exports.go#L41](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/bookkeeping/test_exports.go#L41)<br><strong>Comment</strong>: <pre>require would be better here as well.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/bookkeeping/test_exports.go#L41](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/bookkeeping/test_exports.go#L41)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/history/db.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/history/db.go#L24)<br><strong>Comment</strong>: <pre>constant</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/history/db.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/history/db.go#L24)<br><strong>Comment</strong>: <pre>Yes, I was having it as []byte earlier but now, it can be constant. Will fix in next patch</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/history/db.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/history/db.go#L24)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/kv_ledger_provider.go#L91](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/kv_ledger_provider.go#L91)<br><strong>Comment</strong>: <pre>More cases where adding 'WithMessage' would clarify things.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/kv_ledger_provider.go#L91](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/kv_ledger_provider.go#L91)<br><strong>Comment</strong>: <pre>See response as for the similar comment at other place</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69)<br><strong>Comment</strong>: <pre>Another case where differentiating that the error came from level vs. couch would be nice.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69)<br><strong>Comment</strong>: <pre>I don't like this style of blindly keep adding to the error message at every layer which often gets repetitive. 
Ideal way of error handling is to add much info (including stack) at the origin of the error in fabric code or first place in the fabric code where the error is received from an external library.
Use 'WithMessage' in the higher layer only if you can add some more meaningful info. For instance, in this case the error is coming from either stateleveldb package or statecouchdb, which already should have enough context with stack if handled above way. Finally, the higher level message should be added where the error is being handled (e.g., getting printed and causing a panic)
By no mean, I am asserting that we have followed the approach I mentioned above but I don't see randomly adding with message everywhere as a solution as well.
To be honest, we need to re-look the errors from this perspective.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69)<br><strong>Comment</strong>: <pre>I agree, decorating at every layer with repetitive information is not particularly useful.

I see useless decoration occur frequently in our code, but usually, because the originator of the error is trying to provide _too_ much information.  I even sometimes see code which is accepting parameters from the caller, purely to include those parameters in the message of an error.  ChannelID, is probably the biggest offender.

However, I disagree that including a stack is some sort of magic bullet.  It's probably more true in the ledger code, as these errors (usually) only propagate inside fabric and are (usually) fatal.  However, I cannot count the number of times that I have seen an error message coming back to a user that says something utterly useless like "proto: unexpected field 7".  In general, stacks are useful to us, and useless to users.

As I've said before, you know this code path better than I do, but to me, I see a suspicious number of:

 if err != nil {
      return nil, err
 }

accompanied with a lot of layering, which means that an error originating in the leveldb helper, ends up arriving at the console with no useful context for a user to interpret it.

To me, I would expect a natural error message to look something like:

 could not initialize ledger: failed to open history db: database was expected to be at formatVersion '2.0', but format version was '1.4', did you remember to drop your db after upgrading?

Where each layer of wrapping adds useful context that the lower layer should not be aware of.  The leveldbhelper shouldn't know which fabric DB it's trying to open, the historydb shouldn't know whether it's being opened as part of initialization, or for some other reason.

As I already mentioned, the ledger, and in particular initialization paths where errors are fatal this is probably less important, However, it's surprising to me that at no point in the error path from the top to the bottom has additional useful context to add.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69)<br><strong>Comment</strong>: <pre>If you notice this test (https://gerrit.hyperledger.org/r/#/c/fabric/+/33111/12/core/ledger/kvledger/tests/v11_test.go@28), the current message tells about the format  error with db path (that's enough for us with a stack). But I am not making this as the final message for the user. The final message and solution to fix, would not propagate each message individually one at a time.
For instance, after fixing the historydb, it's not good to show another message for statedb and so no. That's the reason, I return a typed error here - https://gerrit.hyperledger.org/r/#/c/fabric/+/33111/12/common/ledger/util/leveldbhelper/leveldb_provider.go@117. There is already a Jira for this https://jira.hyperledger.org/browse/FAB-16471. I am less worried about missing this because this is hard to miss as this is the first message someone is going to run into during upgrade testing.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69)<br><strong>Comment</strong>: <pre>I'm still not convinced that having a stack is a good replacement for good (non-developer) human readable text. 
 But, I'll drop it.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go#L69)<br><strong>Comment</strong>: <pre>I don't think that's what I said.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/ledgermgmt/ledger_mgmt.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/ledgermgmt/ledger_mgmt.go#L71)<br><strong>Comment</strong>: <pre>Why this change? Seems effectively like a no-op? Except for making anyone trying to 'recover()' have less info.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledgermgmt/ledger_mgmt.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/ledgermgmt/ledger_mgmt.go#L71)<br><strong>Comment</strong>: <pre>Yes, this change is a no-op as long as production code is concerned because panic prints the stack.
However, if you recover this for a test (which I did here https://gerrit.hyperledger.org/r/#/c/fabric/+/33111/9/core/ledger/kvledger/tests/v11_test.go@26),
by using testify built-in function, underneath - testify performs an equality based comparison that requires you have to construct the same object for the value comparison.
(unless you just want to check that panic occurred or write your own function for asserting panic).</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/ledgermgmt/ledger_mgmt.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/ledger/ledgermgmt/ledger_mgmt.go#L71)<br><strong>Comment</strong>: <pre>I see.  Thanks for explaining.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/transientstore/store_test.go#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/transientstore/store_test.go#L52)<br><strong>Comment</strong>: <pre>err set and ignored</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/transientstore/store_test.go#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/85781ff85c14ae9169b49940fc10cc8a02369273/core/transientstore/store_test.go#L52)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/29/2019, 8:40:35 PM<br><strong>UnmergedRevision</strong>: [f9222e6304c5a9e17faf7b8e922a838cfeb5a9fc](https://github.com/hyperledger-gerrit-archive/fabric/commit/f9222e6304c5a9e17faf7b8e922a838cfeb5a9fc)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 8:50:43 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 8:50:43 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 9:19:16 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 9:22:56 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/29/2019, 9:10:01 PM<br><strong>UnmergedRevision</strong>: [657aa431b0166e2c2a950c074c180e1c28fe4e54](https://github.com/hyperledger-gerrit-archive/fabric/commit/657aa431b0166e2c2a950c074c180e1c28fe4e54)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 9:22:07 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 9:22:07 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 10:43:34 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/29/2019, 10:01:17 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/30/2019, 9:43:52 AM<br><strong>UnmergedRevision</strong>: [e37e699acdb18f6f79fc635cf56ea98dff71455c](https://github.com/hyperledger-gerrit-archive/fabric/commit/e37e699acdb18f6f79fc635cf56ea98dff71455c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 9:57:33 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 9:57:33 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 11:19:28 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 10:28:18 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 8/30/2019, 1:53:36 PM<br><strong>UnmergedRevision</strong>: [d6cbca82535794c234250605da73f4cd85a1c62d](https://github.com/hyperledger-gerrit-archive/fabric/commit/d6cbca82535794c234250605da73f4cd85a1c62d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 2:00:44 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 2:00:44 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 3:22:31 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/30/2019, 2:27:09 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 8/31/2019, 8:24:22 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Uploader</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Created</strong>: 9/3/2019, 9:56:55 AM<br><strong>GitHubMergedRevision</strong>: [5c6d34f710fd0b18e96d29b80b5b2e3675b0a1a9](https://github.com/hyperledger-gerrit-archive/fabric/commit/5c6d34f710fd0b18e96d29b80b5b2e3675b0a1a9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/3/2019, 10:08:30 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/3/2019, 10:08:30 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/3/2019, 11:12:15 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/3/2019, 10:38:04 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 9/3/2019, 3:20:32 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Approved</strong>: 9/3/2019, 3:47:27 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Manish Sethi<br><strong>Merged</strong>: 9/3/2019, 3:47:31 PM<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [common/ledger/util/leveldbhelper/leveldb_helper_test.go#L78](https://github.com/hyperledger-gerrit-archive/fabric/blob/5c6d34f710fd0b18e96d29b80b5b2e3675b0a1a9/common/ledger/util/leveldbhelper/leveldb_helper_test.go#L78)<br><strong>Comment</strong>: <pre>We should almost never be blindly asserting on error without error text.</pre></blockquote>