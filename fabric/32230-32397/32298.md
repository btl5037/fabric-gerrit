<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 32298<br><strong>Subject</strong>: [FAB-15900] - Document HSM capability for Fabric<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 7/12/2019, 5:01:00 PM<br><strong>LastUpdated</strong>: 9/27/2019, 11:46:56 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-15900] - Document HSM capability for Fabric

Add HSM to Fabric operations guides

Change-Id: I6bd2f94c1d95876a90e9c833bfd5dc225ebb438e
Signed-off-by: NIKHIL E GUPTA <negupta@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 7/12/2019, 5:01:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 7/12/2019, 5:02:06 PM<br><strong>Message</strong>: <pre>Patch Set 2: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:02:42 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15325/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:03:10 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:03:11 PM<br><strong>Message</strong>: <pre>Patch Set 1: F1-VerifyBuild+1 F3-IntegrationTest+1 F3-UnitTest+1

Succeeded, Run DocBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:03:54 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15325/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/15325</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:05:07 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/1948/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:05:43 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting documentation build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:06:18 PM<br><strong>Message</strong>: <pre>Patch Set 1: F2-DocBuild+1

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:06:19 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:07:07 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/1948/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/1948</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 7/12/2019, 5:10:23 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:11:57 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15326/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:12:31 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:12:32 PM<br><strong>Message</strong>: <pre>Patch Set 3:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/12/2019, 5:13:20 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15326/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/15326</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 7/15/2019, 5:17:13 PM<br><strong>Message</strong>: <pre>Patch Set 4: Published edit on patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2019, 5:20:46 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15411/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2019, 5:21:18 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2019, 5:21:19 PM<br><strong>Message</strong>: <pre>Patch Set 4:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2019, 5:22:18 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15411/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/15411</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 7/16/2019, 3:18:19 PM<br><strong>Message</strong>: <pre>Patch Set 5: Published edit on patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:23:49 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15449/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:24:17 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:24:18 PM<br><strong>Message</strong>: <pre>Patch Set 5: F1-VerifyBuild+1 F3-IntegrationTest+1 F3-UnitTest+1

Succeeded, Run DocBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:25:07 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15449/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/15449</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:28:50 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/1960/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:29:39 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting documentation build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:30:23 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:30:24 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 3:31:25 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/1960/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/1960</pre><strong>Reviewer</strong>: Pam Andrejko - pama@ibm.com<br><strong>Reviewed</strong>: 7/16/2019, 4:36:00 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(10 comments)

Great content here. Made me think of alot of questions.</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 7/16/2019, 5:38:28 PM<br><strong>Message</strong>: <pre>Patch Set 6: Published edit on patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:40:02 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15460/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:40:26 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:40:28 PM<br><strong>Message</strong>: <pre>Patch Set 6: F1-VerifyBuild+1 F3-IntegrationTest+1 F3-UnitTest+1

Succeeded, Run DocBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:40:37 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/1961/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:41:06 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/15460/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/15460</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:41:12 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting documentation build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:41:49 PM<br><strong>Message</strong>: <pre>Patch Set 6: F2-DocBuild+1

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:41:50 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/16/2019, 5:42:38 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/1961/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/1961</pre><strong>Reviewer</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>Reviewed</strong>: 8/9/2019, 2:52:52 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(4 comments)

> Patch Set 5:
> 
> (10 comments)
> 
> Great content here. Made me think of alot of questions.

Some pointer : 

Token is not unique per key. Token and slot are like password and file system location. What is unique per key is SKI. Public key and Private Key , both have same SKI. 

I looked at Fabric key and did not find SKI as part of MSP or Identity Object. May be Anjelo can provide some light on it. 

Once keys are created using Fabric CA client on HSM, how it'll be used from Fabric code , that is where I was struggling.</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 8/12/2019, 12:06:36 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(9 comments)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 8/12/2019, 1:09:00 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(3 comments)</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 8/12/2019, 5:33:08 PM<br><strong>Message</strong>: <pre>Patch Set 7: Published edit on patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:37:44 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16338/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:38:12 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:38:13 PM<br><strong>Message</strong>: <pre>Patch Set 7: F1-VerifyBuild+1 F3-IntegrationTest+1 F3-UnitTest+1

Succeeded, Run DocBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:38:58 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/16338/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/16338</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:42:10 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/2044/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:42:52 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting documentation build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:43:30 PM<br><strong>Message</strong>: <pre>Patch Set 7: F2-DocBuild+1

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:43:31 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/12/2019, 5:44:29 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/2044/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/2044</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 9/24/2019, 12:19:20 PM<br><strong>Message</strong>: <pre>Patch Set 8: Published edit on patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:25:39 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/17439/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:26:36 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:26:38 PM<br><strong>Message</strong>: <pre>Patch Set 8: F1-VerifyBuild+1 F3-IntegrationTest+1 F3-UnitTest+1

Succeeded, Run DocBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:27:36 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/17439/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/17439</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:32:07 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/2198/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:33:08 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting documentation build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:33:43 PM<br><strong>Message</strong>: <pre>Patch Set 8: F2-DocBuild+1

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:33:44 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/24/2019, 12:34:39 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/2198/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/2198</pre><strong>Reviewer</strong>: Pam Andrejko - pama@ibm.com<br><strong>Reviewed</strong>: 9/25/2019, 5:10:57 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(10 comments)

Really nice job Nik. You make this process seem fairly straightforward.</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 9/26/2019, 11:10:41 AM<br><strong>Message</strong>: <pre>Patch Set 9: Published edit on patch set 8.</pre><strong>Reviewer</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Reviewed</strong>: 9/26/2019, 11:10:49 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(9 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:10:52 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/17509/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:11:37 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:11:39 AM<br><strong>Message</strong>: <pre>Patch Set 9: F1-VerifyBuild+1 F3-IntegrationTest+1 F3-UnitTest+1

Succeeded, Run DocBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:12:24 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/17509/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/17509</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:18:46 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/2209/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:19:55 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting documentation build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:20:33 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:20:34 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Succeeded. View staged documentation on the logs server linked below.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/26/2019, 11:21:32 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-docs-build-x86_64/2209/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/2209</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 9/26/2019, 1:11:44 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(3 comments)</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 9/26/2019, 6:06:47 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+2

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 9/27/2019, 11:07:24 AM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 9/27/2019, 11:07:27 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2019, 11:09:54 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/7760/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2019, 11:10:49 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/6460/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/27/2019, 11:46:56 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/6460/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6460

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/7760/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/7760</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 7/12/2019, 5:01:00 PM<br><strong>UnmergedRevision</strong>: [c9931033fe618805e300073ec174b260fd608764](https://github.com/hyperledger-gerrit-archive/fabric/commit/c9931033fe618805e300073ec174b260fd608764)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/12/2019, 5:03:11 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/12/2019, 5:06:18 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/12/2019, 5:03:11 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/12/2019, 5:03:11 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 7/12/2019, 5:02:06 PM<br><strong>UnmergedRevision</strong>: [e87f4d4c83335af4f482b333cf53a8f61c3575fe](https://github.com/hyperledger-gerrit-archive/fabric/commit/e87f4d4c83335af4f482b333cf53a8f61c3575fe)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 7/12/2019, 5:10:23 PM<br><strong>UnmergedRevision</strong>: [ed3b18822e36563e87ef9850db8b2db6f1a2976e](https://github.com/hyperledger-gerrit-archive/fabric/commit/ed3b18822e36563e87ef9850db8b2db6f1a2976e)<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 7/15/2019, 5:17:13 PM<br><strong>UnmergedRevision</strong>: [65a732eaed641210da96bef4e82304722c4432df](https://github.com/hyperledger-gerrit-archive/fabric/commit/65a732eaed641210da96bef4e82304722c4432df)<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 7/16/2019, 3:18:19 PM<br><strong>UnmergedRevision</strong>: [392d69a4e35b1839e60e7ac28cc35e70310fc078](https://github.com/hyperledger-gerrit-archive/fabric/commit/392d69a4e35b1839e60e7ac28cc35e70310fc078)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 3:24:18 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 3:30:23 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 3:24:18 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 3:24:18 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L12](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L12)<br><strong>Comment</strong>: <pre>which file would that be for example?</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L12](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L12)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L14](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L14)<br><strong>Comment</strong>: <pre>If you want to secure multiple keys, is the recommended practice to create a unique token per key or do you use 1 token for all your keys?</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L14](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L14)<br><strong>Comment</strong>: <pre>Token is for slot.So , token is not unique per key.</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L14](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L14)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L15)<br><strong>Comment</strong>: <pre>Remember how Paul said you don't store the key in the HSM, but rather you wrap the key with the HSM token?</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L15)<br><strong>Comment</strong>: <pre>That feature is not available in Fabric.</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L15)<br><strong>Comment</strong>: <pre>That is for Z, rather than for all HSM. But I think it would be a good idea to be more general.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L15)<br><strong>Comment</strong>: <pre>We use Grep11 with Z not PKCS11.  For the PKCS11 implementation in Fabric, the private key itself is stored in the HSM</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L19](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L19)<br><strong>Comment</strong>: <pre>delete</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L19](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L19)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L31](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L31)<br><strong>Comment</strong>: <pre>Token is not for Private Key as mentioned area. Once Key are generated on the card , it is retrieved using SKI. Please make correction.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L31](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L31)<br><strong>Comment</strong>: <pre>Ash is correct here ... the current implementation finds the private key in the HSM using the SKI of the public key in `msp/signcerts`  .... technically it searches for keys in the HSM where the `CKA_ID` attribute equals the SKI.</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L52)<br><strong>Comment</strong>: <pre>Should we remove this, since this is for peer and orderer nodes? Or no, why/when would they do this?</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L52)<br><strong>Comment</strong>: <pre>I agree with PAM. Remove Fabric CA Server. 

Here is flow , that customer should follow (May be you should document this) 
1) Customer Enrolls with Fabric CA using Node SDK or Java SDK with pkcs11 flag on. This will generate Private Key on the HSM card.
2)</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L66)<br><strong>Comment</strong>: <pre>so then what do you put in the MSP folder - at a high level.</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L66)<br><strong>Comment</strong>: <pre>I think it can remain empty, but I will I will explore.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L66)<br><strong>Comment</strong>: <pre>It's empty</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L87](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L87)<br><strong>Comment</strong>: <pre>inside or wrapped with the HSM token?</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L87](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L87)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L89](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L89)<br><strong>Comment</strong>: <pre>BCCSP section of the</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L89](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L89)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L92](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L92)<br><strong>Comment</strong>: <pre>A picture of the MSP folder contents might be interesting here? (And how it is different from a normal MSP folder)</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L92](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L92)<br><strong>Comment</strong>: <pre>I think we should avoid documenting too much about the MSP, since that should be put inside the MSP operations guide. But if there are other changes to the MSP, it may be a good idea.</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L101)<br><strong>Comment</strong>: <pre>wrapped?</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/392d69a4e35b1839e60e7ac28cc35e70310fc078/docs/source/hsm.md#L101)<br><strong>Comment</strong>: <pre>wrapped inside the token.</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 7/16/2019, 5:38:28 PM<br><strong>UnmergedRevision</strong>: [15f5cfa1ce947b578d23d5ea06966416c9393643](https://github.com/hyperledger-gerrit-archive/fabric/commit/15f5cfa1ce947b578d23d5ea06966416c9393643)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 5:40:28 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 5:41:49 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 5:40:28 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/16/2019, 5:40:28 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 8/12/2019, 5:33:08 PM<br><strong>UnmergedRevision</strong>: [6878665a1b76d2264c38890956049696f6439f9a](https://github.com/hyperledger-gerrit-archive/fabric/commit/6878665a1b76d2264c38890956049696f6439f9a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/12/2019, 5:38:13 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/12/2019, 5:43:30 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/12/2019, 5:38:13 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/12/2019, 5:38:13 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 9/24/2019, 12:19:20 PM<br><strong>UnmergedRevision</strong>: [21ded14fe54d3bf126bed0982b6da06c7e695199](https://github.com/hyperledger-gerrit-archive/fabric/commit/21ded14fe54d3bf126bed0982b6da06c7e695199)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2019, 12:26:38 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2019, 12:33:43 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2019, 12:26:38 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/24/2019, 12:26:38 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L5](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L5)<br><strong>Comment</strong>: <pre>which allows</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L5](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L5)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L29)<br><strong>Comment</strong>: <pre>how to configure</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L29)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L64](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L64)<br><strong>Comment</strong>: <pre>If you are connecting to an HSM from the Fabric CA server,
you need to set the following environment variables:</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L64](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L64)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L94](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L94)<br><strong>Comment</strong>: <pre>a diagram could be useful here.</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L99](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L99)<br><strong>Comment</strong>: <pre>Do you mean Because you can set up a Fabric CA to generate keys inside an HSM using the same
edits to the configuration file as the nodes you will deploy,

`using the same edits to the configuration file` is unclear to me.</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L99](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L99)<br><strong>Comment</strong>: <pre>I split this sentence up to make it more clear.</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L104)<br><strong>Comment</strong>: <pre>extra space</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L104)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L105)<br><strong>Comment</strong>: <pre>you can safely skip this step?</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L105)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L114](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L114)<br><strong>Comment</strong>: <pre>is there a recommended way to verify that this was successful?</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L114](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L114)<br><strong>Comment</strong>: <pre>I am not sure. Would checking the MSP folder for an empty private key folder be good way?</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L129](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L129)<br><strong>Comment</strong>: <pre>Then use your CA to generate the private key and signing certificate for each node, with
the private key generated inside the HSM.</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L129](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L129)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Pam Andrejko - pama@ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L138](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L138)<br><strong>Comment</strong>: <pre>the peer or orderer will be able to sign</pre><strong>Commenter</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L138](https://github.com/hyperledger-gerrit-archive/fabric/blob/21ded14fe54d3bf126bed0982b6da06c7e695199/docs/source/hsm.md#L138)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Uploader</strong>: Nikhil Gupta - negupta@us.ibm.com<br><strong>Created</strong>: 9/26/2019, 11:10:41 AM<br><strong>GitHubMergedRevision</strong>: [6726238e9a04d55df8a9d3a27ee0a60b4c0aacdb](https://github.com/hyperledger-gerrit-archive/fabric/commit/6726238e9a04d55df8a9d3a27ee0a60b4c0aacdb)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/26/2019, 11:11:39 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/26/2019, 11:20:33 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/26/2019, 11:11:39 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/26/2019, 11:11:39 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 9/27/2019, 11:07:24 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 9/27/2019, 11:07:27 AM<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 9/26/2019, 6:06:47 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/6726238e9a04d55df8a9d3a27ee0a60b4c0aacdb/docs/source/hsm.md#L13)<br><strong>Comment</strong>: <pre>or fabric-ca-server-config.yaml</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L41](https://github.com/hyperledger-gerrit-archive/fabric/blob/6726238e9a04d55df8a9d3a27ee0a60b4c0aacdb/docs/source/hsm.md#L41)<br><strong>Comment</strong>: <pre>It looks like the sample PKCS11 config section is only included in core.yaml, not orderer.yaml or fabric-ca-server-config.yaml. Any reason for this omission/inconsistency?
We could use this CR to add it to orderer.yaml.</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L41](https://github.com/hyperledger-gerrit-archive/fabric/blob/6726238e9a04d55df8a9d3a27ee0a60b4c0aacdb/docs/source/hsm.md#L41)<br><strong>Comment</strong>: <pre>Actually it looks like all the node configs will get updated shortly so we can skip this comment and the others for now... all the configs will have to get scrubbed.</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [docs/source/hsm.md#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/6726238e9a04d55df8a9d3a27ee0a60b4c0aacdb/docs/source/hsm.md#L62)<br><strong>Comment</strong>: <pre>Why mention Fabric CA override env variables but not peer and orderer override env variables?</pre></blockquote>