<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 2453<br><strong>Subject</strong>: Integration of MSP in endorser<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Assignee</strong>:<br><strong>Created</strong>: 11/12/2016, 9:41:49 AM<br><strong>LastUpdated</strong>: 11/20/2016, 1:33:30 PM<br><strong>CommitMessage</strong>:<br><pre>Integration of MSP in endorser

This code change integrates the MSP into the peer, endorser and ESCC. Currently
the MSP is used to validate the proposal (in the endorser) and endorse it (in
the ESCC). Also, the peer CLI uses the MSP to sign the proposal to be sent
to the endorser. Two MSP implementations are available: a no-op and one that
uses BCCSP (and golang native x509 support) to handle x509 certificates.

Missing:
 * loading the roots of trust from the genesis block using a CSCC call;
 * loading more than one identity;
 * specifying the location of the config file in the .yaml config;
 * a way of identifying signing identities for the CLI;

NOTE: this commit also contains some code from
 - https://gerrit.hyperledger.org/r/#/c/2243/
 - https://gerrit.hyperledger.org/r/#/c/2385/
 - https://gerrit.hyperledger.org/r/#/c/2465/

Change-Id: I831b7bd01eb8b71cd3a6d9893a4faf6f7fa90fed
Signed-off-by: Alessandro Sorniotti <ale.linux@sopit.net>
Signed-off-by: Elli Androulaki <lli@zurich.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/12/2016, 9:41:49 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/12/2016, 9:42:35 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1550/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/12/2016, 9:44:18 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2704/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/12/2016, 10:01:48 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1550/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2704/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/12/2016, 10:52:26 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/12/2016, 10:53:17 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1551/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/12/2016, 10:54:40 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2705/ (2/2)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 11/12/2016, 11:13:44 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-2

Just marking -2 for now to make sure people not this is WIP and not to be merged</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/12/2016, 11:26:42 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1551/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2705/ : SUCCESS</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/12/2016, 11:57:38 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(4 comments)

Hi Alessandro, thanks for the change-set. Here are a few preliminary comments :)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/12/2016, 12:28:55 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(4 comments)

@Gari: thx, indeed we don't want this merged yet!

@Angelo: thanks for your comments, see my responses below</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/13/2016, 5:18:31 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/13/2016, 5:19:16 AM<br><strong>Message</strong>: <pre>Patch Set 3:

@Angelo: I've added the manager now and I think things make a bit more sense - let me know your thoughts.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 5:19:31 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1554/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 5:21:30 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2708/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 5:49:13 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1554/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2708/ : SUCCESS</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 11/13/2016, 9:17:47 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(5 comments)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/13/2016, 1:11:30 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 1:12:25 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1555/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 1:14:06 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2709/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/13/2016, 1:16:07 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(4 comments)

Thanks, Murali! I've just pushed a new drop!</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 3:15:43 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1555/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2709/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/13/2016, 3:29:33 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 3:32:35 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1559/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 3:35:08 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2713/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/13/2016, 3:48:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 3:48:14 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1560/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 3:48:15 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2714/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 3:49:44 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1559/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2713/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/13/2016, 3:56:07 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1560/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2714/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/14/2016, 1:41:34 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/14/2016, 1:42:27 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1563/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/14/2016, 1:44:27 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2717/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/14/2016, 2:00:51 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1563/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2717/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/14/2016, 4:35:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/14/2016, 4:36:54 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1564/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/14/2016, 4:38:48 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2718/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/14/2016, 5:29:02 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1564/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2718/ : SUCCESS</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/14/2016, 9:51:06 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(5 comments)

My two cents :)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/14/2016, 1:27:52 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(4 comments)

Thanks, Angelo! Please also weigh in on identities.go lines 50 and below - grazie! :)</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/14/2016, 1:39:44 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 11/14/2016, 10:18:58 PM<br><strong>Message</strong>: <pre>Patch Set 8:

(7 comments)

Hi,

Pushed some comments mostly associated to the use of MSP/MSPManager and the interfaces within. Regarding configuration, there was a fresh changeset submitted https://gerrit.hyperledger.org/r/#/c/2465 with a cleaner version of both peer public and private configuration in one json file.</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/15/2016, 7:18:56 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(2 comments)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 7:22:04 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 7:23:33 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1606/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 7:25:17 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2761/ (2/2)</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/15/2016, 7:27:54 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 7:57:40 AM<br><strong>Message</strong>: <pre>Patch Set 9: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1606/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2761/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 7:59:20 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(6 comments)

Angelo, Elli, thx for your comments, see my responses below.</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/15/2016, 8:47:27 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(5 comments)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 12:09:55 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(5 comments)

Thanks, Angelo. If you can't see the comments anymore, just click on the line number of the comment, that'll bring the link back</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/15/2016, 12:41:23 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(4 comments)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 1:24:10 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(3 comments)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 1:32:47 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 1:37:09 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1628/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 1:39:56 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2783/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 2:02:01 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1628/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2783/ : SUCCESS</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/15/2016, 2:15:14 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(2 comments)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 2:24:04 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(1 comment)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 4:29:51 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 4:31:50 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1640/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 4:32:51 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2795/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 5:04:20 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1640/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2795/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 5:06:14 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 5:08:47 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1644/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 5:13:09 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2799/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/15/2016, 5:21:12 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 5:23:36 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1645/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 5:25:07 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2800/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 5:55:21 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1644/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2799/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/15/2016, 6:14:02 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1645/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2800/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/16/2016, 3:01:47 PM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:03:52 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1687/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:04:50 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2842/ (2/3)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/16/2016, 3:20:25 PM<br><strong>Message</strong>: <pre>Uploaded patch set 15: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:22:59 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1688/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:26:22 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2843/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:26:25 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-d112-x86_64/4/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:28:38 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-d112-x86_64/5/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:54:18 PM<br><strong>Message</strong>: <pre>Patch Set 14: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1687/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-d112-x86_64/4/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2842/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 3:57:23 PM<br><strong>Message</strong>: <pre>Patch Set 15: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1688/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-d112-x86_64/5/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2843/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/16/2016, 4:00:27 PM<br><strong>Message</strong>: <pre>Uploaded patch set 16: Patch Set 15 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 4:02:08 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1691/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 4:04:58 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2846/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 4:06:50 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-d112-x86_64/10/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 4:41:34 PM<br><strong>Message</strong>: <pre>Patch Set 16: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1691/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-d112-x86_64/10/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2846/ : SUCCESS</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/16/2016, 4:42:55 PM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review+1

(1 comment)</pre><strong>Reviewer</strong>: Ry Jones - ry@linux.com<br><strong>Reviewed</strong>: 11/16/2016, 4:46:35 PM<br><strong>Message</strong>: <pre>Removed the following votes:

* Verified-1 by Hyperledger Jobbuilder <jobbuilder@jenkins.hyperledger.org>
</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/16/2016, 4:50:58 PM<br><strong>Message</strong>: <pre>Patch Set 16:

(1 comment)</pre><strong>Reviewer</strong>: Ry Jones - ry@linux.com<br><strong>Reviewed</strong>: 11/16/2016, 4:51:37 PM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/16/2016, 4:53:56 PM<br><strong>Message</strong>: <pre>Uploaded patch set 17: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 4:54:06 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1704/ (1/2)</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/16/2016, 4:55:58 PM<br><strong>Message</strong>: <pre>Patch Set 17:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 4:57:08 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2859/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/16/2016, 4:59:23 PM<br><strong>Message</strong>: <pre>Patch Set 16:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 5:26:37 PM<br><strong>Message</strong>: <pre>Patch Set 17: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1704/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2859/ : FAILURE</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 11/16/2016, 6:00:57 PM<br><strong>Message</strong>: <pre>Patch Set 17:

The failure is due to a gossip issue that got fixed by https://gerrit.hyperledger.org/r/#/c/2505/</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 11/16/2016, 6:01:09 PM<br><strong>Message</strong>: <pre>Patch Set 17:

reverify</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 11/16/2016, 6:01:42 PM<br><strong>Message</strong>: <pre>Patch Set 17:

started reverify post merge of https://gerrit.hyperledger.org/r/#/c/2505/</pre><strong>Reviewer</strong>: Ry Jones - ry@linux.com<br><strong>Reviewed</strong>: 11/16/2016, 6:22:32 PM<br><strong>Message</strong>: <pre>Patch Set 17:

> started reverify post merge of https://gerrit.hyperledger.org/r/#/c/2505/

this change needs rebased to pick up 2505</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/16/2016, 6:32:28 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1708/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2863/ : FAILURE</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 11/16/2016, 10:07:29 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Alessandro, can you rebase on top of latest to pick up the fix to gossip please?</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/17/2016, 2:19:23 AM<br><strong>Message</strong>: <pre>Uploaded patch set 18: Patch Set 17 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 2:20:24 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1711/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 2:21:56 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2866/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 2:51:55 AM<br><strong>Message</strong>: <pre>Patch Set 18: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1711/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2866/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/17/2016, 6:01:03 AM<br><strong>Message</strong>: <pre>Uploaded patch set 19.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 6:02:08 AM<br><strong>Message</strong>: <pre>Patch Set 19:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1715/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 6:03:53 AM<br><strong>Message</strong>: <pre>Patch Set 19:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2870/ (2/2)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 11/17/2016, 6:22:39 AM<br><strong>Message</strong>: <pre>Patch Set 19: -Code-Review</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 6:26:38 AM<br><strong>Message</strong>: <pre>Patch Set 19: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1715/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2870/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/17/2016, 6:42:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 20: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 6:46:46 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2871/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 7:19:58 AM<br><strong>Message</strong>: <pre>Patch Set 20: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1716/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2871/ : SUCCESS</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 11/17/2016, 7:57:34 AM<br><strong>Message</strong>: <pre>Patch Set 20: Code-Review+2</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 11/17/2016, 7:58:42 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Thanks for the MSP tests, Alessandro.

Note the need to resolve MSP config file (hard coded with TODO in main). We need the right approach for it but will do for now.</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/17/2016, 8:09:29 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Absolutely - this needs to be fixed, at the very least with an additional command-line switch to take the config file from a custom location. Hardcoding the path (relative to GOPATH) at least makes sure that everyone should be able to successfully start the peer binary. Note also that hardcoding relative to GOPATH is the same strategy followed by viper to locate the yaml file.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 11/17/2016, 8:17:20 AM<br><strong>Message</strong>: <pre>Patch Set 20:

(1 comment)

other than "peer-config.json", are any of the *config.json files being used?</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 11/17/2016, 8:44:29 AM<br><strong>Message</strong>: <pre>Patch Set 20:

(1 comment)

Thanks, Gari. No, currently we're not using them but the plan is to use them very soon and in fact, we used this check-in to agree on them with the COP team.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 11/17/2016, 8:48:56 AM<br><strong>Message</strong>: <pre>Patch Set 20: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 8:48:59 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 11/17/2016, 8:49:39 AM<br><strong>Message</strong>: <pre>Patch Set 20:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 8:50:07 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/229/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 8:52:11 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/407/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 9:29:42 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/229/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/407/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 9:53:36 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/408/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/17/2016, 10:27:46 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/229/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/408/ : FAILURE</pre><strong>Reviewer</strong>: Greg Haskins - gregory.haskins@gmail.com<br><strong>Reviewed</strong>: 11/20/2016, 1:33:30 PM<br><strong>Message</strong>: <pre>Patch Set 20:

This patch probably should be reverted until the config can be re-done.  It is accessing files relative to the git tree, which is just plain broken.  This isn't apparent if this code is used in a development environment but will break us as soon as we try to package this code up.  CR 2307 is the first victim being blocked by this.

Recommend to have any config that is mandatory to use the formal configuration mechanism already in place</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/12/2016, 9:41:49 AM<br><strong>UnmergedRevision</strong>: [a171d910f13044b7a6257501b79ef55b2d173eb5](https://github.com/hyperledger-gerrit-archive/fabric/commit/a171d910f13044b7a6257501b79ef55b2d173eb5)<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/12/2016, 10:52:26 AM<br><strong>UnmergedRevision</strong>: [14ca1a5399321de4ffe256b513123b8ed4ca0b0e](https://github.com/hyperledger-gerrit-archive/fabric/commit/14ca1a5399321de4ffe256b513123b8ed4ca0b0e)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/core/endorser/endorser.go#L48)<br><strong>Comment</strong>: <pre>Shall the endorser be able to accept proposals produced using multiple MSP? In this case, the endorser should refer to the PeerMSPManager and the proposal should carry some information about the MSP to use. Does this make sense?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/core/endorser/endorser.go#L48)<br><strong>Comment</strong>: <pre>When you say "accept proposals produced using multiple MSP" are you talking about different CAs or different identity management systems (e.g. X.509 vs idemix)?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/core/system_chaincode/escc/endorser_onevalidsignature.go#L48)<br><strong>Comment</strong>: <pre>So this step can be implemented in multiple ways:
1. Nothing is required, assuming that the PeerMSPManager already has a reference to the MPS-ID passed via args[0].
2. This ESCC comes equipped with its own PeerMSP that can be then added to PeerMSPManager or used directly (like in this example).
Does this make sense?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/core/system_chaincode/escc/endorser_onevalidsignature.go#L48)<br><strong>Comment</strong>: <pre>I think so, yeah. I was leaning towards your point 1. Would you agree that the way to implement 1. would be to 
1) have a global PeerMSPManager instantiated once when the peer comes up
2) do nothing in the Init of ESCC
3) below when we have to sign, instead of invoking 

e.msp.GetSigningIdentity(e.signerId)

We would invoke

theMspManager.GetSigningIdentity(e.signerId)

Does this make sense?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L159](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/core/system_chaincode/escc/endorser_onevalidsignature.go#L159)<br><strong>Comment</strong>: <pre>So this call might be routed through the PeerMSPManager is the PeerMSP is available already at the manager, right?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L159](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/core/system_chaincode/escc/endorser_onevalidsignature.go#L159)<br><strong>Comment</strong>: <pre>Yup, see my response to the comment above (I was lazy and didn't want to implement the manager today :P ).</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L180](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/peer/chaincode/common.go#L180)<br><strong>Comment</strong>: <pre>This call should be routed through the PeerMSPManager, no?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L180](https://github.com/hyperledger-gerrit-archive/fabric/blob/14ca1a5399321de4ffe256b513123b8ed4ca0b0e/peer/chaincode/common.go#L180)<br><strong>Comment</strong>: <pre>Yup, see comment to the ESCC</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/13/2016, 5:18:31 AM<br><strong>UnmergedRevision</strong>: [325f0e3c10638ca53e8efceb3de994851b28da86](https://github.com/hyperledger-gerrit-archive/fabric/commit/325f0e3c10638ca53e8efceb3de994851b28da86)<br><br><strong>Approver</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Approved</strong>: 11/13/2016, 9:17:47 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>CommentLine</strong>: [msp/peermsp.go#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/msp/peermsp.go#L26)<br><strong>Comment</strong>: <pre>"While strongly connected to the transaction processing components of the systems ...."

IMO this is worth expanding.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermsp.go#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/msp/peermsp.go#L26)<br><strong>Comment</strong>: <pre>I didn't get it either - Elli can clarify since it's the code I took from her commit.</pre><strong>Commenter</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L45](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/msp/peermspmanager.go#L45)<br><strong>Comment</strong>: <pre>Can you illustrate some use cases to help this discussion ?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L45](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/msp/peermspmanager.go#L45)<br><strong>Comment</strong>: <pre>Unfortunately I haven't got any.. The manager is probably supposed to be universal, but I was just asking aloud whether we want to have multiple managers? I can't think of any reason why...
@Elli your thoughts?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L45](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/msp/peermspmanager.go#L45)<br><strong>Comment</strong>: <pre>I would expect it to be unique. Its role should be to route the call to the right PeerMSP. No?</pre><strong>Commenter</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L172](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/peer/chaincode/common.go#L172)<br><strong>Comment</strong>: <pre>SDK's approach to ID is also relevant here. 

Probably a wider discussion... but we need to decide one thing - going forward, are we going to continue with the CLI support (introduced for the "skeleton" work) or do we use SDK for all things including starter kit ?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L172](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/peer/chaincode/common.go#L172)<br><strong>Comment</strong>: <pre>I would very much like to keep the golang CLI client if possible. Of course folks like you or Binh should weigh in here.</pre><strong>Commenter</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>CommentLine</strong>: [protos/utils/proputils.go#L111](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/protos/utils/proputils.go#L111)<br><strong>Comment</strong>: <pre>Comment for the function (and all exported functions in this file) to keep golint happy please :-)</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [protos/utils/proputils.go#L111](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/protos/utils/proputils.go#L111)<br><strong>Comment</strong>: <pre>Oh yes, sorry, will add that!</pre><strong>Commenter</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>CommentLine</strong>: [protos/utils/proputils.go#L216](https://github.com/hyperledger-gerrit-archive/fabric/blob/325f0e3c10638ca53e8efceb3de994851b28da86/protos/utils/proputils.go#L216)<br><strong>Comment</strong>: <pre>In general its better to pass headers to -exported- functions so they can test for type before unmarshalling. proto.Unmarshal can succeed even if the bytes are not for the unmarshalled type.</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/13/2016, 1:11:30 PM<br><strong>UnmergedRevision</strong>: [f365bc7b07e1069e5112fe183f9aefa31735aa1a](https://github.com/hyperledger-gerrit-archive/fabric/commit/f365bc7b07e1069e5112fe183f9aefa31735aa1a)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/13/2016, 3:29:33 PM<br><strong>UnmergedRevision</strong>: [ecf503b9d67d99a2275fd3ec1b37d011ca41a00c](https://github.com/hyperledger-gerrit-archive/fabric/commit/ecf503b9d67d99a2275fd3ec1b37d011ca41a00c)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/13/2016, 3:48:05 PM<br><strong>UnmergedRevision</strong>: [f4501f71a583c7f8eb2de41f4c32b9d30fa7f3ee](https://github.com/hyperledger-gerrit-archive/fabric/commit/f4501f71a583c7f8eb2de41f4c32b9d30fa7f3ee)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/14/2016, 1:41:34 AM<br><strong>UnmergedRevision</strong>: [27047ce671d226225c1c0de5e57e7cee89267a6b](https://github.com/hyperledger-gerrit-archive/fabric/commit/27047ce671d226225c1c0de5e57e7cee89267a6b)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/14/2016, 4:35:56 AM<br><strong>UnmergedRevision</strong>: [9e24bb3fb133189f49cc82b4bbb0c429ecb25d59](https://github.com/hyperledger-gerrit-archive/fabric/commit/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/crypto/bccsp/sw/ecdsakey.go#L67](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/crypto/bccsp/sw/ecdsakey.go#L67)<br><strong>Comment</strong>: <pre>Here is the change-set to simplify this: https://gerrit.hyperledger.org/r/#/c/2439/ :)</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/crypto/bccsp/sw/ecdsakey.go#L67](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/crypto/bccsp/sw/ecdsakey.go#L67)<br><strong>Comment</strong>: <pre>Perfect! As the comment says, I'll remove this code, it was just a way of getting this change-set to work in the meantime.</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/crypto/bccsp/sw/impl.go#L402](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/crypto/bccsp/sw/impl.go#L402)<br><strong>Comment</strong>: <pre>Also this is this change-set: https://gerrit.hyperledger.org/r/#/c/2439/</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/crypto/bccsp/sw/impl.go#L402](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/crypto/bccsp/sw/impl.go#L402)<br><strong>Comment</strong>: <pre>See other comment on my BCCSP change</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L322](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/endorser/endorser.go#L322)<br><strong>Comment</strong>: <pre>Shall .Validate() enforce this check directly?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L368](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/endorser/endorser_test.go#L368)<br><strong>Comment</strong>: <pre>I pushed another changeset with a cleaner version of this configuration. Essentially the peer-config.json would include two parts: (i) public config (fed by the genesis block) related to MSP cert validation processes, (ii) private peer information, e.g., signing identity material. Will of course need to be revised but may be a better option than the one in the original changeset.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L368](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/endorser/endorser_test.go#L368)<br><strong>Comment</strong>: <pre>Got it. But how should this test find out the location of the config file?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L368](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/endorser/endorser_test.go#L368)<br><strong>Comment</strong>: <pre>the configuration might be in a file in the same folder where endorser_test.go is or hard coded. Does it make sense?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L368](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/endorser/endorser_test.go#L368)<br><strong>Comment</strong>: <pre>ok, so in this case it'll be an entry like

msp:
    config_file: /path/to/msp/conf.json

in endorser_test.yaml

Would you agree?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L368](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/endorser/endorser_test.go#L368)<br><strong>Comment</strong>: <pre>under the peer section :)</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L368](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/endorser/endorser_test.go#L368)<br><strong>Comment</strong>: <pre>ok, thx!</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L160](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/system_chaincode/escc/endorser_onevalidsignature.go#L160)<br><strong>Comment</strong>: <pre>So here you may want to do, signingEndorser.getPublic().Serialize() to serialize the public part of that signing identity, i.e., the certificate.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L160](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/core/system_chaincode/escc/endorser_onevalidsignature.go#L160)<br><strong>Comment</strong>: <pre>thx!</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>Hm, so can't we use the setup function passing the config to set the root of trust for that MSP? I would think that the truststore is something that could exist, yet in a transparent way to the application that uses the MSP. identity.validate() should use the "root of trust" of the provider it belongs to for validation.</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>I agree, the PeerMSP has to provide all the necessary information to validate the identity. The public interfaces don't need to be modified. Makes sense?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>Having a special method that is not public is of course one way. But if the MSP exposes - say

```
theMSP.isValid(identity)
```
then the identity code can be reusable no matter the MSP implementation. Does that make sense?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>I would say that the implementation of the Identity interface is bound to the implementation of corresponding PeerMSP, no? That's because an idemix identity cannot be checked by a PeerMSP that understand only x509, Makes sense?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>It does, but at the same time, all X509-based (and PK-crypto-based) implementation of identities should follow the same pattern and can be reused. What I'm getting at is: if a customer implements their own MSP (based on X.509 and PK-crypto, but maybe they have different ways of interacting with their CA), can they at least re-use our identities? We'd be doing them the service of implementing identity validation "the proper way"... wdyt?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>My personal taste would be that this should come without having to modify the MSPManager interface. Code reusing can come at the implementation of the x509 based PeerMSP and Identity. The sanity check that I run consists in checking that the interfaces do not have methods that are specific to a certain implementation. But it is just my taste :)</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>right, but if all MSPs were required to expose
'''
// IsValid takes an Identity argument and checks if this MSP thinks is valid or not
IsValid(Identity) (bool, error)
'''

wouldn't that be very generic?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/identities.go#L66](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/identities.go#L66)<br><strong>Comment</strong>: <pre>fair enough :)</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermsp.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermsp.go#L97)<br><strong>Comment</strong>: <pre>So, by trusted identities, do you mean 
 - the list of CAs that are to sign certificates issued by this MSP?
 - a list of certificates that you consider trusted to communicate with (e.g., the ones to be used in gossip protocols)?
 - a list of privileged certs authorized to make configuration changes to this MSP?

I would think is the second, but just to confirm :)</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermsp.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermsp.go#L97)<br><strong>Comment</strong>: <pre>Why do we need this method?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermsp.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermsp.go#L97)<br><strong>Comment</strong>: <pre>see func (id *identity) Validate() (bool, error) in identities.go</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermsp.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermsp.go#L97)<br><strong>Comment</strong>: <pre>Indeed. I have added a comment there but I don't find it anymore. I proposed to remove this method and to have the identity asking its PeerMSP to give all the information to validate an identity. This because it might be that trusted identities do not make sense for some implementation of PeerMSP. Does this make sense?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermsp.go#L97](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermsp.go#L97)<br><strong>Comment</strong>: <pre>Responded to that comment.</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L41](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L41)<br><strong>Comment</strong>: <pre>My two cents here are that we need only one manager per process.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L41](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L41)<br><strong>Comment</strong>: <pre>I agree</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L41](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L41)<br><strong>Comment</strong>: <pre>+1</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L56)<br><strong>Comment</strong>: <pre>So, here 
https://gerrit.hyperledger.org/r/#/c/2465/1/msp/peerGenesisConfig.json
you can find some suggested setup config of the peer, at least the part that could make sense to be communicated at blockchain network time. There a few more parameters are listed, e.g., root of trust, policies to update the state of that MSP.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L56)<br><strong>Comment</strong>: <pre>How does a json syntax fit with the .yaml config backend we've been using so far?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L56)<br><strong>Comment</strong>: <pre>Can't a yaml file embed in some way a json string? A path might be specified too.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L56)<br><strong>Comment</strong>: <pre>I think what we're converging towards is the yaml file containing a string with the path of the json file. Right?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L56)<br><strong>Comment</strong>: <pre>Yes :)</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L126)<br><strong>Comment</strong>: <pre>My two cents again: The manager needs a way to extract from id the MSP identifier. Let's figure out how :)</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L126)<br><strong>Comment</strong>: <pre>Agreed, but there is another question: we get this byte array. How do we deserialize it? If the byte array contains the MSP id, it's a chicken-egg problem: we need the MSP id to know which MSP we should ask to deserialize, but we need to deserialize to get the MSP id. Should we go for a structure where we first deserialize the MSP id and then we know how to deserialize the rest?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L126)<br><strong>Comment</strong>: <pre>I had the same idea in mind :)</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L126)<br><strong>Comment</strong>: <pre>Right, so the idea was that the manager does some mini de-serialization, retrieves the MSP identifier, and routes the (not-yet) de-serialized part to the associated MSP, that de-serializes it completely. Of course identity.serialize() would need to follow the same process.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L126)<br><strong>Comment</strong>: <pre>Excellent, we're in sync. What kind of marshalling? ASN.1?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L126)<br><strong>Comment</strong>: <pre>Yes, please.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [msp/peermspmanager.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/9e24bb3fb133189f49cc82b4bbb0c429ecb25d59/msp/peermspmanager.go#L126)<br><strong>Comment</strong>: <pre>Awesome</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/15/2016, 7:22:04 AM<br><strong>UnmergedRevision</strong>: [10f5de812b1cddd569cc3645ada7dc36a062611a](https://github.com/hyperledger-gerrit-archive/fabric/commit/10f5de812b1cddd569cc3645ada7dc36a062611a)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [peer/main.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/10f5de812b1cddd569cc3645ada7dc36a062611a/peer/main.go#L120)<br><strong>Comment</strong>: <pre>Just as a place holder. I expect this</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [peer/main.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/10f5de812b1cddd569cc3645ada7dc36a062611a/peer/main.go#L120)<br><strong>Comment</strong>: <pre>Yeah, this is just to avoid dereferencing a null pointer when we're later asked to do some crypto.</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [peer/main.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/10f5de812b1cddd569cc3645ada7dc36a062611a/peer/main.go#L120)<br><strong>Comment</strong>: <pre>Oh sorry, I've just realized I haven't finished my sentence. I was just saying that I expect that to be done by the BCCSP. It's more a reminder for me :)</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [peer/main.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/10f5de812b1cddd569cc3645ada7dc36a062611a/peer/main.go#L120)<br><strong>Comment</strong>: <pre>Ah yes, sure.</pre></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/15/2016, 1:32:47 PM<br><strong>UnmergedRevision</strong>: [965aec6527ec0a9988ffb8146c153f5277c9e42f](https://github.com/hyperledger-gerrit-archive/fabric/commit/965aec6527ec0a9988ffb8146c153f5277c9e42f)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/15/2016, 4:29:51 PM<br><strong>UnmergedRevision</strong>: [8080efa5ba48b81365ffc03c5e6d0c8eff6ae069](https://github.com/hyperledger-gerrit-archive/fabric/commit/8080efa5ba48b81365ffc03c5e6d0c8eff6ae069)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/15/2016, 5:06:14 PM<br><strong>UnmergedRevision</strong>: [f453340f34aaf668525c72a198c2a799ca73b3e2](https://github.com/hyperledger-gerrit-archive/fabric/commit/f453340f34aaf668525c72a198c2a799ca73b3e2)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/15/2016, 5:21:12 PM<br><strong>UnmergedRevision</strong>: [b6d48c4f7c1147c213b8b412a0ab30e8edbfe532](https://github.com/hyperledger-gerrit-archive/fabric/commit/b6d48c4f7c1147c213b8b412a0ab30e8edbfe532)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/16/2016, 3:01:47 PM<br><strong>UnmergedRevision</strong>: [0a09dd666b4a81259292108f6cac1af239d2dfe0](https://github.com/hyperledger-gerrit-archive/fabric/commit/0a09dd666b4a81259292108f6cac1af239d2dfe0)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/16/2016, 3:20:25 PM<br><strong>UnmergedRevision</strong>: [9e76d50cb979fb29ab65e5c06e4e9c64de0aa058](https://github.com/hyperledger-gerrit-archive/fabric/commit/9e76d50cb979fb29ab65e5c06e4e9c64de0aa058)<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/16/2016, 4:00:27 PM<br><strong>UnmergedRevision</strong>: [38f5cd05e32d17dfbb8027a072897f030dbb8b53](https://github.com/hyperledger-gerrit-archive/fabric/commit/38f5cd05e32d17dfbb8027a072897f030dbb8b53)<br><br><strong>Approver</strong>: Ry Jones - ry@linux.com<br><strong>Approved</strong>: 11/16/2016, 4:51:37 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Approved</strong>: 11/16/2016, 4:42:55 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Ry Jones - ry@linux.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/38f5cd05e32d17dfbb8027a072897f030dbb8b53//COMMIT_MSG#L29)<br><strong>Comment</strong>: <pre>please add this line:

Signed-off-by: Elli Androulaki <lli@zurich.ibm.com></pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [peer/main.go#L124](https://github.com/hyperledger-gerrit-archive/fabric/blob/38f5cd05e32d17dfbb8027a072897f030dbb8b53/peer/main.go#L124)<br><strong>Comment</strong>: <pre>mhh, shall we load this from the same folder where core.yaml is?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [peer/main.go#L124](https://github.com/hyperledger-gerrit-archive/fabric/blob/38f5cd05e32d17dfbb8027a072897f030dbb8b53/peer/main.go#L124)<br><strong>Comment</strong>: <pre>The problem I was trying to solve was to ensure that whenever anyone started the peer (no matter from which directory), that peer would find the MSP config file, and the only answer I could come up with was a file location relative to gopath. Also, that (sample) json config file should imho really be part of fabric/msp - my $.02 :)</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [peer/main.go#L124](https://github.com/hyperledger-gerrit-archive/fabric/blob/38f5cd05e32d17dfbb8027a072897f030dbb8b53/peer/main.go#L124)<br><strong>Comment</strong>: <pre>How core.yaml is loaded then?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [peer/main.go#L124](https://github.com/hyperledger-gerrit-archive/fabric/blob/38f5cd05e32d17dfbb8027a072897f030dbb8b53/peer/main.go#L124)<br><strong>Comment</strong>: <pre>Also relative to gopath, see a few lines above</pre></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/16/2016, 4:53:56 PM<br><strong>UnmergedRevision</strong>: [93851a71081d402f98c863777a20a03dc009fb89](https://github.com/hyperledger-gerrit-archive/fabric/commit/93851a71081d402f98c863777a20a03dc009fb89)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/16/2016, 5:26:37 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 18</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/17/2016, 2:19:23 AM<br><strong>UnmergedRevision</strong>: [442c5290999156868def117bde6ed4755bb05e7a](https://github.com/hyperledger-gerrit-archive/fabric/commit/442c5290999156868def117bde6ed4755bb05e7a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/17/2016, 2:51:55 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/12/2016, 11:13:44 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 19</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/17/2016, 6:01:03 AM<br><strong>UnmergedRevision</strong>: [2eb274107d03fbaf39b9cee5935ef202d8d61511](https://github.com/hyperledger-gerrit-archive/fabric/commit/2eb274107d03fbaf39b9cee5935ef202d8d61511)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/17/2016, 6:26:38 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 20</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 11/17/2016, 6:42:32 AM<br><strong>GitHubMergedRevision</strong>: [5f98d541f32158de0affd34a3dd8de464c9432f2](https://github.com/hyperledger-gerrit-archive/fabric/commit/5f98d541f32158de0affd34a3dd8de464c9432f2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/17/2016, 7:19:58 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Approved</strong>: 11/17/2016, 7:57:34 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 11/17/2016, 8:48:56 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 11/17/2016, 8:48:59 AM<br><br><h2>Comments</h2><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L54](https://github.com/hyperledger-gerrit-archive/fabric/blob/5f98d541f32158de0affd34a3dd8de464c9432f2/core/system_chaincode/escc/endorser_onevalidsignature.go#L54)<br><strong>Comment</strong>: <pre>is the goal here to be able to potentially be able to support the use of multiple identities by the peer?   If not, given that ECSS runs in the peer process shouldn't the peer identity already be available without needing to pass it in?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L54](https://github.com/hyperledger-gerrit-archive/fabric/blob/5f98d541f32158de0affd34a3dd8de464c9432f2/core/system_chaincode/escc/endorser_onevalidsignature.go#L54)<br><strong>Comment</strong>: <pre>My rationale was: I believe a peer might (in the future) instantiate >1 ESCC with different identities - say - because they want to use different signing identities on different channels.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [core/system_chaincode/escc/endorser_onevalidsignature.go#L54](https://github.com/hyperledger-gerrit-archive/fabric/blob/5f98d541f32158de0affd34a3dd8de464c9432f2/core/system_chaincode/escc/endorser_onevalidsignature.go#L54)<br><strong>Comment</strong>: <pre>Done</pre></blockquote>