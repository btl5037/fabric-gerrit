<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 2243<br><strong>Subject</strong>: Identity provider interface and sample config<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 11/4/2016, 9:05:44 AM<br><strong>LastUpdated</strong>: 11/11/2016, 11:43:21 AM<br><strong>CommitMessage</strong>:<br><pre>Identity provider interface and sample config

This is a changeset including a proposal for a generic Identity provider
manager interface that maintains and manages one or more Identity
providers. An interface of these providers is also included.
Two sample configurations files are included here: I)
IdPManager-config.json, for identity provider manager, and II)
FABRIC-IDPconfig.json, for the default provider configuration.
Please notice that this changeset aims for discussion and may not compile.
Additional changes included therein to address comments.

Related Jira item: https://jira.hyperledger.org/browse/FAB-829

Change-Id: I883e4803f833b29bfd93c7fb8bf7ff7a731ab0af
Signed-off-by: Elli Androulaki <lli@zurich.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 11/4/2016, 9:05:44 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/4/2016, 9:07:10 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1229/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/4/2016, 9:07:46 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2365/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/4/2016, 10:07:13 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1229/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2365/ : FAILURE</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 11/4/2016, 12:52:55 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(14 comments)</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 11/4/2016, 1:52:36 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(3 comments)

While I don't like doing "design review" using gerrit, please find my 2 cents inline.</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 11/4/2016, 3:13:04 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 11/4/2016, 4:01:16 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(11 comments)

Thanks for your comments! Please find below tentative answers to some of them as i am working on fixing some of these.</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 11/7/2016, 11:23:05 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(4 comments)</pre><strong>Reviewer</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>Reviewed</strong>: 11/7/2016, 3:21:41 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(20 comments)

Elli , if you can add some comments on each method as to what it is supposed to be doing , that will be helpful.</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 11/7/2016, 5:06:35 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(2 comments)

A lot of comments here, so please address with another patch</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 11/8/2016, 3:44:54 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(23 comments)

Hi,
Thanks much for your comments. Will push asap an amend addressing your concerns and add more comments.
With thanks, Elli</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 11/8/2016, 5:34:26 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/8/2016, 5:35:21 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1377/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/8/2016, 5:37:02 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2527/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/8/2016, 6:00:39 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1377/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2527/ : FAILURE</pre><strong>Reviewer</strong>: Jim Zhang - jim_the_matrix@hotmail.com<br><strong>Reviewed</strong>: 11/8/2016, 10:37:51 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(2 comments)</pre><strong>Reviewer</strong>: Jim Zhang - jim_the_matrix@hotmail.com<br><strong>Reviewed</strong>: 11/8/2016, 10:52:32 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 11/8/2016, 11:38:43 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(3 comments)

Hi Jim, Thanks for your comments! Tentative answers below but more patches arriving on this.</pre><strong>Reviewer</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>Reviewed</strong>: 11/11/2016, 10:06:16 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(4 comments)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 11/11/2016, 11:43:21 AM<br><strong>Message</strong>: <pre>Abandoned</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Uploader</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Created</strong>: 11/4/2016, 9:05:44 AM<br><strong>UnmergedRevision</strong>: [aaba749c695534f612b280a3fc27050d461018b8](https://github.com/hyperledger-gerrit-archive/fabric/commit/aaba749c695534f612b280a3fc27050d461018b8)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/4/2016, 10:07:13 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Approved</strong>: 11/7/2016, 5:06:35 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 11/4/2016, 12:52:55 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L8](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L8)<br><strong>Comment</strong>: <pre>I am not too fan of Registrar role. That is my 2 cents. We might have to revisit this.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L8](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L8)<br><strong>Comment</strong>: <pre>Same here :)</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L11](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L11)<br><strong>Comment</strong>: <pre>Under the assumption that certificates are stored in some kind of repo and hence managed , i think , might want to put Certifcate Serial Number instead of whole certificate byte.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L11](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L11)<br><strong>Comment</strong>: <pre>Well, we would need to provide enough info for the import to complete successfully. We can put the location where the certificate resides, and the serial number. Would you agree with that?</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L11](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L11)<br><strong>Comment</strong>: <pre>That sounds good. In fact , the certificate repo location should be configured in config file of some sort.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L21](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L21)<br><strong>Comment</strong>: <pre>This does not represent tree structure. Am I missing something ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L21](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L21)<br><strong>Comment</strong>: <pre>Aha, so this one says that I need a signature coming from either cert 1 or cert 2 or cert 3 for reconfigurational changes propagated through the blockchain to be accepted. A specific language can be used, but to simplify our life at the beginning we can also have something like that.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L21](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L21)<br><strong>Comment</strong>: <pre>OK.Sounds good.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L25)<br><strong>Comment</strong>: <pre>This is not clear to me. Can you please elaborate , how it is going to be used ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/FABRIC-IDPconfig.json#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/FABRIC-IDPconfig.json#L25)<br><strong>Comment</strong>: <pre>Aha, so this one says that I need signature coming from either cert 1 or cert 2 or cert 3 for reconfigurational changes propagated through the blockchain to be accepted. A specific language can be used, but to simplify our life at the beginning we can also have something like that.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/IDPManager-config.json#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/IDPManager-config.json#L13)<br><strong>Comment</strong>: <pre>Should not idplist be an array ? I think , only one instance of IDP will be there , so no need for multiple instances. If there will be multiple instances , could you please let me know scenario and how it can be used ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/IDPManager-config.json#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/IDPManager-config.json#L13)<br><strong>Comment</strong>: <pre>So in the future you may have more that one providers. E.g., if you have multiple membership services each with its own policy for reconfiguration changes.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/IDPManager-config.json#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/IDPManager-config.json#L13)<br><strong>Comment</strong>: <pre>I do not think , there will be multiple membership services.E.g Bank of America will have 1 membership service.</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [idp/idp-tests.go#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp-tests.go#L0)<br><strong>Comment</strong>: <pre>Missing license header</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp-tests.go#L10](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp-tests.go#L10)<br><strong>Comment</strong>: <pre>I am not too fan of string concatenation. JSON tree structure , something like a.b seems better to me.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp-tests.go#L10](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp-tests.go#L10)<br><strong>Comment</strong>: <pre>Either way would work for me :)</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L0)<br><strong>Comment</strong>: <pre>Missing license header</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L0)<br><strong>Comment</strong>: <pre>Will add this here.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L2)<br><strong>Comment</strong>: <pre>Please call it "IDentity Provider API".  If we keep using the term "membership service", it will be confusing to customers.  We can say in the notes below that this is an abstraction of the previous membership service implementation, but that this implementation no longer exists.</pre><strong>Commenter</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>CommentLine</strong>: [idp/idp.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L2)<br><strong>Comment</strong>: <pre>Always thought that the 'membersrvc' directory name was too long to type (and was error prone, membershipsrvc, memsrvc, memsrvcs, membersrvc, membersrvcs, etc.).

However, just to say that technically, IdP and Membership Services are different beasts.

We are already in the idp package (/namespace). There are the 'Services' for `Members`, and there are the Identity Providers (that do not offer all of the Membership Services that Fabric provides).

Keith: Do we/you believe that calling the MS API part IDP will help (e.g., avoid confusion/promote/market v1.0) ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L2)<br><strong>Comment</strong>: <pre>Hi, I also have to say that i prefer MSP vs IDP. As soon as we conclude to this i will propagate the changes to this interface.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L27](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L27)<br><strong>Comment</strong>: <pre>Should be "IDPManager", not "IdPManager"</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L34)<br><strong>Comment</strong>: <pre>I'm not understanding this one.  Can you explain more?</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L34)<br><strong>Comment</strong>: <pre>I'm also curious about this, I'm hoping the assumption is not that this is part of the chain configuration transaction, and if it is, what goes into this message, who is authorized to change it, and how often is it expected to change?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L34)<br><strong>Comment</strong>: <pre>Right, reconfig essentially is the part of the IDP(Manager) that processes IDP specific reconfiguration messages. Depending on the IDP this reconfig message references, the IDPManager will redirect the message to the associated IDP to process it, and update its internal state accordingly. Does this make sense? 

The policy that this function is implementing depends on the IDP, so it is intentionally left unspecified.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L34)<br><strong>Comment</strong>: <pre>Should not it return boolean and/or error to indicate whether operation was successful or not.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L45](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L45)<br><strong>Comment</strong>: <pre>How are we going to create an instance of a new IDP?  I would expect this to be similar to the following:
AddIDP(name string, factory IDPFactory) error
 where
public IDPFactory interface {
   NewIDP(config string) (IDP, error)
}</pre><strong>Commenter</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>CommentLine</strong>: [idp/idp.go#L45](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L45)<br><strong>Comment</strong>: <pre>Seems to me that the intention/goal of this proposed interface is to abstract that (so that the instance is created locally, and she returns the name of the IDP as a string-based identifier).</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L45](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L45)<br><strong>Comment</strong>: <pre>Correct. We use similar form of referencing an IDP in an IDPManager as we do with keys in a key manager. After we add/import an IDP we only provide back its reference.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L59](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L59)<br><strong>Comment</strong>: <pre>Instead of Member being returned , should not it return bool ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L59](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L59)<br><strong>Comment</strong>: <pre>Correct, thanks for pointing this out :)</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L63](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L63)<br><strong>Comment</strong>: <pre>Instead of returning Member , should not it return bool ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L63](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L63)<br><strong>Comment</strong>: <pre>It could return the enrollment identity of that member maybe.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L70](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L70)<br><strong>Comment</strong>: <pre>Fix comment here and elsewhere</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L71)<br><strong>Comment</strong>: <pre>"IDP" instead of "IdP"</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L77](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L77)<br><strong>Comment</strong>: <pre>Should this be a factory method ?</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L80](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L80)<br><strong>Comment</strong>: <pre>Is this json string ?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L83)<br><strong>Comment</strong>: <pre>There can be multiple registrars.  We can implement a registrar simply as a member which has certain attributes.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L83)<br><strong>Comment</strong>: <pre>Ok, if we assume that we can have more than one registrar, then we can use the commented code in lines 152-170, to define Registrar interface as it extending the Member, or simply add all these functions to a Member, and make them return an error if the Member is not in possession of registrar attribute.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L103)<br><strong>Comment</strong>: <pre>Should not this method return boolean instead of Member ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L103)<br><strong>Comment</strong>: <pre>Correct. Thanks for pointing this out!</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L107](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L107)<br><strong>Comment</strong>: <pre>Should not this method return boolean indicating whether the operation was successful or not , instead of Member ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L107](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L107)<br><strong>Comment</strong>: <pre>So, since its an import we should either return the imported member or its enrollment identifier :)</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L107](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L107)<br><strong>Comment</strong>: <pre>ok. I was not sure.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L120)<br><strong>Comment</strong>: <pre>How do you envisage a scenario where client passes ECERT and it gets back TCert. In this case , it does not need to have an identity known to Membership Service , aka , COP Service.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L120)<br><strong>Comment</strong>: <pre>Hm, I am not sure i understand what you mean. That is, this interface should be agnostic to how each membership service provider or identity provider is implemented. I.e., if and when the client part of its contact a server.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L123](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L123)<br><strong>Comment</strong>: <pre>Should not the permission object have tree like structure (something like JSON), instead of flat to provide more flexibility ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L123](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L123)<br><strong>Comment</strong>: <pre>This would return the permissions of this member associated to the membership service provider, i.e., if that member is a registrar with what permissisons, etc.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L131)<br><strong>Comment</strong>: <pre>We need a single prekey for tcert generation.  The current tcert generation requires a 1-1 relationship between member and affiliation where affilations are hierarchical.  If we use group for the old affiliation, we will not know which prekey to use if the member is in multiple groups.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L131)<br><strong>Comment</strong>: <pre>Not sure what is your definition of affiliation. Would this mean that a member has multiple enrollment identifiers, one per affiliation? Group here denotes simply the participant or CA this member belongs to.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L131)<br><strong>Comment</strong>: <pre>I need to understand distinction between affiliation and group. To me , affiliation is , which entity the end user belongs to. So , if the user belongs to Bank Of America , his affiliation belongs to Bank of America. Not sure , if we are going to support tree structure of affiliation. 

If user belongs to group which maps to CA , I think , the user can belong to one CA from practical perspective.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L131)<br><strong>Comment</strong>: <pre>So is this preKey used to generate keys attributes will be encrypted with? Cause if so, the preKey can be specified implicitly by the namespace of the attribute (assuming that this is taken by the affiliation of the user that attribute is subjected to?) Or are you suggesting that we have the affiliation of the member as additional attribute in the identity specs?</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L133](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L133)<br><strong>Comment</strong>: <pre>Let's be consistent with putting "GetXXX" or just "XXX", and also make the comments match the real name; otherwise, we get warnings when compiling.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L133](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L133)<br><strong>Comment</strong>: <pre>This is not a getter of a field, but rather given an identity, it computes its public profile, but excluding certain parts that are sensitive, or used for optimization purposes.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L137)<br><strong>Comment</strong>: <pre>This requires passing attribute names and values to get tcerts.  We should only need to pass attribute names and the values are inserted the IDP server.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L137)<br><strong>Comment</strong>: <pre>Hm, good point. And what happens if an attribute can have multiple variables and the client only wants to reveal one? Do we consider such cases?</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L145](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L145)<br><strong>Comment</strong>: <pre>Does this delete the member like the comment says? If yes, why isn't it just called Delete?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L145](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L145)<br><strong>Comment</strong>: <pre>No, this may delete identities of that member, e.g., tcerts that follow under certain specs (passed as parameter).</pre><strong>Commenter</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>CommentLine</strong>: [idp/idp.go#L170](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L170)<br><strong>Comment</strong>: <pre>Do we need this? If so, let's uncomment, otherwise, let's remove?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L170](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L170)<br><strong>Comment</strong>: <pre>Will remove this, yes.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L177)<br><strong>Comment</strong>: <pre>How does this work?  What exactly is being validated and how?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L177)<br><strong>Comment</strong>: <pre>The idea was that this one would check the signature included in that Identity (certificate), and also do a check on whether that identity has expired given that IDP state related to certificates' validity period.</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L183](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L183)<br><strong>Comment</strong>: <pre>Shall also the Member have this method?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L183](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L183)<br><strong>Comment</strong>: <pre>Well the member is not really serialized/deserialised, so did not seem to me crucial to have it there. But we could add it to all the structures here :)</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L189](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L189)<br><strong>Comment</strong>: <pre>What about a method similar to:
    IsMemberOf(groupName string) (bool, error)
Is there a reason to reveal all group names of a member?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L189](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L189)<br><strong>Comment</strong>: <pre>Well, this is a function that is available to the client who handles this Member. I would guess that both suggestions could make sense.</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L195](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L195)<br><strong>Comment</strong>: <pre>Why don't we have just this method instead of having also Verify?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L195](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L195)<br><strong>Comment</strong>: <pre>We could. The second also cover the first. Just thought a simpler version of this (like in JCE) could make it easier for some uses of the function).</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L198](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L198)<br><strong>Comment</strong>: <pre>How does someone get the value of an attribute associated with the identity?  Is this specific to idmix, or can this be used to extract an attibute's value in a tcert?  If yes, what is proof?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L198](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L198)<br><strong>Comment</strong>: <pre>It is not necessarily specific to idemix. But what happens is that VerifyAttributes take as input some policy (included in the AttributeSpec) and checks given the proof if that attribute-based policy is satisfied. This is something we can also support with the existing fabric-IDP.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L198](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L198)<br><strong>Comment</strong>: <pre>What is the reason behind VerifyAttribute taking the array of byteArray as input. To me it should be either byte array or something like json structure which maps the policy.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L198](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L198)<br><strong>Comment</strong>: <pre>Well, ok in certain cases, this proof of attribute ownership includes a signature, while in oother cases (like in default fabric-provider), it includes key material used to encrypt attributes in an identity (TCert). Hence we use a byte array to make it possible that each MSP/IDP properly encodes their own format of attribute proofs in there :)</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L215](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L215)<br><strong>Comment</strong>: <pre>Shall we just this without Sign?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L215](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L215)<br><strong>Comment</strong>: <pre>The same comment as above for Verify.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L224](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L224)<br><strong>Comment</strong>: <pre>Is renew same as update ? And/or something like renew certificate , which to me seems same as update.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L224](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L224)<br><strong>Comment</strong>: <pre>Could be. Renew has the meaning, that the certificate has expired and i would like to get a new one with the same public / signing key.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L227](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L227)<br><strong>Comment</strong>: <pre>Is revoke same as soft delete ? With name Revoke "Revoke Certificate" comes into my mind.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L227](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L227)<br><strong>Comment</strong>: <pre>Not sure what soft delete means :) 
Revoke has the meaning of doing certain things such that third parties will accept no more signatures coming from this certificate as valid.</pre><strong>Commenter</strong>: Ashutosh Kumar - ashutosh_kumar@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L243](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L243)<br><strong>Comment</strong>: <pre>What is difference between Role and Group ?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L243](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L243)<br><strong>Comment</strong>: <pre>Ok, in my view: 
 - role: peer/client
 - group: UBS/Amazon, i.e., the organization you belong and you acquired certificates from.</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L290](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L290)<br><strong>Comment</strong>: <pre>Why is this an array of strings?  If someone wants to import a cert and private key, how is the private specified here?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L290](https://github.com/hyperledger-gerrit-archive/fabric/blob/aaba749c695534f612b280a3fc27050d461018b8/idp/idp.go#L290)<br><strong>Comment</strong>: <pre>Oh it is actually a string :) Will fix it.</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Uploader</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Created</strong>: 11/8/2016, 5:34:26 AM<br><strong>UnmergedRevision</strong>: [eb253ca7db54cbec557f22c9de84d854e32b40b5](https://github.com/hyperledger-gerrit-archive/fabric/commit/eb253ca7db54cbec557f22c9de84d854e32b40b5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/8/2016, 6:00:39 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jim Zhang - jim_the_matrix@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L47](https://github.com/hyperledger-gerrit-archive/fabric/blob/eb253ca7db54cbec557f22c9de84d854e32b40b5/idp/idp.go#L47)<br><strong>Comment</strong>: <pre>the IDPManager and IDP, Member interfaces should be "optional" interface, as ONE way to provision the signed certificates. and I think they should be inside the fabric-COP project instead of fabric because in my opinion (as I said below) the "core" API for Peers is just the Identity classes.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L47](https://github.com/hyperledger-gerrit-archive/fabric/blob/eb253ca7db54cbec557f22c9de84d854e32b40b5/idp/idp.go#L47)<br><strong>Comment</strong>: <pre>So, IDPManager would be used by the Peer code to be able to verify transactions that are signed with alternative membership service provider implementations. E.g., to route the verification process to the right IDP/MSP.</pre><strong>Commenter</strong>: Jim Zhang - jim_the_matrix@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/eb253ca7db54cbec557f22c9de84d854e32b40b5/idp/idp.go#L131)<br><strong>Comment</strong>: <pre>not understanding why we need "Member" if we already have Identity. So i have Identity representing the signed certificate (for user or for Peer membership), isn't that enough for identity purposes?</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/eb253ca7db54cbec557f22c9de84d854e32b40b5/idp/idp.go#L131)<br><strong>Comment</strong>: <pre>Hm a member represents an owner of one or more identities. It is equipped with an enrollment identity and can issue one or more anonymous identities that have signing capabilities. But i do see how this architecture fits better the application needs that handle multiple end-users/accounts. Not for the peer case where a simple singing identity should suffice.</pre><strong>Commenter</strong>: Jim Zhang - jim_the_matrix@hotmail.com<br><strong>CommentLine</strong>: [idp/idp.go#L189](https://github.com/hyperledger-gerrit-archive/fabric/blob/eb253ca7db54cbec557f22c9de84d854e32b40b5/idp/idp.go#L189)<br><strong>Comment</strong>: <pre>it'd be a good exercise to keep the "core" part of the interface (which is "Identity" and "SigningIdentity" in my mind and their dependent classes) separate from the "optional" part like member services with registration and enroll.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [idp/idp.go#L189](https://github.com/hyperledger-gerrit-archive/fabric/blob/eb253ca7db54cbec557f22c9de84d854e32b40b5/idp/idp.go#L189)<br><strong>Comment</strong>: <pre>Right. So i have a todo to separate the calls referring to application (chaincode) and the one to peer. Stay tuned.</pre></blockquote>