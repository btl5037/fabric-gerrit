<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 7255<br><strong>Subject</strong>: FAB-2462: Re-enable paging results for queries<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 3/16/2017, 4:07:22 AM<br><strong>LastUpdated</strong>: 4/25/2017, 12:49:02 PM<br><strong>CommitMessage</strong>:<br><pre>FAB-2462: Re-enable paging results for queries

Paging result sets is required in order to avoid failures
related to large result sets.

The Next() call on StateQueryIterator from Chaincode was failing
in peer due to a corner case. This fix addresses the corner case (where
the number of results is an exact multiple of shim batch size).

This is done by keeping the HasMore flag in iterator accurate by
pre-fetching the next batch of results when the last cached item
from shim is accessed.

This fix also adds the Namespace field to commonledger.KV type. The data
returned to peer has namespace information. All state iterators return
 QueryResult with commonledger.KV type elements.

Change-Id: Id872130db8a20ec5a59593b1fa004dce43ee36ac
Signed-off-by: Balaji Viswanathan <balaji.viswanathan@gmail.com>
Signed-off-by: denyeart <enyeart@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 3/16/2017, 4:07:22 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:08:24 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8682/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:09:13 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2756/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:11:34 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/222/ (3/3)</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 3/16/2017, 4:24:18 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:25:38 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8683/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:26:23 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2757/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:27:46 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8682/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2756/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/222/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:28:33 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/223/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 4:42:24 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8683/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2757/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/223/ : SUCCESS</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 3/16/2017, 6:31:23 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 6:32:54 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8686/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 6:33:46 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2760/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 6:34:42 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/226/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/16/2017, 7:01:03 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8686/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2760/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/226/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 3/17/2017, 12:48:04 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/17/2017, 12:49:25 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8708/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/17/2017, 12:50:08 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2782/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/17/2017, 12:52:40 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/248/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/17/2017, 2:12:38 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8708/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2782/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/248/ : SUCCESS</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 3/22/2017, 11:51:12 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Is there a test for > 100 results in range, history, and rich queries?</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 3/23/2017, 9:23:04 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(3 comments)

Balaji - a few minor comments...</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 3/27/2017, 6:13:19 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 6:15:04 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2975/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 6:15:43 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/441/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 6:16:13 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8901/ (3/3)</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 3/27/2017, 6:16:42 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 7:31:03 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2975/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/441/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8901/ : FAILURE</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 3/27/2017, 8:20:12 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(2 comments)</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 3/27/2017, 12:06:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 12:06:46 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/456/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 12:06:47 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2990/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 12:06:47 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8916/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/27/2017, 1:35:59 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/456/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2990/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8916/ : SUCCESS</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/5/2017, 6:02:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 6:04:12 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9224/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 6:04:58 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/761/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 6:05:05 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3294/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 6:37:33 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9224/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/761/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3294/ : SUCCESS</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/5/2017, 8:36:58 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 8:37:08 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9232/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 8:40:23 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/769/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 8:41:07 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3302/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 9:02:27 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9232/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/769/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3302/ : SUCCESS</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/5/2017, 10:26:25 AM<br><strong>Message</strong>: <pre>Patch Set 8:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 10:27:39 AM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9237/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 10:28:21 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/774/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 10:28:57 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3307/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 10:52:59 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9237/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/774/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3307/ : SUCCESS</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/5/2017, 11:17:49 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 11:20:18 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9239/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 11:21:06 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/776/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 11:21:29 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3309/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 11:53:09 AM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9239/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/776/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3309/ : SUCCESS</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/5/2017, 1:56:43 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 1:58:23 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9246/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 1:59:29 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/783/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 2:00:34 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3316/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/5/2017, 3:14:36 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/783/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9246/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3316/ : SUCCESS</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/6/2017, 1:35:02 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(5 comments)

A few comments/questions...</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/6/2017, 2:52:41 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/6/2017, 2:52:48 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/6/2017, 2:53:46 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9259/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/6/2017, 2:55:33 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/796/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/6/2017, 2:55:42 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3329/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/6/2017, 4:17:26 AM<br><strong>Message</strong>: <pre>Patch Set 11: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/796/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9259/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3329/ : SUCCESS</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/6/2017, 11:10:33 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+1</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/20/2017, 10:15:35 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 10:17:21 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4002/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 10:17:21 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9934/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 10:17:53 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1469/ (3/3)</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/20/2017, 10:19:01 AM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 11:47:16 AM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4002/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9934/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1469/ : SUCCESS</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 4/20/2017, 12:35:37 PM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+1

needs rebase</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/20/2017, 1:57:26 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/20/2017, 1:58:09 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review-1

Attempted the rebase.  Fixing up some test issues.</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/20/2017, 1:58:23 PM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/20/2017, 2:00:19 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Balaji and I pushed rebases at the same time.  Balaji pushed latest, let me test his.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/20/2017, 2:11:04 PM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review-1

Balaji's rebase did not factor in:
https://gerrit.hyperledger.org/r/#/c/7687/
https://gerrit.hyperledger.org/r/#/c/7787/

My rebase did factor them in, but I am getting some test issues upon query.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 2:55:36 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4032/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 2:56:16 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9964/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 2:57:07 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1499/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 3:05:56 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4035/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 3:06:32 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9966/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 3:15:24 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1501/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 4:09:04 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4032/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9964/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1499/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 4:57:08 PM<br><strong>Message</strong>: <pre>Patch Set 14: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4035/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9966/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1501/ : SUCCESS</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 3:33:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 3:36:05 AM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+1

Rebased and tested end-to-end.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 4:35:03 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4102/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 4:35:18 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10034/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 4:36:18 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1569/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 6:36:55 AM<br><strong>Message</strong>: <pre>Patch Set 15: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4102/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10034/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1569/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 6:50:22 AM<br><strong>Message</strong>: <pre>Patch Set 15:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 6:52:42 AM<br><strong>Message</strong>: <pre>Patch Set 15: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4118/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 6:53:00 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10050/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 6:55:34 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1585/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 7:40:30 AM<br><strong>Message</strong>: <pre>Patch Set 15: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4118/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10050/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1585/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 10:59:54 AM<br><strong>Message</strong>: <pre>Patch Set 15:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:24:50 PM<br><strong>Message</strong>: <pre>Patch Set 15: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4178/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:34:29 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10110/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 2:34:30 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1644/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 4:06:41 PM<br><strong>Message</strong>: <pre>Patch Set 15: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4178/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1644/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10110/ : SUCCESS</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 4/23/2017, 12:54:02 AM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+2

(1 comment)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 2:02:03 AM<br><strong>Message</strong>: <pre>Patch Set 15:

(1 comment)</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 2:09:00 AM<br><strong>Message</strong>: <pre>Patch Set 15:

(1 comment)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 2:13:10 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Murali, I am also referring the same. We should add back err check to avoid panic.</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 2:18:59 AM<br><strong>Message</strong>: <pre>Patch Set 15:

> Murali, I am also referring the same. We should add back err check
 > to avoid panic.

Sounds good, Thanks</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 2:19:22 AM<br><strong>Message</strong>: <pre>Patch Set 15: -Code-Review

Let me remove the +2 then.</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 2:40:51 AM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 2:41:55 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 2:42:23 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4506/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 2:43:00 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1973/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 2:43:36 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10428/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 4:07:52 AM<br><strong>Message</strong>: <pre>Patch Set 16: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4506/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1973/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10428/ : SUCCESS</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 4/25/2017, 4:53:22 AM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review+1</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 5:07:12 AM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review+2

LGTM (esp. coverage for the corner case in chaincode)</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 4/25/2017, 9:45:43 AM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 9:45:47 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Christopher Ferris</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 9:49:57 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/596/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 9:50:27 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/281/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 9:51:12 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1595/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/25/2017, 12:49:02 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/596/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/281/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1595/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 3/16/2017, 4:07:22 AM<br><strong>UnmergedRevision</strong>: [807c5469f19e7a4ed5f95336ad85af7c0a94f789](https://github.com/hyperledger-gerrit-archive/fabric/commit/807c5469f19e7a4ed5f95336ad85af7c0a94f789)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/16/2017, 4:27:46 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 3/16/2017, 4:24:18 AM<br><strong>UnmergedRevision</strong>: [926151ef869a17bd72133e8039c350821305f630](https://github.com/hyperledger-gerrit-archive/fabric/commit/926151ef869a17bd72133e8039c350821305f630)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/16/2017, 4:42:24 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 3/16/2017, 6:31:23 AM<br><strong>UnmergedRevision</strong>: [b6f2970ad341a04f135a688495c6f563061b5f98](https://github.com/hyperledger-gerrit-archive/fabric/commit/b6f2970ad341a04f135a688495c6f563061b5f98)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/16/2017, 7:01:03 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 3/17/2017, 12:48:04 AM<br><strong>UnmergedRevision</strong>: [9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea](https://github.com/hyperledger-gerrit-archive/fabric/commit/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/17/2017, 2:12:38 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L484](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/chaincode/shim/chaincode.go#L484)<br><strong>Comment</strong>: <pre>just wondering from the perspective of minimizing the change s - do you see any issue if you simply replace `line 491-493 ` in the old patch by `return iter.Next()`.</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L484](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/chaincode/shim/chaincode.go#L484)<br><strong>Comment</strong>: <pre>Done, but also this is just saving 2 lines of code (not so much on readability) and risking a infinite recursion vs panic...so debatable</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L484](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/chaincode/shim/chaincode.go#L484)<br><strong>Comment</strong>: <pre>You misunderstood my comment. I was not referring to saving 2 loc. What I was saying was that not making any change to this method at all other than simply replacing what I mentioned (assuming you do not deal with the special case of lazy fetch in this method - which is relevant to the other patch as you said).</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L492](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/chaincode/shim/chaincode.go#L492)<br><strong>Comment</strong>: <pre>I did not see the lazy configuration. Line:366 - during construction of the iterator, it always fetches the first batch. Did I miss anything here?</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L492](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/chaincode/shim/chaincode.go#L492)<br><strong>Comment</strong>: <pre>The current statecouchdb.ExecuteQuery does not do pagination. But with our approach of fetching keys only and then getting fields/docs during next(), the ExecuteQuery iterator will be lazy initialized (which is a different patch) as below.

//initialize with empty queryResult to have Next fetch results
	resultsIter := newKVScanner([]couchdb.QueryResult{}, queryTypeSelector,
		&cursorState{
			commonCursorState: commonCursorState{queryLimit: len(docids)},
			queryCursorState:  &selectorCursorState{docids: docids, fields: fields}})</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L492](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/chaincode/shim/chaincode.go#L492)<br><strong>Comment</strong>: <pre>Won't retrieving the first set of results and returning in the 'response' be better than handling this as a special case in 'next'? Just a suggestion... will leave up to you</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledger_interface.go#L129](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/ledger/ledger_interface.go#L129)<br><strong>Comment</strong>: <pre>Is this field required? Probably, you added this because, it was present in QueryRecord but if it's not being used anywhere better to remove this while doing this clean up.</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledger_interface.go#L129](https://github.com/hyperledger-gerrit-archive/fabric/blob/9cb1e7e0a157d80b2e9dc775a4bc6bd3f47d14ea/core/ledger/ledger_interface.go#L129)<br><strong>Comment</strong>: <pre>Yes, it's from QueryRecord and i suppose it is to support Cross chain queries later. Its discarded by shim currently</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 3/27/2017, 6:13:19 AM<br><strong>UnmergedRevision</strong>: [9e8710d55c7a13c1fa51f7fd66433cfa701864e8](https://github.com/hyperledger-gerrit-archive/fabric/commit/9e8710d55c7a13c1fa51f7fd66433cfa701864e8)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/27/2017, 7:31:03 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 3/27/2017, 12:06:17 PM<br><strong>UnmergedRevision</strong>: [2554a81ae5a54fab9ed08d976a000329d60d5903](https://github.com/hyperledger-gerrit-archive/fabric/commit/2554a81ae5a54fab9ed08d976a000329d60d5903)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/27/2017, 1:35:59 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 4/5/2017, 6:02:25 AM<br><strong>UnmergedRevision</strong>: [98f7aee33d01149fe480932269e83282e3bc30c5](https://github.com/hyperledger-gerrit-archive/fabric/commit/98f7aee33d01149fe480932269e83282e3bc30c5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/5/2017, 6:37:33 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 4/5/2017, 8:36:58 AM<br><strong>UnmergedRevision</strong>: [90e46a7cfcfa8195e228cd6e8ec5d0d0e8d51591](https://github.com/hyperledger-gerrit-archive/fabric/commit/90e46a7cfcfa8195e228cd6e8ec5d0d0e8d51591)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/5/2017, 10:52:59 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 4/5/2017, 11:17:49 AM<br><strong>UnmergedRevision</strong>: [12c73a01177b4e2d72375b48d831f13c27d3694e](https://github.com/hyperledger-gerrit-archive/fabric/commit/12c73a01177b4e2d72375b48d831f13c27d3694e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/5/2017, 11:53:09 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 4/5/2017, 1:56:43 PM<br><strong>UnmergedRevision</strong>: [c58895c27f6dce0a88daf1b14602e1e45b03cfb6](https://github.com/hyperledger-gerrit-archive/fabric/commit/c58895c27f6dce0a88daf1b14602e1e45b03cfb6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/5/2017, 3:14:36 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/chaincode/exectransaction_test.go#L1080](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/exectransaction_test.go#L1080)<br><strong>Comment</strong>: <pre>...to 10000</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/exectransaction_test.go#L1080](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/exectransaction_test.go#L1080)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/chaincode/handler.go#L794](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/handler.go#L794)<br><strong>Comment</strong>: <pre>If shim doesn't call back for 2nd 100, the iterator will not be closed and deleted. Is that a problem?</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/handler.go#L794](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/handler.go#L794)<br><strong>Comment</strong>: <pre>The iterator is closed (and deleted) when chaincode calls iter.Close() or shim notifies peer of END state and as part of cleanup of transactionContext on peer side. So, it will not leak.</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/chaincode/handler.go#L799](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/handler.go#L799)<br><strong>Comment</strong>: <pre>If I'm reading this correctly, if there were exactly 100 items in result set, HasMore will be true (last queryResult is not nil) , even though there are not more items.  This will cause shim to request the next 100, but 0 items will be returned.  This doesn't seem to match the test comments for exactly 100 which says Next() will not be called.</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/handler.go#L799](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/handler.go#L799)<br><strong>Comment</strong>: <pre>Shim side (core/chaincode/shim/chaincode.go) will do a pre-fetch of next block when 100th element is accessed and the HasMore will then toggle. 101st Next() is not called from chaincode *explicitly* (since HasMore) is now fixed.</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/chaincode/handler.go#L1046](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/handler.go#L1046)<br><strong>Comment</strong>: <pre>not used?</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/handler.go#L1046](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/handler.go#L1046)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L561](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/shim/chaincode.go#L561)<br><strong>Comment</strong>: <pre>I'm having trouble understanding this one. Seems like if we are on the last item in the result set, we will fetchNextQueryResult() above, which resets currentLoc to 0.  So I'm not seeing when this block would get entered.
Can you double check this is what you intended, and add some more detailed comments throughout this function to make it easier to understand intent.</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L561](https://github.com/hyperledger-gerrit-archive/fabric/blob/c58895c27f6dce0a88daf1b14602e1e45b03cfb6/core/chaincode/shim/chaincode.go#L561)<br><strong>Comment</strong>: <pre>Was a lazy load option, where iterator does not cache any results but set HasMore to true to allow for fetch during call to Next(). Since its confusing, i am removing this option</pre></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 4/6/2017, 2:52:41 AM<br><strong>UnmergedRevision</strong>: [42aea22a6e8085c22b174946810ef607cffffd96](https://github.com/hyperledger-gerrit-archive/fabric/commit/42aea22a6e8085c22b174946810ef607cffffd96)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/6/2017, 4:17:26 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 4/6/2017, 11:10:33 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Created</strong>: 4/20/2017, 10:15:35 AM<br><strong>UnmergedRevision</strong>: [090b14da47bbcb3356b718af0b02967f1486a0da](https://github.com/hyperledger-gerrit-archive/fabric/commit/090b14da47bbcb3356b718af0b02967f1486a0da)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 4/20/2017, 12:35:37 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/20/2017, 11:47:16 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 4/20/2017, 10:19:01 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Created</strong>: 4/20/2017, 1:57:26 PM<br><strong>UnmergedRevision</strong>: [664568f0242dd481f73e51bc512747882b7091d4](https://github.com/hyperledger-gerrit-archive/fabric/commit/664568f0242dd481f73e51bc512747882b7091d4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/20/2017, 4:09:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 4/20/2017, 1:58:09 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 4/20/2017, 1:58:23 PM<br><strong>UnmergedRevision</strong>: [441c558045846d0dca12cca7dfb6122980b056b3](https://github.com/hyperledger-gerrit-archive/fabric/commit/441c558045846d0dca12cca7dfb6122980b056b3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/20/2017, 4:57:08 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 4/20/2017, 2:11:04 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Created</strong>: 4/21/2017, 3:33:59 AM<br><strong>UnmergedRevision</strong>: [8e65e02a7303d5bee988f81c17a37a73abe31e90](https://github.com/hyperledger-gerrit-archive/fabric/commit/8e65e02a7303d5bee988f81c17a37a73abe31e90)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/21/2017, 4:06:41 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 4/21/2017, 3:36:05 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L492](https://github.com/hyperledger-gerrit-archive/fabric/blob/8e65e02a7303d5bee988f81c17a37a73abe31e90/core/chaincode/shim/chaincode.go#L492)<br><strong>Comment</strong>: <pre>It is better to retain err check as casting nil interface to type T results in panic. Golang spec states that x.(T)
asserts that x is not nil and that the value stored in x is of type T.</pre><strong>Commenter</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L492](https://github.com/hyperledger-gerrit-archive/fabric/blob/8e65e02a7303d5bee988f81c17a37a73abe31e90/core/chaincode/shim/chaincode.go#L492)<br><strong>Comment</strong>: <pre>Maybe I'm missing something... I was referring to adding back 
	if err != nil {
		return nil, err
	}</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L492](https://github.com/hyperledger-gerrit-archive/fabric/blob/8e65e02a7303d5bee988f81c17a37a73abe31e90/core/chaincode/shim/chaincode.go#L492)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L496](https://github.com/hyperledger-gerrit-archive/fabric/blob/8e65e02a7303d5bee988f81c17a37a73abe31e90/core/chaincode/shim/chaincode.go#L496)<br><strong>Comment</strong>: <pre>While this is legal (typecasting and not accessing a field) the former err check was clearer (readers have to dig a bit to understand). Upto you, but I'd retain that code. As CI takes a long time and this is cosmetic, OK to do this as part of another CR.</pre><strong>Commenter</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>CommentLine</strong>: [core/chaincode/shim/chaincode.go#L496](https://github.com/hyperledger-gerrit-archive/fabric/blob/8e65e02a7303d5bee988f81c17a37a73abe31e90/core/chaincode/shim/chaincode.go#L496)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Uploader</strong>: Balaji Viswanathan - balaji.viswanathan@gmail.com<br><strong>Created</strong>: 4/25/2017, 2:40:51 AM<br><strong>GitHubMergedRevision</strong>: [868a3e936efc6340c937b2a3a9860955faab427a](https://github.com/hyperledger-gerrit-archive/fabric/commit/868a3e936efc6340c937b2a3a9860955faab427a)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 4/25/2017, 9:45:43 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Christopher Ferris<br><strong>Merged</strong>: 4/25/2017, 9:45:47 AM<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/25/2017, 4:07:52 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Approved</strong>: 4/25/2017, 5:07:12 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 4/25/2017, 4:53:22 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>