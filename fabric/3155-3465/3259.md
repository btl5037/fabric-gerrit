<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 3259<br><strong>Subject</strong>: [FAB-1384]: Change ValidatedLedger APIs<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 12/13/2016, 12:15:00 PM<br><strong>LastUpdated</strong>: 12/15/2016, 11:19:59 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-1384]: Change ValidatedLedger APIs

In order to provide support for JIRA [FAB-1038], validated
ledger should be able to receive block to commit with list
of invalid transactions to execute MVCC validation as part
of the flow described in FAB-1038.

Change-Id: Ica9c48c036ecd97a17484e4954a85d1b7abccf2a
Signed-off-by: Artem Barger <bartem@il.ibm.com>
Signed-off-by: Yacov Manevich <yacovm@il.ibm.com>
Signed-off-by: Artem Barger <bartem@il.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 12:15:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 12:17:02 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/3997/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 12:20:10 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/3997/ : FAILURE</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 12/13/2016, 12:36:11 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+1

LGTM. Artem, you would need to run goimports :-)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 12:40:48 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 12:41:02 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Ran goimports for him</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 12:43:36 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4001/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 12:46:25 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4001/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 4:15:55 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 4:19:58 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4031/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 4:23:00 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4031/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 4:29:20 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 4:32:05 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4033/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 4:41:10 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4033/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 4:53:37 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 4:58:08 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4041/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 5:21:23 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4041/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 5:37:35 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 5:42:38 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4045/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 5:45:31 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4045/ : FAILURE</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 5:53:03 PM<br><strong>Message</strong>: <pre>Patch Set 6:

In the flow diagram in FAB-1038, VSCC may have already called MVCC check, in which case we don't need to call ValidateAndPrepare() again.  The results of ValidateAndPrepare() should already be known by ledger prior to Commit().  In this changeset the Commit() always calls ValidateAndPrepare().  
Also, in the diagram committer will already have invalidTxBitArray (from VSCC results) and passes that into ledger Commit().  But in the new Commit() method here there is no invalidTxBitArray passed to Commit().  The commit message also indicates there will be a list of invalid transactions passed in.
Are both of these coming in a later changeset, or should they be in this changeset? Please update commit message with exactly what should be included in this changeset, and what will come in subsequent changeset.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 6:02:11 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 6:06:16 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4046/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 6:10:19 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4046/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 6:11:49 PM<br><strong>Message</strong>: <pre>Patch Set 7:

First of all how I can see whenever VSCC already called MVCC check? Also note that invalid transactions being skipped within ValidateAndPrepare(). 

Not sure I'm following your comment regarding the invalidTxBitArray being passed within Commit method call, since bit array mask already encoded into block metadata field and it's part of the block passed into Commit(block *common.Block).


Please refer to lockbased_txmgr.go, lines 117-124:


	txsFilter := util.NewFilterBitArrayFromBytes(block.Metadata.Metadata[common.BlockMetadataIndex_TRANSACTIONS_FILTER])

	for txIndex, envBytes := range block.Data.Data {
		if txsFilter.IsSet(uint(txIndex)) {
			// Skiping invalid transaction
			logger.Debug("Skipping transaction marked as invalid, txIndex=", txIndex)
			continue
		}


Commit message includes everything that relates to current CR also points to relevant JIRA items, so I'm not sure what else could be added here, also I do not think that commit message should include plans for future commits.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 6:12:36 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 6:14:07 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4047/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 6:41:53 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4047/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 7:54:57 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 7:56:21 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4053/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 7:58:32 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4053/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 7:58:37 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 7:59:36 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4054/</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/13/2016, 8:01:58 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 8:02:30 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4054/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 8:03:13 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4055/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/13/2016, 8:05:58 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4055/ : FAILURE</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 3:21:32 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Hi Artem, I was simply pointing out that this implementation does not follow the flow diagram from FAB-1038 that the commit message references.  So either update the flow diagram or explain the deviations in the commit message.

I think it is indeed fine to pass the invalidTxBitArray as part of the block into Commit(), rather than the raw block with invalidTxBitArray as second parameter, as the flow diagram suggests, I'd just suggest update the flow diagram to match so that we're all on the same page.

As for VSCC already invoking MVCC prior to Commit(), there could be a 'cookie' in ledger indicating that the block is already MVCC validated and finalized, meaning that Commit() doesn't need to perform MVCC validation a second time. In fact you could use the pendingBlockToCommit to hold the finalized block (similar to the design before you removed pendingBlockToCommit).  If pendingBlockToCommit is there, Commit() would know it can simply commit it.  If pendingBlockToCommit is not there, then the MVCC validation step would be needed to mark the additional invalid transactions.  If you want to leave that for a subsequent changeset, that is fine, but again please mention in the commit message so that we understand that MVCC may be performed twice with this changeset, contrary to the intent in the flow diagram.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 3:37:47 AM<br><strong>Message</strong>: <pre>Patch Set 11:

The other thing I wanted to mention, is that with this changeset, the committer's ledger is no longer a 'ValidatedLedger' (invalid tx removed).  Rather it is now a raw ledger (with invalid tx marked).  Therefore instead of keeping the names RawLedger and ValidatedLedger  in ledger_interface.go, I think the more accurate names would now be OrdererLedger and CommitterLedger, respectively.  These names would be more expressive for their intended use.  Let's see if Manish agrees.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 4:00:30 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 4:04:05 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4087/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 4:07:29 AM<br><strong>Message</strong>: <pre>Patch Set 12: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4087/ : FAILURE</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 12/14/2016, 5:11:17 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Yes, I'm fine with the new names proposed by Dave. But, I think that we can change that later in a separate commit - in order to keep the  conflicts with the refactoring to low.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 5:29:29 AM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 5:30:59 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4093/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 5:33:25 AM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4093/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 5:34:47 AM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 5:36:10 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4094/</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 5:40:54 AM<br><strong>Message</strong>: <pre>Patch Set 14:

I agree on changing interfaces names, while I'd like to do so in separate commit. And to follow up on that created JIRA FAB-1390.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 6:04:44 AM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4094/ : SUCCESS</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 11:20:22 AM<br><strong>Message</strong>: <pre>Uploaded patch set 15: Patch Set 14 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 11:22:33 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4112/</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 12/14/2016, 11:52:06 AM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 12:09:54 PM<br><strong>Message</strong>: <pre>Patch Set 15: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4112/ : FAILURE</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 12/14/2016, 1:14:04 PM<br><strong>Message</strong>: <pre>Patch Set 15:

> Build Failed
 > 
 > https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4112/ :
 > FAILURE

reverify</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 12/14/2016, 1:14:26 PM<br><strong>Message</strong>: <pre>Patch Set 15:

revify</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 1:15:23 PM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 1:17:13 PM<br><strong>Message</strong>: <pre>Patch Set 15: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4120/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 1:44:49 PM<br><strong>Message</strong>: <pre>Patch Set 15: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4120/ : FAILURE</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 12/14/2016, 5:17:31 PM<br><strong>Message</strong>: <pre>Patch Set 15:

I can't get the unit test to pass on my local machine with this changeset. The error was in sbft, which Marko fixed.  Please rebase.</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 5:46:03 PM<br><strong>Message</strong>: <pre>Patch Set 15:

The rebase will likely be significant since Manish's ledger refactor was merged today.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/14/2016, 7:13:58 PM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 7:15:36 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4141/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/14/2016, 7:18:16 PM<br><strong>Message</strong>: <pre>Patch Set 16: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4141/ : FAILURE</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 2:07:57 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(2 comments)

Looks good to me overall. Just a couple of minor comments</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 6:22:50 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(2 comments)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 6:23:02 AM<br><strong>Message</strong>: <pre>Uploaded patch set 17.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 6:24:09 AM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4162/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 6:26:33 AM<br><strong>Message</strong>: <pre>Patch Set 17: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4162/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 6:35:14 AM<br><strong>Message</strong>: <pre>Uploaded patch set 18.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 6:36:44 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4164/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 6:39:01 AM<br><strong>Message</strong>: <pre>Patch Set 18: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4164/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 6:45:19 AM<br><strong>Message</strong>: <pre>Uploaded patch set 19.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 6:46:30 AM<br><strong>Message</strong>: <pre>Patch Set 19:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4165/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 7:12:52 AM<br><strong>Message</strong>: <pre>Patch Set 19: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4165/ : SUCCESS</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 7:17:49 AM<br><strong>Message</strong>: <pre>Patch Set 19: Code-Review+1</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 7:19:45 AM<br><strong>Message</strong>: <pre>Patch Set 20: Patch Set 19 was rebased</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 7:21:53 AM<br><strong>Message</strong>: <pre>Patch Set 20: Code-Review+1

(1 comment)

One minor comment, but I will still +1 since it is for a comment only.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 7:22:44 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4167/</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 7:31:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 21.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 7:31:36 AM<br><strong>Message</strong>: <pre>Patch Set 21:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 7:35:13 AM<br><strong>Message</strong>: <pre>Patch Set 21:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4168/</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 7:41:02 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 7:54:19 AM<br><strong>Message</strong>: <pre>Patch Set 20: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4167/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 8:03:14 AM<br><strong>Message</strong>: <pre>Patch Set 21: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4168/ : SUCCESS</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 8:33:06 AM<br><strong>Message</strong>: <pre>Patch Set 21: Code-Review+1</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 12/15/2016, 8:34:20 AM<br><strong>Message</strong>: <pre>Patch Set 21: Code-Review+1</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 10:20:36 AM<br><strong>Message</strong>: <pre>Patch Set 21: Code-Review+2</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 10:34:32 AM<br><strong>Message</strong>: <pre>Patch Set 21: Code-Review+2

LGTM too.</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 10:34:34 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Srinivasan Muralidharan</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 10:36:06 AM<br><strong>Message</strong>: <pre>Patch Set 21:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/584/</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 11:10:24 AM<br><strong>Message</strong>: <pre>Patch Set 21: Reverted

This patchset was reverted in change: I730b94c7e03a4b813801041dd303ce5b7fdb14bc</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 11:10:58 AM<br><strong>Message</strong>: <pre>Patch Set 21: Reverted

This patchset was reverted in change: Ic46147aed66efa7cf2abf5f9af1a8dba6bda945c</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 12/15/2016, 11:19:59 AM<br><strong>Message</strong>: <pre>Patch Set 21:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/584/ : SUCCESS</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 12/15/2016, 11:23:55 AM<br><strong>Message</strong>: <pre>Patch Set 21: Reverted

This patchset was reverted in change: Ib875409b363966eff13f337ce64062980e187767</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 12:15:00 PM<br><strong>UnmergedRevision</strong>: [51ba15a5f0d0dc0c66fc1cdb03a9d09a86aed17e](https://github.com/hyperledger-gerrit-archive/fabric/commit/51ba15a5f0d0dc0c66fc1cdb03a9d09a86aed17e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 12:20:10 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Approved</strong>: 12/13/2016, 12:36:11 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 12:40:48 PM<br><strong>UnmergedRevision</strong>: [92e316ac983a744c195f31615fc4fc196aed8c22](https://github.com/hyperledger-gerrit-archive/fabric/commit/92e316ac983a744c195f31615fc4fc196aed8c22)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 12:46:25 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 4:15:55 PM<br><strong>UnmergedRevision</strong>: [2ef262e79480682ecdb32acf39dcc3d8171e509e](https://github.com/hyperledger-gerrit-archive/fabric/commit/2ef262e79480682ecdb32acf39dcc3d8171e509e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 4:23:00 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 4:29:20 PM<br><strong>UnmergedRevision</strong>: [6d526eff45734d9b9255f6ed9a5a3ba1b3cbbb6f](https://github.com/hyperledger-gerrit-archive/fabric/commit/6d526eff45734d9b9255f6ed9a5a3ba1b3cbbb6f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 4:41:10 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 4:53:37 PM<br><strong>UnmergedRevision</strong>: [31b3aa58f3cb0d691e834bfdbcd848e4e8c10a59](https://github.com/hyperledger-gerrit-archive/fabric/commit/31b3aa58f3cb0d691e834bfdbcd848e4e8c10a59)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 5:21:23 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 5:37:35 PM<br><strong>UnmergedRevision</strong>: [bd3b0ac88b432118e096162b338f2896685e5ad5](https://github.com/hyperledger-gerrit-archive/fabric/commit/bd3b0ac88b432118e096162b338f2896685e5ad5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 5:45:31 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 6:02:11 PM<br><strong>UnmergedRevision</strong>: [fb090b4873cfd086371f8768ea740b06f0f7517d](https://github.com/hyperledger-gerrit-archive/fabric/commit/fb090b4873cfd086371f8768ea740b06f0f7517d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 6:10:19 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 6:12:36 PM<br><strong>UnmergedRevision</strong>: [87fffb83e9a1ab352972e1f659ca6d3167c05487](https://github.com/hyperledger-gerrit-archive/fabric/commit/87fffb83e9a1ab352972e1f659ca6d3167c05487)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 6:41:53 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 7:54:57 PM<br><strong>UnmergedRevision</strong>: [ed51754f53a5ab2b067f96ddf7ee84d0aea41acd](https://github.com/hyperledger-gerrit-archive/fabric/commit/ed51754f53a5ab2b067f96ddf7ee84d0aea41acd)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 7:58:32 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 7:58:37 PM<br><strong>UnmergedRevision</strong>: [80eee89aea6a4af32bfa37475ad2aa39053dd368](https://github.com/hyperledger-gerrit-archive/fabric/commit/80eee89aea6a4af32bfa37475ad2aa39053dd368)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 8:02:30 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/13/2016, 8:01:58 PM<br><strong>UnmergedRevision</strong>: [99b834b9ce9627e2aa37a7722cf3a3b985f74f91](https://github.com/hyperledger-gerrit-archive/fabric/commit/99b834b9ce9627e2aa37a7722cf3a3b985f74f91)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/13/2016, 8:05:58 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/14/2016, 4:00:30 AM<br><strong>UnmergedRevision</strong>: [a65a77c2fef0f1cc8fef2b39160d0db10e3df539](https://github.com/hyperledger-gerrit-archive/fabric/commit/a65a77c2fef0f1cc8fef2b39160d0db10e3df539)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/14/2016, 4:07:29 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/14/2016, 5:29:29 AM<br><strong>UnmergedRevision</strong>: [d8a2df26ead3c0ec85c1528e07f0f3f96998a6da](https://github.com/hyperledger-gerrit-archive/fabric/commit/d8a2df26ead3c0ec85c1528e07f0f3f96998a6da)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/14/2016, 5:33:25 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/14/2016, 5:34:47 AM<br><strong>UnmergedRevision</strong>: [ea23b9d14d220c27e82708ff12ef70ec6290e985](https://github.com/hyperledger-gerrit-archive/fabric/commit/ea23b9d14d220c27e82708ff12ef70ec6290e985)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/14/2016, 6:04:44 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/14/2016, 11:20:22 AM<br><strong>UnmergedRevision</strong>: [34da8db588849943e530726e0d2a11a0cb2b2df3](https://github.com/hyperledger-gerrit-archive/fabric/commit/34da8db588849943e530726e0d2a11a0cb2b2df3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/14/2016, 1:44:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Approved</strong>: 12/14/2016, 11:52:06 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 12/14/2016, 1:15:23 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/14/2016, 7:13:58 PM<br><strong>UnmergedRevision</strong>: [d0f735809306de948a6edb97b2d32fe81a064ab1](https://github.com/hyperledger-gerrit-archive/fabric/commit/d0f735809306de948a6edb97b2d32fe81a064ab1)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/14/2016, 7:18:16 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/marble_example/main/marble_example.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/d0f735809306de948a6edb97b2d32fe81a064ab1/core/ledger/kvledger/marble_example/main/marble_example.go#L103)<br><strong>Comment</strong>: <pre>The for loop below appears to be present at quite a few places (i.e. counting the num of invalid trans). Can we introduce a function in FilterBitArray say `NumSetBits()` which returns the number of bits set...</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/marble_example/main/marble_example.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/d0f735809306de948a6edb97b2d32fe81a064ab1/core/ledger/kvledger/marble_example/main/marble_example.go#L103)<br><strong>Comment</strong>: <pre>I already thought about this, but to make this CR focused I'd like to handle that separately. Will it be ok by you?</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/marble_example/main/marble_example.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/d0f735809306de948a6edb97b2d32fe81a064ab1/core/ledger/kvledger/marble_example/main/marble_example.go#L103)<br><strong>Comment</strong>: <pre>Sure, we can do this later</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/d0f735809306de948a6edb97b2d32fe81a064ab1/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83)<br><strong>Comment</strong>: <pre>Please do not remove this TODO. The intention is that ideally we would match the exact indexes of trans that are marked invalid - not just the counts. The function parameter `invalidTxIndexes` contains the tran's indexes that are expected to be invalid. Do not bother to handle that check in this commit. We would do that separately but let this TODO be there for now.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/d0f735809306de948a6edb97b2d32fe81a064ab1/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/d0f735809306de948a6edb97b2d32fe81a064ab1/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83)<br><strong>Comment</strong>: <pre>I still don't see the TODO in latest patch.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/d0f735809306de948a6edb97b2d32fe81a064ab1/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go#L83)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/15/2016, 6:23:02 AM<br><strong>UnmergedRevision</strong>: [789649eb62809c3f194be0603572fc1319acdef0](https://github.com/hyperledger-gerrit-archive/fabric/commit/789649eb62809c3f194be0603572fc1319acdef0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/15/2016, 6:26:33 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 18</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/15/2016, 6:35:14 AM<br><strong>UnmergedRevision</strong>: [5b2a89c724c1aec417ef3d4903809f4de8f85aa1](https://github.com/hyperledger-gerrit-archive/fabric/commit/5b2a89c724c1aec417ef3d4903809f4de8f85aa1)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/15/2016, 6:39:01 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 19</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/15/2016, 6:45:19 AM<br><strong>UnmergedRevision</strong>: [9992f1215c698c247ff6d294dc98865c1c62ae22](https://github.com/hyperledger-gerrit-archive/fabric/commit/9992f1215c698c247ff6d294dc98865c1c62ae22)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/15/2016, 7:12:52 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 12/15/2016, 7:17:49 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 20</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/15/2016, 7:19:45 AM<br><strong>UnmergedRevision</strong>: [2f286baf3f80d860e1fe5856f7ad54495f53b386](https://github.com/hyperledger-gerrit-archive/fabric/commit/2f286baf3f80d860e1fe5856f7ad54495f53b386)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/15/2016, 7:54:19 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 12/15/2016, 7:21:53 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 21</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 12/15/2016, 7:31:08 AM<br><strong>GitHubMergedRevision</strong>: [79aa4dfb7a9e8903c4207d6627e5c530dc58c7f5](https://github.com/hyperledger-gerrit-archive/fabric/commit/79aa4dfb7a9e8903c4207d6627e5c530dc58c7f5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 12/15/2016, 8:03:14 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Approved</strong>: 12/15/2016, 10:20:36 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Approved</strong>: 12/15/2016, 10:34:32 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Srinivasan Muralidharan<br><strong>Merged</strong>: 12/15/2016, 10:34:33 AM<br><br><strong>Approver</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Approved</strong>: 12/15/2016, 8:33:06 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 12/15/2016, 8:34:20 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>