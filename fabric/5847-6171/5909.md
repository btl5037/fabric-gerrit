<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 5909<br><strong>Subject</strong>: [FAB-1846] Integration between deliver and election<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 2/12/2017, 10:46:16 AM<br><strong>LastUpdated</strong>: 3/1/2017, 1:39:24 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-1846] Integration between deliver and election

Creation of leader election service during channel initialization in gossip
and connecting between election callback to deliver service

Change-Id: Ic2b8b1b5ebc770abcf4b935d39ce06087086b0c9
Signed-off-by: Gennady Laventman <gennady@il.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/12/2017, 10:46:16 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2017, 10:46:24 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6797/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2017, 10:51:40 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6797/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2017, 8:44:10 AM<br><strong>Message</strong>: <pre>Patch Set 1:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2017, 8:47:38 AM<br><strong>Message</strong>: <pre>Patch Set 1: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6830/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2017, 8:52:55 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6830/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2017, 8:30:40 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2017, 8:34:02 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6954/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2017, 8:38:29 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6954/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2017, 5:49:31 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(6 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2017, 8:00:50 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(10 comments)

Hi Gennady.

Please see a few comments below.

Thanks.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2017, 8:01:36 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2017, 8:07:50 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/15/2017, 2:43:43 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/15/2017, 2:50:23 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/15/2017, 4:52:48 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 8:47:40 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(18 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 9:00:37 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/16/2017, 9:03:54 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7056/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/16/2017, 9:55:26 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7056/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 10:06:42 AM<br><strong>Message</strong>: <pre>Patch Set 3:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/16/2017, 10:11:39 AM<br><strong>Message</strong>: <pre>Patch Set 3: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7063/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/16/2017, 11:08:42 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7063/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 11:25:16 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

(6 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 11:26:23 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 11:28:51 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/17/2017, 3:59:52 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2017, 2:31:59 PM<br><strong>Message</strong>: <pre>Patch Set 3: -Code-Review

(6 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2017, 3:29:48 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/18/2017, 3:29:57 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2829/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/18/2017, 3:33:12 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7194/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/18/2017, 4:00:49 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2829/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7194/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2017, 4:01:17 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(5 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2017, 4:10:15 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2017, 4:28:43 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(2 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2017, 4:30:48 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2017, 4:32:28 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/19/2017, 4:21:47 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(7 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/19/2017, 5:48:42 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 5:48:49 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2849/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 5:51:21 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7214/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 6:23:17 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2849/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7214/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/19/2017, 8:20:33 AM<br><strong>Message</strong>: <pre>Patch Set 5:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 8:20:41 AM<br><strong>Message</strong>: <pre>Patch Set 5: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2861/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 8:24:13 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7226/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 9:01:14 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2861/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7226/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/19/2017, 9:11:49 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 9:11:57 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2872/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 9:16:16 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7237/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 9:56:12 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2872/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7237/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/19/2017, 9:56:17 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 9:56:28 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2881/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 10:00:28 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7246/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/19/2017, 11:05:31 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/2881/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7246/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/20/2017, 4:57:11 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/20/2017, 5:01:46 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 5:01:57 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2927/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 5:06:11 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7292/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 6:20:30 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7292/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-z/2927/ : SUCCESS</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/20/2017, 9:54:29 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/20/2017, 9:55:40 AM<br><strong>Message</strong>: <pre>Patch Set 3:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 9:55:50 AM<br><strong>Message</strong>: <pre>Patch Set 3: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2944/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 9:59:15 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7309/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 10:36:28 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2944/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7309/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 3:47:23 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 4:46:39 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 4:46:49 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2985/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 4:51:24 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7350/ (2/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 5:25:17 AM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 6:05:48 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 6:05:55 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2991/ (1/2)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 6:05:58 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 6:07:34 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7356/ (2/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 6:13:51 AM<br><strong>Message</strong>: <pre>Patch Set 11: Patch Set 10 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 6:14:00 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2992/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 6:15:47 AM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7350/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-z/2985/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 6:18:19 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7357/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 7:24:40 AM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/2991/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7356/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 8:01:15 AM<br><strong>Message</strong>: <pre>Patch Set 11: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2992/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7357/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 9:33:28 AM<br><strong>Message</strong>: <pre>Patch Set 11:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 9:33:38 AM<br><strong>Message</strong>: <pre>Patch Set 11: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3002/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 9:35:33 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7367/ (2/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 10:32:05 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review-1

This is a heavy and complex feature.
Putting -1 here, just so no one merges this until Gennady says an end2end test was conducted and was successful :)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 10:36:01 AM<br><strong>Message</strong>: <pre>Patch Set 11: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3002/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7367/ : SUCCESS</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/22/2017, 8:25:55 AM<br><strong>Message</strong>: <pre>Patch Set 11:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/22/2017, 8:43:52 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 8:44:02 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3051/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 8:48:00 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7415/ (2/2)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/22/2017, 8:48:51 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/22/2017, 9:05:21 AM<br><strong>Message</strong>: <pre>Patch Set 13: Patch Set 12 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 9:05:32 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3052/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 9:07:58 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7416/ (2/2)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/22/2017, 10:27:13 AM<br><strong>Message</strong>: <pre>Patch Set 14: Patch Set 13 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 10:27:23 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3058/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 10:29:46 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7422/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 10:42:45 AM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3051/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7415/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 10:46:41 AM<br><strong>Message</strong>: <pre>Patch Set 13: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3052/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7416/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 11:20:00 AM<br><strong>Message</strong>: <pre>Patch Set 14: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7422/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-z/3058/ : SUCCESS</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 2/22/2017, 11:23:27 AM<br><strong>Message</strong>: <pre>Patch Set 14:

> Build Failed
 > 
 > https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7422/ :
 > FAILURE
 > 
 > https://jenkins.hyperledger.org/job/fabric-verify-z/3058/ : SUCCESS

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 11:23:34 AM<br><strong>Message</strong>: <pre>Patch Set 14: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3064/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 11:26:43 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7427/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 1:14:31 PM<br><strong>Message</strong>: <pre>Patch Set 14: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7427/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-z/3064/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 5:53:29 PM<br><strong>Message</strong>: <pre>Patch Set 14: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7466/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 7:48:38 PM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3064/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7466/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/23/2017, 2:22:20 AM<br><strong>Message</strong>: <pre>Patch Set 14:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/23/2017, 2:22:28 AM<br><strong>Message</strong>: <pre>Patch Set 14: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3118/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/23/2017, 2:25:20 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7484/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/23/2017, 4:07:15 AM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3118/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7484/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/23/2017, 9:36:10 AM<br><strong>Message</strong>: <pre>Patch Set 15: Patch Set 14 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/23/2017, 9:36:18 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3144/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/23/2017, 9:40:24 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7510/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/23/2017, 11:34:50 AM<br><strong>Message</strong>: <pre>Patch Set 15: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3144/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7510/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/25/2017, 10:03:21 AM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/25/2017, 10:06:10 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7658/</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/25/2017, 10:43:29 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/25/2017, 11:15:40 AM<br><strong>Message</strong>: <pre>Patch Set 16: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7658/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/27/2017, 3:47:07 AM<br><strong>Message</strong>: <pre>Uploaded patch set 17.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2017, 3:50:53 AM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7749/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2017, 5:30:01 AM<br><strong>Message</strong>: <pre>Patch Set 17: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7749/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/27/2017, 6:09:17 AM<br><strong>Message</strong>: <pre>Patch Set 17:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/28/2017, 3:22:57 AM<br><strong>Message</strong>: <pre>Uploaded patch set 18.</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/28/2017, 3:23:43 AM<br><strong>Message</strong>: <pre>Patch Set 18:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/28/2017, 3:26:58 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7804/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/28/2017, 3:30:14 AM<br><strong>Message</strong>: <pre>Patch Set 18: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7804/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 2/28/2017, 3:31:46 AM<br><strong>Message</strong>: <pre>Uploaded patch set 19.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/28/2017, 3:35:58 AM<br><strong>Message</strong>: <pre>Patch Set 19:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7805/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/28/2017, 4:52:03 AM<br><strong>Message</strong>: <pre>Patch Set 19: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7805/ : SUCCESS</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 2/28/2017, 12:41:10 PM<br><strong>Message</strong>: <pre>Patch Set 19: Code-Review-1

(10 comments)

Many log messages are not at the right level IMO.</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 3:22:54 AM<br><strong>Message</strong>: <pre>Patch Set 19:

(10 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 4:10:23 AM<br><strong>Message</strong>: <pre>Uploaded patch set 20.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 4:13:07 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7858/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 4:15:26 AM<br><strong>Message</strong>: <pre>Patch Set 20: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7858/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 5:57:44 AM<br><strong>Message</strong>: <pre>Uploaded patch set 21.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 6:01:11 AM<br><strong>Message</strong>: <pre>Patch Set 21:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7859/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 6:59:25 AM<br><strong>Message</strong>: <pre>Patch Set 21: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7859/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 7:51:33 AM<br><strong>Message</strong>: <pre>Patch Set 21:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 7:52:43 AM<br><strong>Message</strong>: <pre>Patch Set 21: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7861/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 8:56:36 AM<br><strong>Message</strong>: <pre>Patch Set 21: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7861/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 9:20:47 AM<br><strong>Message</strong>: <pre>Uploaded patch set 22.</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 9:24:17 AM<br><strong>Message</strong>: <pre>Uploaded patch set 23.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 9:25:26 AM<br><strong>Message</strong>: <pre>Patch Set 22:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7866/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 9:28:29 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7867/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 9:31:05 AM<br><strong>Message</strong>: <pre>Patch Set 23: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7867/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 9:35:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 24.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 9:39:48 AM<br><strong>Message</strong>: <pre>Patch Set 24:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7868/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 10:28:49 AM<br><strong>Message</strong>: <pre>Patch Set 22: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7866/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 11:19:01 AM<br><strong>Message</strong>: <pre>Patch Set 24: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7868/ : SUCCESS</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 3/1/2017, 12:04:28 PM<br><strong>Message</strong>: <pre>Patch Set 24: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 3/1/2017, 12:07:50 PM<br><strong>Message</strong>: <pre>Patch Set 24: Code-Review+2

15:57:32 [32munit-tests_1  |[0m ok  	github.com/hyperledger/fabric/gossip/service	106.150s	coverage: 74.1% of statements

We really, really need to lower this running time.
There is no reason for this test not to run in parallel.</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 12:08:05 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 12:12:00 PM<br><strong>Message</strong>: <pre>Patch Set 24:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1234/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/1/2017, 1:39:24 PM<br><strong>Message</strong>: <pre>Patch Set 24:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1234/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/12/2017, 10:46:16 AM<br><strong>UnmergedRevision</strong>: [fcf8330e87dc9add9f2dba82b5ce1bf374757a99](https://github.com/hyperledger-gerrit-archive/fabric/commit/fcf8330e87dc9add9f2dba82b5ce1bf374757a99)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/13/2017, 8:52:55 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/14/2017, 8:30:40 AM<br><strong>UnmergedRevision</strong>: [2aa91b4c5129e08fd101a3da526d76e95b0a29e7](https://github.com/hyperledger-gerrit-archive/fabric/commit/2aa91b4c5129e08fd101a3da526d76e95b0a29e7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/14/2017, 8:38:29 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/14/2017, 8:01:36 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L138](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L138)<br><strong>Comment</strong>: <pre>1) If this is remove now, perhaps remove this from the yaml file?

2) @Artem, what do you think- should we add an override knob to short-circuit the leader election if the user wants?</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L138](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L138)<br><strong>Comment</strong>: <pre>I think this is good idea to have possibility to not execute leader election and provide an ability to statically define the leader.

I easily can see why this is could be good for small demos and some basic test case scenarios.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L42)<br><strong>Comment</strong>: <pre>starts</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L42)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L48)<br><strong>Comment</strong>: <pre>you don't need this parameter to stop the delivery for a channel, just the channel...</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L48)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L137)<br><strong>Comment</strong>: <pre>starts/stops</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L137)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L138](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L138)<br><strong>Comment</strong>: <pre>initializes</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L138](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L138)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L140](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L140)<br><strong>Comment</strong>: <pre>Nice! :)

but perhaps change "to spawn" --> "that spawns"?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L140](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L140)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L143](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L143)<br><strong>Comment</strong>: <pre>These 2 strings are identical, perhaps extract variable?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L143](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L143)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L149](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L149)<br><strong>Comment</strong>: <pre>same + "exist" --> "exists"</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L149](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L149)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L168](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L168)<br><strong>Comment</strong>: <pre>not used (see comment on interface)</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L168](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L168)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L171](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L171)<br><strong>Comment</strong>: <pre>I guess this is a copy paste artifact, you are not joining the channel here, right?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L171](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L171)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L179](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L179)<br><strong>Comment</strong>: <pre>also here- can you extract variable?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L179](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient.go#L179)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient_test.go#L53](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient_test.go#L53)<br><strong>Comment</strong>: <pre>Nice tests!</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient_test.go#L53](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/core/deliverservice/deliveryclient_test.go#L53)<br><strong>Comment</strong>: <pre>Thanks</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service.go#L177)<br><strong>Comment</strong>: <pre>this function returns an election.LeaderElectionService, that spawns a goroutine.
Aren't you supposed to grab the returned object in order to shut it down at some point?

I don't see you connecting it to the stop() method.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service.go#L177)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L79](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L79)<br><strong>Comment</strong>: <pre>Is this a WIP? If yes- please add the WIP tag.
If not- well... this is an empty test :)</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L79](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L79)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L82](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L82)<br><strong>Comment</strong>: <pre>Can you add a comment that describes what this test does?
i.e:
	// Scenario: peers spawn together, and then after a while a network partition occurs
	// and no peer can communicate with another peer
	// Expected outcome 1: each peer is a leader
	// After this, we heal the partition to be a unified view again
	// Expected outcome 2: p0 is the leader once again</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L82](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L82)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L104)<br><strong>Comment</strong>: <pre>Can you please add comments(s) on the indices of the peers that are taken offline, and indices of peers that are expected to take leadership, per channel?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L104)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L180](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L180)<br><strong>Comment</strong>: <pre>Why are you printing the stack trace of all goroutines?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L180](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L180)<br><strong>Comment</strong>: <pre>Removed</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L255](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L255)<br><strong>Comment</strong>: <pre>This function also starts peers *and* adds them to a channel, yet you already have a function (addSomePeersToChannel) that adds peers to channel.
- The name is a bit misleading
- You do not call addSomePeersToChannel here but do it manually. Can you please refactor?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L255](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L255)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L280](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L280)<br><strong>Comment</strong>: <pre>Perhaps move this block into newGossipInstance, and then you won't need a function that returns 3 values?
Maybe I'm missing something, but I don't see why you need this 'newGossipInstance' apart from creating a gossipServiceImpl here.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L280](https://github.com/hyperledger-gerrit-archive/fabric/blob/2aa91b4c5129e08fd101a3da526d76e95b0a29e7/gossip/service/gossip_service_test.go#L280)<br><strong>Comment</strong>: <pre>Historical reason - I copied newGossipInstance from gossip_test.go. Will fix.</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/16/2017, 9:00:37 AM<br><strong>UnmergedRevision</strong>: [9511868a3c31756a8f9c02cce3fbb3f2f6b614ea](https://github.com/hyperledger-gerrit-archive/fabric/commit/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/20/2017, 10:36:28 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Approved</strong>: 2/16/2017, 11:25:16 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L144](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient.go#L144)<br><strong>Comment</strong>: <pre>the stopping is now no longer protected by a lock, and therefore may not see a write that occurred before.
Is this ok?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L144](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient.go#L144)<br><strong>Comment</strong>: <pre>I mean, a write from a different goroutine that is</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L144](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient.go#L144)<br><strong>Comment</strong>: <pre>I protoct it by lock</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient.go#L155)<br><strong>Comment</strong>: <pre>I'm not sure this should be an error, since if peer already has delivery client which brings blocks it's fine, probably need to be a warn about it instead.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient.go#L155)<br><strong>Comment</strong>: <pre>But I don't start delivery here in this case. I prefer to fail here</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L200](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient.go#L200)<br><strong>Comment</strong>: <pre>Don't you need to stop here all clients as well?</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L200](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient.go#L200)<br><strong>Comment</strong>: <pre>My fault, missed next few lines :)</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient_test.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient_test.go#L56)<br><strong>Comment</strong>: <pre>deliver</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient_test.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient_test.go#L56)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient_test.go#L65](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient_test.go#L65)<br><strong>Comment</strong>: <pre>I'd add trial to stop or start delivery for chain once main service is stopped.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient_test.go#L65](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/core/deliverservice/deliveryclient_test.go#L65)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>Can you please add log warning indicating you gonna use leader election?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L185](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/gossip/service/gossip_service.go#L185)<br><strong>Comment</strong>: <pre>Can you please add log warning indicating you are not going to use leader election?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L185](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/gossip/service/gossip_service.go#L185)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [peer/core.yaml#L73](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/peer/core.yaml#L73)<br><strong>Comment</strong>: <pre>So, I would clarify here extensively, that setting this one to true, silences the "orgLeader" property, 
and even go far and in orgLeader comment that it is used only if the "useLeaderElection" is false.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [peer/core.yaml#L73](https://github.com/hyperledger-gerrit-archive/fabric/blob/9511868a3c31756a8f9c02cce3fbb3f2f6b614ea/peer/core.yaml#L73)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/18/2017, 3:29:48 PM<br><strong>UnmergedRevision</strong>: [7bdf0497fee7ba83d40c5d5815b263f0dcddfc10](https://github.com/hyperledger-gerrit-archive/fabric/commit/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/18/2017, 4:00:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>I think that "peer.gossip.useLeaderElection" and "peer.gossip.orgLeader" are mutual exclusive parameters, hence probably consider to panic in case they both set to true, because not clear whenever you need to run leader election or not.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>So he needs to change the peer/core.yaml then ;)</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>I think we discuss that. I even wrote explanation in core.yaml</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>Yes, discussed it. And this is should be mutual exclusive, meaning no one could set both of these to "true". IMO we need to fail with panic here.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>Do you mean real panic or just error message?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>1) Can you use logger.panicf please?
2) Also- the error message isn't optimal IMO - it starts with "Cannot set connection" but the underlying problem is a configuration error, so it should say so.
Please write something that can be easily understood and fixed like:
"Setting both orgLeader and useLeaderElection to true isn't supported, aborting execution"</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L174](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L174)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L175](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L175)<br><strong>Comment</strong>: <pre>uses or "will use"</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L175](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L175)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L184](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L184)<br><strong>Comment</strong>: <pre>1) "uses" or "will use"
2) I'm not sure if to say "static leader mechanism" is the best term here.
What can people that are not you/Artem or me can infer from it?
Perhaps just say that the decision whether to connect to the orderering service will be fetched from the configuration, for example:
"Connection to the ordering service will be based on configuration instead of leader-election"</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L184](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L184)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L186](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L186)<br><strong>Comment</strong>: <pre>This peer is configured to connect to the ordering service</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L186](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L186)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L188](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L188)<br><strong>Comment</strong>: <pre>I think it's worth to log here the 'else' case as well.
i.e: "This peer is configured not to connect to the ordering service", so people won't get surprised if they don't see updates if the peer is the only one in the channel, etc.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L188](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service.go#L188)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L90](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service_test.go#L90)<br><strong>Comment</strong>: <pre>Why "orgLeader" here set to true?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L90](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service_test.go#L90)<br><strong>Comment</strong>: <pre>Its value is irrelevant. I wrote about it in core.yaml</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L238](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service_test.go#L238)<br><strong>Comment</strong>: <pre>Nice test scenario!</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L238](https://github.com/hyperledger-gerrit-archive/fabric/blob/7bdf0497fee7ba83d40c5d5815b263f0dcddfc10/gossip/service/gossip_service_test.go#L238)<br><strong>Comment</strong>: <pre>Thanks</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/19/2017, 5:48:42 AM<br><strong>UnmergedRevision</strong>: [ad7cdbce1c12025ffafba5cb334a533de6125894](https://github.com/hyperledger-gerrit-archive/fabric/commit/ad7cdbce1c12025ffafba5cb334a533de6125894)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/19/2017, 9:01:14 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/19/2017, 9:11:49 AM<br><strong>UnmergedRevision</strong>: [f32e8869e9ecba38df786be04fe729b5f468907f](https://github.com/hyperledger-gerrit-archive/fabric/commit/f32e8869e9ecba38df786be04fe729b5f468907f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/19/2017, 9:56:12 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/19/2017, 9:56:17 AM<br><strong>UnmergedRevision</strong>: [7c5040e464de864ed072c2bdbaec20524b9315ba](https://github.com/hyperledger-gerrit-archive/fabric/commit/7c5040e464de864ed072c2bdbaec20524b9315ba)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/19/2017, 11:05:31 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/20/2017, 5:01:46 AM<br><strong>UnmergedRevision</strong>: [e11849032722f0caf1402280e4cef7868861fb3c](https://github.com/hyperledger-gerrit-archive/fabric/commit/e11849032722f0caf1402280e4cef7868861fb3c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/20/2017, 6:20:30 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/21/2017, 4:46:39 AM<br><strong>UnmergedRevision</strong>: [8082d8fcf3d2bc241e61accb27c142c87312f3ec](https://github.com/hyperledger-gerrit-archive/fabric/commit/8082d8fcf3d2bc241e61accb27c142c87312f3ec)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 6:15:47 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/21/2017, 5:25:17 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/21/2017, 6:05:48 AM<br><strong>UnmergedRevision</strong>: [9aa68960676f6c44c3c3b1d0e83d12e47d9d7d29](https://github.com/hyperledger-gerrit-archive/fabric/commit/9aa68960676f6c44c3c3b1d0e83d12e47d9d7d29)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 7:24:40 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 2/21/2017, 6:13:51 AM<br><strong>UnmergedRevision</strong>: [735524939d73094e2c3328dfa93f88b40a83a506](https://github.com/hyperledger-gerrit-archive/fabric/commit/735524939d73094e2c3328dfa93f88b40a83a506)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 10:36:01 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/21/2017, 10:32:05 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/735524939d73094e2c3328dfa93f88b40a83a506/core/deliverservice/deliveryclient.go#L155)<br><strong>Comment</strong>: <pre>Didn't we agree to not returning an error while block provide already exists and take care to bring new blocks?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/735524939d73094e2c3328dfa93f88b40a83a506/core/deliverservice/deliveryclient.go#L155)<br><strong>Comment</strong>: <pre>I answered that I think error is correct response here and still think so - calling this piece of code twice mean there is something wrong with caller logic.</pre></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/22/2017, 8:43:52 AM<br><strong>UnmergedRevision</strong>: [23bdc0ceb0607d12471f81f04d779d895377dd8a](https://github.com/hyperledger-gerrit-archive/fabric/commit/23bdc0ceb0607d12471f81f04d779d895377dd8a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/22/2017, 10:42:45 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 2/22/2017, 9:05:21 AM<br><strong>UnmergedRevision</strong>: [31a4e6e262728412b320ac74430d54173da5a18f](https://github.com/hyperledger-gerrit-archive/fabric/commit/31a4e6e262728412b320ac74430d54173da5a18f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/22/2017, 10:46:41 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/22/2017, 10:27:13 AM<br><strong>UnmergedRevision</strong>: [c3c6a8682fbc2379a664c79f8cc0bcb8a9841db9](https://github.com/hyperledger-gerrit-archive/fabric/commit/c3c6a8682fbc2379a664c79f8cc0bcb8a9841db9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/23/2017, 4:07:15 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/23/2017, 9:36:10 AM<br><strong>UnmergedRevision</strong>: [264d4eb3e8ac69ddb146bb2c3217912dac3551bf](https://github.com/hyperledger-gerrit-archive/fabric/commit/264d4eb3e8ac69ddb146bb2c3217912dac3551bf)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/23/2017, 11:34:50 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/25/2017, 10:03:21 AM<br><strong>UnmergedRevision</strong>: [ded51681721830b100c0b39461ab02dd78494988](https://github.com/hyperledger-gerrit-archive/fabric/commit/ded51681721830b100c0b39461ab02dd78494988)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/25/2017, 11:15:40 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service_test.go#L98](https://github.com/hyperledger-gerrit-archive/fabric/blob/ded51681721830b100c0b39461ab02dd78494988/gossip/service/gossip_service_test.go#L98)<br><strong>Comment</strong>: <pre>Is it possible to make all the tests here run in parallel? the tests of this package are now running 90 seconds, that's a lot and I'm sure it can be reduced to a few 10s of seconds if they'll run in parallel.</pre></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/27/2017, 3:47:07 AM<br><strong>UnmergedRevision</strong>: [f3ff37be95857d76d40f089a5348fa8e86de1bfd](https://github.com/hyperledger-gerrit-archive/fabric/commit/f3ff37be95857d76d40f089a5348fa8e86de1bfd)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/27/2017, 5:30:01 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L181](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3ff37be95857d76d40f089a5348fa8e86de1bfd/gossip/service/gossip_service.go#L181)<br><strong>Comment</strong>: <pre>Double panic? :)</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L181](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3ff37be95857d76d40f089a5348fa8e86de1bfd/gossip/service/gossip_service.go#L181)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 18</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/28/2017, 3:22:57 AM<br><strong>UnmergedRevision</strong>: [eb8ff0427ddcb4164ff4c17e2cc54f84b452ea0d](https://github.com/hyperledger-gerrit-archive/fabric/commit/eb8ff0427ddcb4164ff4c17e2cc54f84b452ea0d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/28/2017, 3:30:14 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 19</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 2/28/2017, 3:31:46 AM<br><strong>UnmergedRevision</strong>: [1f5bc577746a9ab90d9b9bf09d300bbf97f896a5](https://github.com/hyperledger-gerrit-archive/fabric/commit/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/28/2017, 4:52:03 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Approved</strong>: 2/28/2017, 12:41:10 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L147)<br><strong>Comment</strong>: <pre>This message should include the channel ID</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L147)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L161](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L161)<br><strong>Comment</strong>: <pre>This shouldn't be info -- too many info messages in the log.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L161](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L161)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L177)<br><strong>Comment</strong>: <pre>Include the channel ID in this message</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L177)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L184](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L184)<br><strong>Comment</strong>: <pre>Please change to debug message</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/deliveryclient.go#L184](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/core/deliverservice/deliveryclient.go#L184)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [gossip/election/election.go#L325](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/election/election.go#L325)<br><strong>Comment</strong>: <pre>These should be debug</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/election.go#L325](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/election/election.go#L325)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L170](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L170)<br><strong>Comment</strong>: <pre>Why wouldn't this be an error log?  

Would the peer be able to function from now on? If not, we should panic and exit.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L170](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L170)<br><strong>Comment</strong>: <pre>Peer actually can continue to work after that - it will receive blocks using state synchronization mechanism. It is not very healthy state, but it will still get blocks, etc</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L182](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L182)<br><strong>Comment</strong>: <pre>This should be a debug rather than warning. Warning should be used when an unexpected condition that we have to handle. For debugging, we should log more data to be useful, such as channel ID</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L182](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L182)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L191](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L191)<br><strong>Comment</strong>: <pre>Again, this shouldn't be a warning.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L191](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L191)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L197](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L197)<br><strong>Comment</strong>: <pre>Would the peer somehow fix itself or dead at this point? If forever dead, we should panic here so that monitor system knows.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/service/gossip_service.go#L197](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/gossip/service/gossip_service.go#L197)<br><strong>Comment</strong>: <pre>It is more or less same condition as in line 170.</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [peer/core.yaml#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/peer/core.yaml#L74)<br><strong>Comment</strong>: <pre>This comment doesn't make sense:  "Setting this true", which is "setting useLeaderElection true" ...

Probably you meant to say "Setting this true and orgLeader true cause panic exit"</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [peer/core.yaml#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/1f5bc577746a9ab90d9b9bf09d300bbf97f896a5/peer/core.yaml#L74)<br><strong>Comment</strong>: <pre>You right. This is what I meant</pre></blockquote><h3>PatchSet Number: 20</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 3/1/2017, 4:10:23 AM<br><strong>UnmergedRevision</strong>: [5ba1098f627f0278aa153d7d2557811d30825998](https://github.com/hyperledger-gerrit-archive/fabric/commit/5ba1098f627f0278aa153d7d2557811d30825998)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/1/2017, 4:15:26 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 21</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 3/1/2017, 5:57:44 AM<br><strong>UnmergedRevision</strong>: [bd250183c08db9d49f20f9f36370ab2fd3cbfafc](https://github.com/hyperledger-gerrit-archive/fabric/commit/bd250183c08db9d49f20f9f36370ab2fd3cbfafc)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/1/2017, 8:56:36 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 22</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 3/1/2017, 9:20:47 AM<br><strong>UnmergedRevision</strong>: [c3b9e4d319b17ed0096b2829bb55568734cc9439](https://github.com/hyperledger-gerrit-archive/fabric/commit/c3b9e4d319b17ed0096b2829bb55568734cc9439)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/1/2017, 10:28:49 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 23</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 3/1/2017, 9:24:17 AM<br><strong>UnmergedRevision</strong>: [176a44fe6ce957332b835b09364e97f31a420354](https://github.com/hyperledger-gerrit-archive/fabric/commit/176a44fe6ce957332b835b09364e97f31a420354)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/1/2017, 9:31:05 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 24</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 3/1/2017, 9:35:13 AM<br><strong>GitHubMergedRevision</strong>: [a6edbff3efec4149839c89f5cbc0511146323371](https://github.com/hyperledger-gerrit-archive/fabric/commit/a6edbff3efec4149839c89f5cbc0511146323371)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/1/2017, 11:19:01 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Approved</strong>: 3/1/2017, 12:04:28 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 3/1/2017, 12:07:50 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 3/1/2017, 12:08:05 PM<br><br></blockquote>