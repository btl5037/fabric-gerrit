<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 6017<br><strong>Subject</strong>: Channels - new topic<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 2/14/2017, 11:58:08 AM<br><strong>LastUpdated</strong>: 4/20/2017, 9:16:36 AM<br><strong>CommitMessage</strong>:<br><pre>Channels - new topic

merge conflict fix

Added patch 1 comments.

Requested companion
diagram/graphic for this.
TBA.
Needs review/approval.
[ci skip]

Change-Id: I6e06b268bf6b97c16f2a097579acc90f60ef059c
Signed-off-by: Joshua Horton <joshh@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Reviewed</strong>: 2/14/2017, 11:58:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Reviewed</strong>: 2/14/2017, 11:58:49 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2017, 12:02:16 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6969/</pre><strong>Reviewer</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>Reviewed</strong>: 2/14/2017, 12:47:41 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(7 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2017, 12:58:56 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/6969/ : SUCCESS</pre><strong>Reviewer</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 10:26:43 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(7 comments)</pre><strong>Reviewer</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 11:44:11 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Reviewed</strong>: 2/16/2017, 11:45:22 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/16/2017, 11:48:22 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7069/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/16/2017, 12:45:39 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7069/ : SUCCESS</pre><strong>Reviewer</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Reviewed</strong>: 2/24/2017, 10:04:29 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/24/2017, 10:04:36 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3229/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/24/2017, 10:09:11 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7595/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/24/2017, 11:21:44 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3229/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7595/ : SUCCESS</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 4/20/2017, 9:16:36 AM<br><strong>Message</strong>: <pre>Abandoned

outdated</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Uploader</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Created</strong>: 2/14/2017, 11:58:08 AM<br><strong>UnmergedRevision</strong>: [1e29f35bfedc65a037c6e13167224730cb5089f3](https://github.com/hyperledger-gerrit-archive/fabric/commit/1e29f35bfedc65a037c6e13167224730cb5089f3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/14/2017, 12:58:56 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Approved</strong>: 2/14/2017, 11:58:49 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>Approved</strong>: 2/14/2017, 12:47:41 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/channels.md#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L0)<br><strong>Comment</strong>: <pre>seems close, please address my handful of comments.</pre><strong>Commenter</strong>: Josh Horton - joshh@us.ibm.com<br><strong>CommentLine</strong>: [docs/channels.md#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L0)<br><strong>Comment</strong>: <pre>ok</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/channels.md#L10](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L10)<br><strong>Comment</strong>: <pre>Probably need to note that there is no sole CA.  Each org will have its own CA in all likelihood.  "by its organization's certificate authority."  The org's CA is represented on a channel basis through a local MSP which allows for verification of signatures.</pre><strong>Commenter</strong>: Josh Horton - joshh@us.ibm.com<br><strong>CommentLine</strong>: [docs/channels.md#L10](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L10)<br><strong>Comment</strong>: <pre>Okay they changed "COP" to something like CA-fabric right - where is that piece - synonymous with MSP or CA.

So currently: "Upon joining the network, a peer is assigned an identity certificate and a derivative PKI ID by the membership service provider (MSP), which authenticate each peer to its channel peers and services."</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/channels.md#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L13)<br><strong>Comment</strong>: <pre>this seems unfairly obtuse and I don't think it helps a reader.  Can we provide some details.  What is explicitly passed in when you run the create channel API?</pre><strong>Commenter</strong>: Josh Horton - joshh@us.ibm.com<br><strong>CommentLine</strong>: [docs/channels.md#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L13)<br><strong>Comment</strong>: <pre>Agree. Not sure on the explicit details. 

Currently: "To create a new channel, the client SDK calls configuration system chaincode and references metadata attributes on each target peer. This request creates a
**genesis block** for the channel ledger, which stores configuration information about the channel peers. When adding a member to an existing channel, either this genesis block, or if applicable, a more recent reconfiguration block, is shared with the new peer.

(BTW we should align on "configuration block" (glossary) or "reconfiguration block" - design uses reconfig., presumably because the genesis block is technically a config. block, not a reconfig. block. So "reconfig" sort of differentiates a subsequent change to genesis block.)</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/channels.md#L17](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L17)<br><strong>Comment</strong>: <pre>I think this also merits some more elaboration.  For instance, if an organization is already defined on the channel and a new peer joins, then the genesis block remains the same.  However, if a new Org joins, bringing along a new instance of a local MSP, then that is a channel reconfiguration and the genesis block is superseded by this new config block.</pre><strong>Commenter</strong>: Josh Horton - joshh@us.ibm.com<br><strong>CommentLine</strong>: [docs/channels.md#L17](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L17)<br><strong>Comment</strong>: <pre>OK so adding a new member/org. to the channel is one thing, adding a peer for an existing channel member is another. 

You're saying that adding / subtracting peers for an existing member is not a reconfig. of the channel. Not sure how that would work, b/c channel membership is maintained on each peer - without a reconfig. block, how would the other peers on the channel know that member A just added another peer to the channel. All peers on a channel are aware of each other.

That said, there is a concept of a member having multiple peers attached or linked to the channel peer, for backup/failover ...</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/channels.md#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L26)<br><strong>Comment</strong>: <pre>I don't think this is accurate.  If a peer is a member of two or more channels, it has the ability to query a key on channel A and use that value to factor into logic on channel B.  If you are trying to say something different, I suggest a rephrasing.</pre><strong>Commenter</strong>: Josh Horton - joshh@us.ibm.com<br><strong>CommentLine</strong>: [docs/channels.md#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L26)<br><strong>Comment</strong>: <pre>okay, I had thought zero cross-channel or cross-channel chaincode calling in v1.0. ... Can change "data" to "ledger" but that opens the question that you raise about what can travel cross-channel.</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/channels.md#L27](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L27)<br><strong>Comment</strong>: <pre>maybe "partitioning".</pre><strong>Commenter</strong>: Josh Horton - joshh@us.ibm.com<br><strong>CommentLine</strong>: [docs/channels.md#L27](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L27)<br><strong>Comment</strong>: <pre>the gossip guys didn't like partitioning, suggested separating. perhaps because nodes are partitioned at an OS level.</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/channels.md#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L34)<br><strong>Comment</strong>: <pre>this is a good sentence.</pre><strong>Commenter</strong>: Josh Horton - joshh@us.ibm.com<br><strong>CommentLine</strong>: [docs/channels.md#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/1e29f35bfedc65a037c6e13167224730cb5089f3/docs/channels.md#L34)<br><strong>Comment</strong>: <pre>One comment was to move this to the first sentence, as the most "salient" point, so reader doesn't have to "weed through" to get to it. ... marketing view, vs. the tech view, where a writer does the reverse, working up from the bottom / micro to the  concluding / macro point.</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Uploader</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Created</strong>: 2/16/2017, 11:44:11 AM<br><strong>UnmergedRevision</strong>: [3dd90e51b935957b54b6db9455d7f2a44018df28](https://github.com/hyperledger-gerrit-archive/fabric/commit/3dd90e51b935957b54b6db9455d7f2a44018df28)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/16/2017, 12:45:39 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Approved</strong>: 2/16/2017, 11:45:22 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Uploader</strong>: Josh Horton - joshh@us.ibm.com<br><strong>Created</strong>: 2/24/2017, 10:04:29 AM<br><strong>UnmergedRevision</strong>: [f8768bd58f202785022256dba2b89aefe0187d09](https://github.com/hyperledger-gerrit-archive/fabric/commit/f8768bd58f202785022256dba2b89aefe0187d09)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/24/2017, 11:21:44 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>