<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 10471<br><strong>Subject</strong>: [FAB-4559] Handling Deliver errors<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 6/12/2017, 11:00:55 AM<br><strong>LastUpdated</strong>: 6/14/2017, 4:19:46 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-4559] Handling Deliver errors

Currently peer ignores Deliver errors other than SERVICE_UNAVAILABLE
This change add handle to rest of errors in same way as SERVICE_UNAVAILABLE
status. For BAD_REQUEST and FORBIDDEN  Critical log level msg used and extra
retry mechanism added - more that 10 msgs ot the kind in row will cause
DeliverBlocks to exit.

Change-Id: I47daeca71c169e2fa484a94402b559e2b1981490
Signed-off-by: Gennady Laventman <gennady@il.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/12/2017, 11:00:55 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 11:01:04 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/8971/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 11:03:08 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4837/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 11:03:34 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13321/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 11:03:56 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7369/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/12/2017, 12:06:18 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4837/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4837

https://jenkins.hyperledger.org/job/fabric-verify-z/8971/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/8971

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13321/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13321

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7369/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7369</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 3:59:38 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 3:59:46 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9004/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 4:02:52 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4869/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 4:03:02 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13354/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 4:05:32 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7402/ (4/4)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 4:14:11 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

can you add a test?</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 4:21:32 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 4:48:24 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4869/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4869

https://jenkins.hyperledger.org/job/fabric-verify-z/9004/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9004

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13354/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13354

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7402/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7402</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 9:24:43 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 9:24:52 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9019/ (1/4)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 9:38:34 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 9:38:44 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9021/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 10:39:52 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4884/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 10:40:26 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13369/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 10:40:27 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7417/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:07:32 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9019/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9019

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13369/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13369

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4884/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4884

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7417/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7417</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:18:30 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13371/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:18:30 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4886/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:19:35 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7419/ (4/4)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 11:22:14 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:22:22 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9032/ (1/4)</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 11:52:11 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:52:32 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4897/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:52:34 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13382/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 11:52:37 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7430/ (4/4)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 11:54:31 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 11:55:30 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 12:11:54 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(6 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 12:59:38 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9021/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9021

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4886/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4886

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13371/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13371

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7419/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7419</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 1:23:38 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4897/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4897

https://jenkins.hyperledger.org/job/fabric-verify-z/9032/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9032

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13382/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13382

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7430/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7430</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 5:02:14 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(8 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 5:03:23 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 5:03:30 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9051/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 5:06:30 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4915/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 5:07:22 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13402/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 5:07:25 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7451/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/13/2017, 6:24:10 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7451/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7451

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4915/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4915

https://jenkins.hyperledger.org/job/fabric-verify-z/9051/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9051

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13402/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13402</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 7:51:54 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(2 comments)</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/13/2017, 9:11:15 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 2:37:01 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 2:39:28 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 2:39:34 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9076/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 2:41:08 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4939/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 2:42:39 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13426/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 2:43:23 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7478/ (4/4)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 3:07:53 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(3 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 3:23:40 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(3 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 3:24:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:24:40 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9078/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:26:13 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4941/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:26:57 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13428/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:27:13 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7480/ (4/4)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 3:34:38 AM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:59:17 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9076/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9076

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13426/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13426

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4939/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4939

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7478/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7478</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 4:29:31 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9078/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9078

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13428/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13428

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7480/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7480

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4941/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4941</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 6:32:14 AM<br><strong>Message</strong>: <pre>Patch Set 8:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 6:32:21 AM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9084/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 6:33:50 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4947/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 6:34:21 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13434/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 6:34:56 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7486/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 7:31:47 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9084/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9084

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13434/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13434

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4947/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4947

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7486/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7486</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 8:10:49 AM<br><strong>Message</strong>: <pre>Patch Set 8:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 8:10:55 AM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9087/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 8:12:50 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4949/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 8:13:50 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13437/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 8:14:15 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7488/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 9:19:08 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9087/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9087

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13437/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13437

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7488/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7488

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4949/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4949</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 10:12:27 AM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review+2</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 10:12:43 AM<br><strong>Message</strong>: <pre>Patch Set 8:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:12:53 AM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9097/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:15:06 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4959/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:15:07 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13447/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:15:10 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7498/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:51:14 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9097/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9097

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13447/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13447

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4959/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4959

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7498/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7498</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 10:56:25 AM<br><strong>Message</strong>: <pre>Patch Set 8:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:56:35 AM<br><strong>Message</strong>: <pre>Patch Set 8: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9104/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:58:36 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4966/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 10:59:27 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13454/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 11:02:25 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7506/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 12:19:58 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/9104/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9104

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13454/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13454

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7506/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7506

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4966/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4966</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 12:21:26 PM<br><strong>Message</strong>: <pre>Patch Set 9: Patch Set 8 was rebased</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 12:21:30 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 12:21:33 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9109/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 12:22:59 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4970/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 12:23:55 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7511/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 12:23:55 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13459/ (3/4)</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 12:55:17 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+2</pre><strong>Reviewer</strong>: Xi Xue Jia - xixuejia@gmail.com<br><strong>Reviewed</strong>: 6/14/2017, 1:33:49 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 2:03:34 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4970/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4970

https://jenkins.hyperledger.org/job/fabric-verify-z/9109/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9109

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13459/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13459

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7511/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7511</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/14/2017, 2:13:11 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Let's not rev*rify on this.  Pinging Ramesh to re-run just the e2e.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 2:18:32 PM<br><strong>Message</strong>: <pre>Patch Set 9: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4976/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 2:45:34 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/9109/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9109

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13459/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/13459

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7511/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/7511

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4976/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/4976</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:03:33 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:03:41 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-z/1639/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:05:11 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/807/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:05:43 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/1116/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 3:05:56 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/2126/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/14/2017, 4:19:46 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/1116/ : FAILURE

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-merge-behave-x86_64/1116

https://jenkins.hyperledger.org/job/fabric-merge-z/1639/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-merge-z/1639

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/807/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-merge-end-2-end-x86_64/807

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/2126/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-merge-x86_64/2126</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/12/2017, 11:00:55 AM<br><strong>UnmergedRevision</strong>: [415a201ee9ab4545eba2bb63e91e6df6f81250f5](https://github.com/hyperledger-gerrit-archive/fabric/commit/415a201ee9ab4545eba2bb63e91e6df6f81250f5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/12/2017, 12:06:18 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/13/2017, 3:59:38 AM<br><strong>UnmergedRevision</strong>: [752d218960107dabb39d4d34db989e37806fec9a](https://github.com/hyperledger-gerrit-archive/fabric/commit/752d218960107dabb39d4d34db989e37806fec9a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/13/2017, 4:48:24 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 6/13/2017, 4:14:11 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L133](https://github.com/hyperledger-gerrit-archive/fabric/blob/752d218960107dabb39d4d34db989e37806fec9a/core/deliverservice/blocksprovider/blocksprovider.go#L133)<br><strong>Comment</strong>: <pre>why is this critical ? this isn't critical. 
Should be error IMO</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/13/2017, 9:24:43 AM<br><strong>UnmergedRevision</strong>: [f80dd57a4855d417b34638e4d4deb16befafb367](https://github.com/hyperledger-gerrit-archive/fabric/commit/f80dd57a4855d417b34638e4d4deb16befafb367)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/13/2017, 11:07:32 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/13/2017, 9:38:34 AM<br><strong>UnmergedRevision</strong>: [8dab8288e3b960d94c505f391d85da73a7e047a3](https://github.com/hyperledger-gerrit-archive/fabric/commit/8dab8288e3b960d94c505f391d85da73a7e047a3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/13/2017, 12:59:38 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/13/2017, 11:22:14 AM<br><strong>UnmergedRevision</strong>: [b68221463b293c8a5235a8983171fca0de2e3b9f](https://github.com/hyperledger-gerrit-archive/fabric/commit/b68221463b293c8a5235a8983171fca0de2e3b9f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/13/2017, 1:23:38 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 6/13/2017, 11:54:31 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L115](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L115)<br><strong>Comment</strong>: <pre>since this is production code, can you please extract this into a constant?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L115](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L115)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L137)<br><strong>Comment</strong>: <pre>This might be worth backing down to Error? Especially as we get a critical once the retry stops?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L137)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>I think it's worth to try and add a time.Sleep when you get either a FORBIDDEN or a bad request error inside the if.

Otherwise you're assaulting the ordering service with retries.

Also I think that in the case of SERVICE_UNAVAILABLE maybe it's also worth to put a time.Sleep because otherwise you'll try to reconnect to ordering service nodes while they are unable to communicate with kafka, and this would only waste resources for them.

Therefore I think it's worth to put a time.Sleep 1 line above the b.client.Disconnect()

@jyellic what do you think?</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>+1 to this</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>Also maybe it's worth to have the sleep time be something like:
math.Min(time.Second * 30, math.Pow(2, errCounter) * 500 * time.Millisecond) and have errCounter incremented in any case (also for UNAVAILABLE)?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>Do you mean all 5 problematic statuses? BWT, this cause to tests run really slow...</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>We have 5 statuses to take care of. This discussion cover only 3 - FORBIDDEN, BAD_REQUEST, SERVICE_UNAVAILABLE. What about rest? Should we put sleep for all statuses?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>good question. I think that since you take care of the UNAVAILABLE only implicitly it's OK.
Also - what other statuses are there? perhaps you can check with Jason on when they manifest.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>so if this makes the test slow maybe you can use an initial time as a seed and it can be overridden in the tests?</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L147)<br><strong>Comment</strong>: <pre>The only other status I would currently expect is NOT_FOUND.  This is would be an odd error condition, as if the correct flow is followed, the genesis block was retrieved via the orderer, but it could still occur in a race scenario with multiple orderers.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L177)<br><strong>Comment</strong>: <pre>What is the value in setting this counter to 0 here, it's local and we return in 2 statements?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L177](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider.go#L177)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider_test.go#L307](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider_test.go#L307)<br><strong>Comment</strong>: <pre>so this function just waits until the incomingMsgs channel is empty, right?
but why not simply create the incomingMsgs channel to be a non-buffered channel? then you will not progress until the MockRecv has slurped all of the msgs.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider_test.go#L307](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider_test.go#L307)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider_test.go#L309](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider_test.go#L309)<br><strong>Comment</strong>: <pre>Isn't this prone to race conditions?
Imaging the goroutine that calls Recv has taken the last item from the channel, and then the thread is preempted to run this assert, but the former goroutine that processes the message hasn't called the Disconnect yet?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider_test.go#L309](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider_test.go#L309)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider_test.go#L329](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider_test.go#L329)<br><strong>Comment</strong>: <pre>same</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider_test.go#L329](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider_test.go#L329)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider_test.go#L337](https://github.com/hyperledger-gerrit-archive/fabric/blob/b68221463b293c8a5235a8983171fca0de2e3b9f/core/deliverservice/blocksprovider/blocksprovider_test.go#L337)<br><strong>Comment</strong>: <pre>why not make a for loop that simply when i is 8 - it sends SERVICE_UNAVAILABLE and the rest it randomly sends either BAD_REQUEST or FORBIDDEN ? 

Also please can you add comments to explain that you're actually trying to nullify the counter? (I assume you are)
It's not clear from the test.</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/13/2017, 5:03:23 PM<br><strong>UnmergedRevision</strong>: [9173587ed60cb88ec30aa54dce3550d557bf86a1](https://github.com/hyperledger-gerrit-archive/fabric/commit/9173587ed60cb88ec30aa54dce3550d557bf86a1)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/13/2017, 6:24:10 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L28](https://github.com/hyperledger-gerrit-archive/fabric/blob/9173587ed60cb88ec30aa54dce3550d557bf86a1/core/deliverservice/blocksprovider/blocksprovider.go#L28)<br><strong>Comment</strong>: <pre>can you please fix the imports?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L28](https://github.com/hyperledger-gerrit-archive/fabric/blob/9173587ed60cb88ec30aa54dce3550d557bf86a1/core/deliverservice/blocksprovider/blocksprovider.go#L28)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/9173587ed60cb88ec30aa54dce3550d557bf86a1/core/deliverservice/blocksprovider/blocksprovider.go#L155)<br><strong>Comment</strong>: <pre>I will leave it as it is, for all statuses</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/9173587ed60cb88ec30aa54dce3550d557bf86a1/core/deliverservice/blocksprovider/blocksprovider.go#L155)<br><strong>Comment</strong>: <pre>how about extracting this into a constant? like minWaitTime or something?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/9173587ed60cb88ec30aa54dce3550d557bf86a1/core/deliverservice/blocksprovider/blocksprovider.go#L155)<br><strong>Comment</strong>: <pre>can you please extract variables? this line is really long.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/9173587ed60cb88ec30aa54dce3550d557bf86a1/core/deliverservice/blocksprovider/blocksprovider.go#L155)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [core/deliverservice/blocksprovider/blocksprovider.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/9173587ed60cb88ec30aa54dce3550d557bf86a1/core/deliverservice/blocksprovider/blocksprovider.go#L155)<br><strong>Comment</strong>: <pre>Already did, in last cs</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/14/2017, 2:39:28 AM<br><strong>UnmergedRevision</strong>: [924ba78ca98c37c1fc9e8f527e9e26750d67c6d5](https://github.com/hyperledger-gerrit-archive/fabric/commit/924ba78ca98c37c1fc9e8f527e9e26750d67c6d5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/14/2017, 3:59:17 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 6/14/2017, 3:24:32 AM<br><strong>UnmergedRevision</strong>: [c53a1bdfd05604c93cdd12918e4825d2ed862865](https://github.com/hyperledger-gerrit-archive/fabric/commit/c53a1bdfd05604c93cdd12918e4825d2ed862865)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/14/2017, 12:19:58 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 6/14/2017, 10:12:27 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 6/14/2017, 3:34:38 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 6/14/2017, 12:21:26 PM<br><strong>GitHubMergedRevision</strong>: [1785d261ecb27cb11ff9121d0fd7e371001632a8](https://github.com/hyperledger-gerrit-archive/fabric/commit/1785d261ecb27cb11ff9121d0fd7e371001632a8)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/14/2017, 2:45:34 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 6/14/2017, 12:55:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 6/14/2017, 12:21:30 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 6/14/2017, 3:03:32 PM<br><br><strong>Approver</strong>: Xi Xue Jia - xixuejia@gmail.com<br><strong>Approved</strong>: 6/14/2017, 1:33:49 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>