<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 10067<br><strong>Subject</strong>: [FAB-4321] Transaction Flow Fix<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 6/2/2017, 5:35:19 AM<br><strong>LastUpdated</strong>: 5/21/2019, 10:47:23 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-4321] Transaction Flow Fix

This change-set fixes the parts of the document
that do not reflect the current way fabric works.

Change-Id: I9eb3c40ff0ae78cc11376008449a1a98049d3865
Signed-off-by: Angelo De Caro <adc@zurich.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 6/2/2017, 5:35:19 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 5:35:26 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/8276/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 5:37:32 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4150/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 5:37:54 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12626/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 5:38:51 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/6678/ (4/4)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/2/2017, 5:56:48 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/2/2017, 5:56:52 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1</pre><strong>Reviewer</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>Reviewed</strong>: 6/2/2017, 6:30:28 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(4 comments)

added a few notes that will make it read better IMO;  thank you Angelo, nicely done</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 6:33:59 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/8276/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4150/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12626/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/6678/ : SUCCESS</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 6/2/2017, 6:41:31 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 6/2/2017, 7:13:18 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 7:13:27 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/8281/ (1/4)</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 6/2/2017, 7:14:00 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(5 comments)

Thanks for the comments. I have updated the CR :)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 7:16:10 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4155/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 7:16:17 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12631/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 7:17:37 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/6683/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 9:24:05 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/8281/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/4155/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12631/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/6683/ : SUCCESS</pre><strong>Reviewer</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>Reviewed</strong>: 6/2/2017, 9:52:52 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+1

thumbs up</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 6/2/2017, 10:15:59 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 6/2/2017, 10:21:20 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 10:21:25 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 10:21:36 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-z/1471/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 10:23:24 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/640/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 10:23:56 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1960/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 10:24:32 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/950/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/2/2017, 11:28:35 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/640/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-merge-z/1471/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1960/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/950/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Uploader</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Created</strong>: 6/2/2017, 5:35:19 AM<br><strong>UnmergedRevision</strong>: [895384f3534e6e29c38d42e11ae2d133caf0e5b5](https://github.com/hyperledger-gerrit-archive/fabric/commit/895384f3534e6e29c38d42e11ae2d133caf0e5b5)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 6/2/2017, 6:41:31 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/2/2017, 6:33:59 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 6/2/2017, 5:56:48 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 6/2/2017, 5:56:52 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L46](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L46)<br><strong>Comment</strong>: <pre>please use 1, 2 and 3 instead of i, ii, and iii, etc. Also the phrasing is awkward. Please use:

The endorsing peers ensure that transaction proposals satisfy the channel's "writing policy". This means that the endorsing peer will verify that the transaction proposal is 1) well formed, 2)  has not been previously submitted, 3) has a valid signature, and 4) has been submitter by a an identity that is properly authorized to perform the proposed operation on that channel.</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L46](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L46)<br><strong>Comment</strong>: <pre>Sorry I was misleading here. Writing should have been Writers policy. Where Writers is the name of the policy. I will anyway use the numbers.</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L51](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L51)<br><strong>Comment</strong>: <pre>the submitter</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L51](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L51)<br><strong>Comment</strong>: <pre>Will do.</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L53](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L53)<br><strong>Comment</strong>: <pre>something here doesn't read quite right.

..to the chaincode that is then executed against...</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L53](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L53)<br><strong>Comment</strong>: <pre>the proposal arguments (actually we call them imputs) are used as arguments to the function exposed by the chaincode. The chiancode, in addition, runs against the current state database. I will rephrase a bit.</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L60](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L60)<br><strong>Comment</strong>: <pre>peer component that</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L60](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L60)<br><strong>Comment</strong>: <pre>Will do</pre><strong>Commenter</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L85](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L85)<br><strong>Comment</strong>: <pre>entire content of a transaction in order....</pre><strong>Commenter</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>CommentLine</strong>: [docs/source/txflow.rst#L85](https://github.com/hyperledger-gerrit-archive/fabric/blob/895384f3534e6e29c38d42e11ae2d133caf0e5b5/docs/source/txflow.rst#L85)<br><strong>Comment</strong>: <pre>Will do</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Uploader</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Created</strong>: 6/2/2017, 7:13:18 AM<br><strong>GitHubMergedRevision</strong>: [a8658230a8e17fded26976319cfd93a053f16e65](https://github.com/hyperledger-gerrit-archive/fabric/commit/a8658230a8e17fded26976319cfd93a053f16e65)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 6/2/2017, 10:15:59 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/2/2017, 9:24:05 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 6/2/2017, 10:21:20 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 6/2/2017, 10:21:25 AM<br><br><strong>Approver</strong>: Nick Gaski - nickgaski@gmail.com<br><strong>Approved</strong>: 6/2/2017, 9:52:52 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>