<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 8059<br><strong>Subject</strong>: [FAB-2982] Add timeout option to peer channel cmd<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 4/14/2017, 8:27:02 PM<br><strong>LastUpdated</strong>: 5/12/2017, 1:44:41 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-2982] Add timeout option to peer channel cmd

These patches add timeout option to "peer channel create" and
"peer channel fetchconfig".

This bug(FAB-2982) happens because peer tries to get the genesis block
before orderer start its channel. Since the execution time of channel
initialization depends on the environment, users should control the
procedure of channel creation with "-t" option.

Change-Id: Ia3f2295b88ec04e517c4cfd21b36fe3309d48247
Signed-off-by: Nao Nishijima <Nao.nishijima@hal.hitachi.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/14/2017, 8:27:02 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 8:28:55 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3661/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 8:29:15 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9592/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 8:29:46 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1128/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 9:39:28 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3661/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9592/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1128/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/14/2017, 10:11:40 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 10:13:00 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3663/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 10:13:59 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9594/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 10:14:48 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1130/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/14/2017, 11:40:18 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3663/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9594/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1130/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/15/2017, 2:04:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2017, 2:05:32 AM<br><strong>Message</strong>: <pre>Patch Set 3: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3667/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2017, 2:06:04 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9598/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2017, 2:06:36 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1134/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2017, 3:18:53 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3667/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9598/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1134/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 4/15/2017, 3:23:34 AM<br><strong>Message</strong>: <pre>Patch Set 3:

I understand the reasoning behind the change set, but- this:
1) Only fixes this for the e2e
2) Adds another step for channel creation for anyone that wants to use the CLI.

Wouldn't it be a better solution to do time-based polling with the peer CLI (in peer/channel/create.go)?
For example- after the channel creation request has been sent, do a loop that calls repeatedly Deliver in an attempt to fetch the block, until a timeout has been reached.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 4/15/2017, 3:58:49 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/17/2017, 1:21:29 PM<br><strong>Message</strong>: <pre>Patch Set 3:

> I understand the reasoning behind the change set, but- this:
 > 1) Only fixes this for the e2e
 > 2) Adds another step for channel creation for anyone that wants to
 > use the CLI.
 > 
 > Wouldn't it be a better solution to do time-based polling with the
 > peer CLI (in peer/channel/create.go)?
 > For example- after the channel creation request has been sent, do a
 > loop that calls repeatedly Deliver in an attempt to fetch the
 > block, until a timeout has been reached.

 > I understand the reasoning behind the change set, but- this:
 > 1) Only fixes this for the e2e
 > 2) Adds another step for channel creation for anyone that wants to
 > use the CLI.
 > 
 > Wouldn't it be a better solution to do time-based polling with the
 > peer CLI (in peer/channel/create.go)?
 > For example- after the channel creation request has been sent, do a
 > loop that calls repeatedly Deliver in an attempt to fetch the
 > block, until a timeout has been reached.

Thank you for replay. I think 

 > I understand the reasoning behind the change set, but- this:
 > 1) Only fixes this for the e2e
 > 2) Adds another step for channel creation for anyone that wants to
 > use the CLI.
 > 
 > Wouldn't it be a better solution to do time-based polling with the
 > peer CLI (in peer/channel/create.go)?
 > For example- after the channel creation request has been sent, do a
 > loop that calls repeatedly Deliver in an attempt to fetch the
 > block, until a timeout has been reached.

I tried to implement the loop processing like below. But it was failed in 2nd loop.
Error message is "Error receiving: EOF" in readBlock()
'''
InitCmdFactory()
sendCreateChainTransaction()
[loop processing]
  cf.DeliverClient.getBlock()
  time.Sleep()
'''

But If I included InitCmdFactory in a loop. it was the success.
'''
InitCmdFactory()
sendCreateChainTransaction()
[loop processing]
  InitCmdFactory()
  cf.DeliverClient.getBlock()
  time.Sleep()
'''
Is my understanding correct about loop processing?</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 4/17/2017, 1:35:45 PM<br><strong>Message</strong>: <pre>Patch Set 3:

I assume that the ordering service maybe disconnects you or something. I didn't take a look too deep. Can you try and see if that's the case?</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/17/2017, 1:39:37 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Thanks. I'll give it a try.</pre><strong>Reviewer</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Reviewed</strong>: 4/18/2017, 9:46:16 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

We have also seen this problem regularly, using CLI commands. I agree the original proposed solution is not good, since it would impact many existing testcase scripts. And actually, the existing code has a 2 second delay before the Deliver is called. A better solution is to handle this internally in create.go: to wait until the first block is delivered so executeCreate() can return without error. Do not return any pass/fail result until you know the actual result. It is WRONG to return an error if in fact the "oeer channel create" (eventually) succeeds.</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/18/2017, 10:08:11 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Thank you for review.
I understood that the proposed solution affects many codes.
Now I am creating new patches based on advice.
In order to wait until the block is passed, it is necessary to change the orderer side as well.</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/20/2017, 3:50:41 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 3:52:17 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3971/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 3:52:54 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9903/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 3:53:05 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1438/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/20/2017, 4:58:39 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/3971/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9903/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1438/ : SUCCESS</pre><strong>Reviewer</strong>: Zhang ZongYing - zhzy@live.cn<br><strong>Reviewed</strong>: 4/20/2017, 11:06:46 PM<br><strong>Message</strong>: <pre>Patch Set 4:

For Patch 4.
I think this will also add a waiting time for channel fetch. And it does not CloseSend at client side. Server side actually should watch err == io.EOF, as this means the end of this call instead of a warning log.</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/21/2017, 3:55:46 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Right. This patches will effects channel fetch. I will revise the comment. And I will add err == io.EOF in Server.
I think DeliverClient didn't have grpc connection. If close the channel by clients, we need to remake peer/channel. Is my understanding correct?</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/21/2017, 4:40:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 5:14:34 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4106/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 5:14:54 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10038/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 5:14:59 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1573/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 5:40:16 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4106/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10038/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1573/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/21/2017, 10:15:36 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6: Commit message was updated.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 10:26:49 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(3 comments)

I'd say this makes sense. 
1) A few bits below
2) Have you tested it with running manually the e2e_cli ? 
3) Have you tested how the change in orderer/common/deliver/deliver.go effects the peer's deliveryService? https://github.com/hyperledger/fabric/tree/master/core/deliverservice</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 12:14:54 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4159/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 12:15:40 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10092/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 12:15:49 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1626/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 12:45:59 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4159/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10092/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1626/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/21/2017, 1:02:30 PM<br><strong>Message</strong>: <pre>Patch Set 6:

> 1) A few bits below
Thank. I will do that.
 > 2) Have you tested it with running manually the e2e_cli ?
Yes. I had tested manually e2e_cli using solo and kafka orderer.

 > 3) Have you tested how the change in orderer/common/deliver/deliver.go
 > effects the peer's deliveryService? https://github.com/hyperledger/fabric/tree/master/core/deliverservice
Yes. I had tested behave.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 4/21/2017, 1:03:11 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(2 comments)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/21/2017, 1:31:08 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 3:46:12 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4187/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 3:54:18 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10120/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 3:54:25 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1655/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/21/2017, 4:26:08 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4187/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10120/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1655/ : SUCCESS</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/22/2017, 3:55:03 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2017, 3:56:58 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4247/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2017, 3:57:13 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10181/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2017, 3:58:18 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1714/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2017, 5:01:21 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4247/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1714/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10181/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 4/22/2017, 5:50:18 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 4/22/2017, 10:30:08 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(1 comment)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/23/2017, 3:09:57 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/23/2017, 3:10:56 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4314/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/23/2017, 3:11:38 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10248/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/23/2017, 3:12:48 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1781/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/23/2017, 3:45:26 AM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4314/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10248/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/1781/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 4/23/2017, 5:43:26 AM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 4/23/2017, 12:47:24 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review-1

agree with Yacov - also see my earlier comment on a cleaner way to do this (I think)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/23/2017, 2:01:52 PM<br><strong>Message</strong>: <pre>Patch Set 9:

(5 comments)

Correct me if I'm wrong. In my understand, If the client gets the NOT_FOUND from orderer service, the connection between client and orderer service will be stopped. So the client needs to create the connection using grpc.Dial().</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/26/2017, 4:31:53 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 5:56:57 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4695/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 6:06:02 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2162/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 6:06:06 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10617/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/26/2017, 6:25:26 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4695/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2162/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10617/ : FAILURE</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/27/2017, 5:44:37 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 4/27/2017, 6:07:00 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2017, 9:34:56 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2179/ (1/3)</pre><strong>Reviewer</strong>: Ry Jones - ry@linux.com<br><strong>Reviewed</strong>: 4/27/2017, 1:48:33 PM<br><strong>Message</strong>: <pre>Patch Set 12:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2017, 1:58:20 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10668/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2017, 1:58:20 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4729/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2017, 1:58:27 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2196/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2017, 3:17:12 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/4729/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2196/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10668/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 4/28/2017, 5:34:31 PM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review-1

(4 comments)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/4/2017, 2:36:50 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 3:03:12 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2685/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 3:09:26 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11155/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 3:10:02 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5214/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 3:31:13 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2685/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11155/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5214/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/4/2017, 3:43:43 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review-1

(2 comments)

Hi Nao.

See 2 comments below.

Thanks.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/4/2017, 3:44:02 PM<br><strong>Message</strong>: <pre>Patch Set 13:

(1 comment)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/4/2017, 8:01:20 PM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 8:05:16 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11170/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 8:05:38 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5229/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 8:06:35 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2699/ (1/3)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/4/2017, 8:15:06 PM<br><strong>Message</strong>: <pre>Patch Set 14:

(2 comments)

> Uploaded patch set 14.
This patch set is simple, but somewhat redundant. We rebuild the cf object using initCmdFactory to reconnect with orderer service. it is better to split the initCmdFactory into instantiate and connection, and do the following?:

select {                                                                                  
case <-timer.C:
        cf.DeliverClient.Close()
        return fmt.Errorf("timeout waiting for channel creation")
default:
        if block, err = cf.DeliverClient.getBlock(); err != nil {
                cf.DeliverClient.Close()
                time.Sleep(200 * time.Millisecond)
                cf.DeliverClient.Open()
        } else {
                break
        }
}  

This method also affects other commands. I think that it would be better to close the bug using this patch and create a new ticket of refactoring. 
Any comment?</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/4/2017, 9:43:10 PM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2699/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5229/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11170/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/5/2017, 4:04:16 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/5/2017, 4:05:48 AM<br><strong>Message</strong>: <pre>Patch Set 14:

(1 comment)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/5/2017, 3:03:32 PM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/5/2017, 3:05:57 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2747/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/5/2017, 3:06:20 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11218/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/5/2017, 3:08:10 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5277/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/5/2017, 4:31:27 PM<br><strong>Message</strong>: <pre>Patch Set 15: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2747/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5277/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11218/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/5/2017, 4:58:46 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Hi Nao.

1) Great job, the logic in the deliverclient.go looks perfect.
2) I ran the create_test.go with code coverage and unfortunately I see that the current tests, don't exercise the timeout you added, and also not the case where cf.DeliverClient.getBlock() returns an error and you re-try.
Do you think you'll be able to add such a test?

Regards, Yacov.</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/5/2017, 7:08:21 PM<br><strong>Message</strong>: <pre>Patch Set 15:

(1 comment)

Thank you for review.
 > Do you think you'll be able to add such a test?
I want to give it a try.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/6/2017, 6:26:00 AM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review-1

All right, I'll -1 this so maintainers would know not to merge and wait for your test.

Thanks!</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/10/2017, 4:00:36 AM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/10/2017, 4:02:02 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5439/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/10/2017, 4:02:29 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11380/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/10/2017, 4:03:04 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2910/ (3/3)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/10/2017, 4:20:21 AM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/10/2017, 5:05:01 AM<br><strong>Message</strong>: <pre>Patch Set 16: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2910/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5439/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11380/ : SUCCESS</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/10/2017, 6:57:53 PM<br><strong>Message</strong>: <pre>Patch Set 16:

(3 comments)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/11/2017, 10:22:09 AM<br><strong>Message</strong>: <pre>Uploaded patch set 17.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 10:24:45 AM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5516/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 10:25:16 AM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11456/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 10:25:29 AM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2986/ (3/3)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/11/2017, 10:45:08 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(1 comment)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/11/2017, 10:55:52 AM<br><strong>Message</strong>: <pre>Patch Set 17:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/11/2017, 11:35:40 AM<br><strong>Message</strong>: <pre>Patch Set 16:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 12:16:14 PM<br><strong>Message</strong>: <pre>Patch Set 17: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11456/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/2986/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5516/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 2:14:47 PM<br><strong>Message</strong>: <pre>Patch Set 17: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5545/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 2:20:28 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/7135/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 2:34:15 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11484/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 2:34:54 PM<br><strong>Message</strong>: <pre>Patch Set 17:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/3014/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 3:48:58 PM<br><strong>Message</strong>: <pre>Patch Set 17: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/3014/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5545/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11484/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-z/7135/ : SUCCESS</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/11/2017, 5:18:55 PM<br><strong>Message</strong>: <pre>Uploaded patch set 18.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 5:19:05 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/7154/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 5:21:12 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5564/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 5:22:46 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/3033/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 5:22:46 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11503/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 7:03:54 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/7160/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 7:08:45 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5570/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 7:08:48 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/3039/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 8:14:01 PM<br><strong>Message</strong>: <pre>Patch Set 18: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/3039/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-z/7160/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/5570/ : SUCCESS</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 5/11/2017, 8:39:59 PM<br><strong>Message</strong>: <pre>Patch Set 18: Code-Review+2

Thanks for this, Nao!</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/11/2017, 11:54:25 PM<br><strong>Message</strong>: <pre>Patch Set 18: Code-Review+2

(1 comment)</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 11:54:31 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 11:54:39 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-z/1162/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 11:55:57 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1803/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 11:56:35 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/485/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/11/2017, 11:57:18 PM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/798/ (4/4)</pre><strong>Reviewer</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Reviewed</strong>: 5/12/2017, 12:14:48 AM<br><strong>Message</strong>: <pre>Patch Set 18:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/12/2017, 1:44:41 AM<br><strong>Message</strong>: <pre>Patch Set 18:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/485/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1803/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-merge-behave-x86_64/798/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-merge-z/1162/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492216022<br><strong>GitHubRevision</strong>: [016ef77fd54fb5a4a187a966451e2e69a7f24daa](https://github.com/hyperledger/fabric/commit/016ef77fd54fb5a4a187a966451e2e69a7f24daa)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/14/2017, 9:39:28 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492222300<br><strong>GitHubRevision</strong>: [be645bb5a3b44d3a4727bd99f256fa5907508790](https://github.com/hyperledger/fabric/commit/be645bb5a3b44d3a4727bd99f256fa5907508790)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/14/2017, 11:40:18 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492236248<br><strong>GitHubRevision</strong>: [cf13eb9eaabdfdc850ec54104f963f70a4456f8c](https://github.com/hyperledger/fabric/commit/cf13eb9eaabdfdc850ec54104f963f70a4456f8c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/15/2017, 3:18:53 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 4/15/2017, 3:58:49 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Scott Zwierzynski - scottz@us.ibm.com<br><strong>Approved</strong>: 4/18/2017, 9:46:16 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492674641<br><strong>GitHubRevision</strong>: [191fd205ade96ad4583e832de47da49ff0f8c286](https://github.com/hyperledger/fabric/commit/191fd205ade96ad4583e832de47da49ff0f8c286)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/20/2017, 4:58:39 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492764025<br><strong>GitHubRevision</strong>: [dd1ec89859137dc603ec90c055e5d12b4bf89ecf](https://github.com/hyperledger/fabric/commit/dd1ec89859137dc603ec90c055e5d12b4bf89ecf)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/21/2017, 5:40:16 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492784136<br><strong>GitHubRevision</strong>: [9609296c1d7e14589a464dcac7902e31d1c6dcbf](https://github.com/hyperledger/fabric/commit/9609296c1d7e14589a464dcac7902e31d1c6dcbf)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/21/2017, 12:45:59 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492795868<br><strong>GitHubRevision</strong>: [5f296b55947c205a9acecbd809aee916b8bf7658](https://github.com/hyperledger/fabric/commit/5f296b55947c205a9acecbd809aee916b8bf7658)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/21/2017, 4:26:08 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492847703<br><strong>GitHubRevision</strong>: [a5230931d9e4cc2329ecadb0ff4b9d37f2a80d9a](https://github.com/hyperledger/fabric/commit/a5230931d9e4cc2329ecadb0ff4b9d37f2a80d9a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/22/2017, 5:01:21 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1492931397<br><strong>GitHubRevision</strong>: [9b4aa1b0312f281a54358ea3407ce0f03b3f873c](https://github.com/hyperledger/fabric/commit/9b4aa1b0312f281a54358ea3407ce0f03b3f873c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/23/2017, 3:45:26 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 4/23/2017, 5:43:26 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 4/23/2017, 12:47:24 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1493238713<br><strong>GitHubRevision</strong>: [4d7c39d784354727ce5eb26df4d2427a442a1198](https://github.com/hyperledger/fabric/commit/4d7c39d784354727ce5eb26df4d2427a442a1198)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/26/2017, 6:25:26 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1493286277<br><strong>GitHubRevision</strong>: [02444b0aa854d95c86208a2c32df5bf1d739ecad](https://github.com/hyperledger/fabric/commit/02444b0aa854d95c86208a2c32df5bf1d739ecad)<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1493287620<br><strong>GitHubRevision</strong>: [6bf5584dee9148fde85bdd55d43aa37972b7e758](https://github.com/hyperledger/fabric/commit/6bf5584dee9148fde85bdd55d43aa37972b7e758)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/27/2017, 3:17:12 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 4/28/2017, 5:34:31 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1493923010<br><strong>GitHubRevision</strong>: [a4b568c4f524027d85ce7104fe2b7e50a17002c8](https://github.com/hyperledger/fabric/commit/a4b568c4f524027d85ce7104fe2b7e50a17002c8)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/4/2017, 3:31:13 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 5/4/2017, 3:43:43 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1493942480<br><strong>GitHubRevision</strong>: [6c225392d1d31e2f497d5c978244c0e7a3c544ec](https://github.com/hyperledger/fabric/commit/6c225392d1d31e2f497d5c978244c0e7a3c544ec)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/4/2017, 9:43:10 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1494011012<br><strong>GitHubRevision</strong>: [a67a75d5ea58c0bb45e173c117519be028d430a7](https://github.com/hyperledger/fabric/commit/a67a75d5ea58c0bb45e173c117519be028d430a7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/5/2017, 4:31:27 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 5/6/2017, 6:26:00 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1494403236<br><strong>GitHubRevision</strong>: [b785ab03e43bb325ed92fc4a4432205d0d2823a0](https://github.com/hyperledger/fabric/commit/b785ab03e43bb325ed92fc4a4432205d0d2823a0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/10/2017, 5:05:01 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 5/10/2017, 4:20:21 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1494512529<br><strong>GitHubRevision</strong>: [02a1c750ad2ea944de209f6fec0610c3d361c1a0](https://github.com/hyperledger/fabric/commit/02a1c750ad2ea944de209f6fec0610c3d361c1a0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/11/2017, 3:48:58 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 18</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Nao Nishijima - Nao.nishijima@hal.hitachi.com<br><strong>Uploader</strong>: Nao Nishijima - nao.nishijima.xt@hitachi.com<br><strong>Created</strong>: 1494537535<br><strong>GitHubRevision</strong>: [290b46f8725232befaf334b5c8dc1075a8a8f957](https://github.com/hyperledger/fabric/commit/290b46f8725232befaf334b5c8dc1075a8a8f957)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 5/11/2017, 8:39:59 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/11/2017, 8:14:01 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 5/11/2017, 11:54:25 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 5/11/2017, 11:54:31 PM<br><br></blockquote>