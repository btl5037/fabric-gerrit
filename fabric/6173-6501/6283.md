<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 6283<br><strong>Subject</strong>: [FAB-2080] - peer enforces ACLs on proposals<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Assignee</strong>:<br><strong>Created</strong>: 2/20/2017, 10:54:43 AM<br><strong>LastUpdated</strong>: 2/22/2017, 12:05:21 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-2080] - peer enforces ACLs on proposals

This change set enables the peer to validate proposal messages against channel
policies.

Change-Id: Ie60a9deefa5e0002dbf8125e512f3f43db78102e
Signed-off-by: Alessandro Sorniotti <ale.linux@sopit.net>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/20/2017, 10:54:43 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 10:54:52 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2949/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 10:59:11 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7314/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 11:03:26 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2949/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7314/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/20/2017, 12:12:51 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 12:12:58 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2956/ (1/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/20/2017, 12:13:53 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 12:14:03 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2957/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 12:15:22 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7321/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 12:17:56 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7322/ (2/2)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 2/20/2017, 12:32:30 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+1</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 2/20/2017, 12:33:22 PM<br><strong>Message</strong>: <pre>Patch Set 3: -Code-Review

Oops, happy with the content; waiting for CI to verify, before my +1 gets in :)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 1:01:00 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2957/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7322/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 1:03:04 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2956/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7321/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/20/2017, 4:35:01 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 4:35:12 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2966/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 4:37:46 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7331/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/20/2017, 5:16:10 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/2966/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7331/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 1:39:16 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 1:39:27 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2974/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 1:43:17 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7339/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 1:47:01 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 1:47:12 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2975/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 1:51:21 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7340/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 3:01:36 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7339/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-z/2974/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 3:11:37 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7340/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-z/2975/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 3:19:09 AM<br><strong>Message</strong>: <pre>Patch Set 6:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 3:19:18 AM<br><strong>Message</strong>: <pre>Patch Set 6: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2977/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 3:22:20 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7342/ (2/2)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 3:40:29 AM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:23:16 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7342/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-z/2977/ : SUCCESS</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 5:24:12 AM<br><strong>Message</strong>: <pre>Patch Set 6:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:24:19 AM<br><strong>Message</strong>: <pre>Patch Set 6: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/2988/ (1/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 5:26:46 AM<br><strong>Message</strong>: <pre>Patch Set 6:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:28:45 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7353/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 7:07:01 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/2988/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7353/ : SUCCESS</pre><strong>Reviewer</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 7:25:20 AM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+1

Looks good to me, thanks :)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 7:51:52 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Thanks Ale!</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 7:58:49 AM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

Can we have some unit test that tests this feature, please? :)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 12:51:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 12:51:16 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3019/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 12:55:18 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7383/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 1:09:21 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 1:09:31 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3020/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 1:13:31 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7384/ (2/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 1:53:00 PM<br><strong>Message</strong>: <pre>Patch Set 8: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 2:09:14 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3019/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7383/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 2:25:03 PM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3020/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7384/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 2:55:16 PM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 2:55:27 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3024/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 2:58:49 PM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7388/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 3:21:50 PM<br><strong>Message</strong>: <pre>Patch Set 9: Code-Review-1

(1 comment)

Thanks, Yacov, I'll add proper unit tests as soon as I get the CLI to work well. Leaving a -1 so that it isn't merged by accident</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 4:21:53 PM<br><strong>Message</strong>: <pre>Patch Set 9: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3024/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7388/ : SUCCESS</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 4:37:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 4:37:25 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3025/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 4:38:13 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7389/ (2/2)</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 2/21/2017, 4:53:41 PM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review+2

(1 comment)

A minor comment; fix if you like or next chance in this module.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 4:57:22 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(2 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 4:59:14 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:01:08 PM<br><strong>Message</strong>: <pre>Patch Set 10: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/3025/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7389/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 5:11:24 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:11:32 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3026/ (1/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 5:11:43 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(4 comments)

Thanks Binh and Yacov, see the new change set</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:14:10 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7390/ (2/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 5:23:53 PM<br><strong>Message</strong>: <pre>Patch Set 11:

(1 comment)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 5:27:44 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:27:54 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3027/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:31:13 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7391/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:35:32 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/3027/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7391/ : FAILURE</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 5:36:04 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/3026/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7390/ : FAILURE</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 6:05:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 6:05:14 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/3029/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 6:07:46 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7393/ (2/2)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/21/2017, 6:19:07 PM<br><strong>Message</strong>: <pre>Patch Set 13:

(1 comment)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/21/2017, 6:32:28 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/21/2017, 7:22:41 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/3029/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/7393/ : SUCCESS</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 2/21/2017, 7:55:17 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review-2

not necessarily a reflection of the code, although I feel like we could use more tests - e.g. what if no policies are set?</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 2/21/2017, 7:55:42 PM<br><strong>Message</strong>: <pre>Patch Set 13:

also - why do you think it's a good idea to start introducing this now?</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 2/21/2017, 8:24:58 PM<br><strong>Message</strong>: <pre>Patch Set 13:

what happens if no policy is set?</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 2/21/2017, 10:21:27 PM<br><strong>Message</strong>: <pre>Patch Set 13:

> also - why do you think it's a good idea to start introducing this
 > now?

This function has been a placeholder for a long time now, and we have just completed the implementation of policy.</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 2/22/2017, 3:22:08 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Thanks Gari. T your questions:
1) We test the ACL code in both ways: a positive access control decision is handled by existing tests and I've added a new test to simulate negative access control decisions.

2) If the requested policy does not exist we fallback securely with a reject policy, as you can see here
https://github.com/hyperledger/fabric/blob/master/common/policies/policy.go#L182-L188</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 2/22/2017, 10:23:30 AM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+2

I'm ok with this.  We are going to need to figure out a way to add more complicated tests, etc but I'd rather have this in the code path than break later</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 10:23:33 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 10:23:43 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-z/525/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 10:27:36 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1158/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/22/2017, 12:05:21 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/1158/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-merge-z/525/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/20/2017, 10:54:43 AM<br><strong>UnmergedRevision</strong>: [a332ea137f0b4bdd72ab5844a3ac9e4a72751af6](https://github.com/hyperledger-gerrit-archive/fabric/commit/a332ea137f0b4bdd72ab5844a3ac9e4a72751af6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/20/2017, 11:03:26 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/20/2017, 12:12:51 PM<br><strong>UnmergedRevision</strong>: [dbc307125e0354af3e1bc1816ba8a2226cd873b5](https://github.com/hyperledger-gerrit-archive/fabric/commit/dbc307125e0354af3e1bc1816ba8a2226cd873b5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/20/2017, 1:03:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/20/2017, 12:13:53 PM<br><strong>UnmergedRevision</strong>: [8747378f0f1c5f56772209b6f72db0184b195364](https://github.com/hyperledger-gerrit-archive/fabric/commit/8747378f0f1c5f56772209b6f72db0184b195364)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/20/2017, 1:01:00 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/20/2017, 4:35:01 PM<br><strong>UnmergedRevision</strong>: [3461233de662de6f8a25dd92eaf2d28879f8203e](https://github.com/hyperledger-gerrit-archive/fabric/commit/3461233de662de6f8a25dd92eaf2d28879f8203e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/20/2017, 5:16:10 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 1:39:16 AM<br><strong>UnmergedRevision</strong>: [a761a9d234a5d1c9839e3fe477334d8eba0d1d45](https://github.com/hyperledger-gerrit-archive/fabric/commit/a761a9d234a5d1c9839e3fe477334d8eba0d1d45)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 3:01:36 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 1:47:01 AM<br><strong>UnmergedRevision</strong>: [28ac8ff64a6da42fd9a7d625fa44c076c0e82daa](https://github.com/hyperledger-gerrit-archive/fabric/commit/28ac8ff64a6da42fd9a7d625fa44c076c0e82daa)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 7:07:01 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/21/2017, 7:58:49 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Angelo De Caro - adc@zurich.ibm.com<br><strong>Approved</strong>: 2/21/2017, 7:25:20 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Approved</strong>: 2/21/2017, 3:40:29 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 12:51:05 PM<br><strong>UnmergedRevision</strong>: [d20b929a18f889dcfda3bb15d3835638afce111b](https://github.com/hyperledger-gerrit-archive/fabric/commit/d20b929a18f889dcfda3bb15d3835638afce111b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 2:09:14 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 1:09:21 PM<br><strong>UnmergedRevision</strong>: [d8645c22416e7e58e4c02111abecaf30746a4801](https://github.com/hyperledger-gerrit-archive/fabric/commit/d8645c22416e7e58e4c02111abecaf30746a4801)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 2:25:03 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/21/2017, 1:53:00 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L58](https://github.com/hyperledger-gerrit-archive/fabric/blob/d8645c22416e7e58e4c02111abecaf30746a4801/core/endorser/endorser.go#L58)<br><strong>Comment</strong>: <pre>Hi.

Can we please have a test that is supplied in this change set, that checks this feature?

Thanks in advance.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L58](https://github.com/hyperledger-gerrit-archive/fabric/blob/d8645c22416e7e58e4c02111abecaf30746a4801/core/endorser/endorser.go#L58)<br><strong>Comment</strong>: <pre>Good point, I'll add that as soon as I get it to work well with the CLI (which is unfortunately still broken).</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 2:55:16 PM<br><strong>UnmergedRevision</strong>: [980a91eea941f726d627e4904c36da45674d6c87](https://github.com/hyperledger-gerrit-archive/fabric/commit/980a91eea941f726d627e4904c36da45674d6c87)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 4:21:53 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Approved</strong>: 2/21/2017, 3:21:50 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 4:37:17 PM<br><strong>UnmergedRevision</strong>: [1397cd802989c4b92c77dd208a30018b5247ef40](https://github.com/hyperledger-gerrit-archive/fabric/commit/1397cd802989c4b92c77dd208a30018b5247ef40)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 5:01:08 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Approved</strong>: 2/21/2017, 4:53:41 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L302](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser.go#L302)<br><strong>Comment</strong>: <pre>why not remove this and on ine 315, just check chainID != ""</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L302](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser.go#L302)<br><strong>Comment</strong>: <pre>Thx, Done!</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L541](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser_test.go#L541)<br><strong>Comment</strong>: <pre>can you explain this in more detail?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L541](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser_test.go#L541)<br><strong>Comment</strong>: <pre>Thx, Done!</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L554](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser_test.go#L554)<br><strong>Comment</strong>: <pre>you can inline this if you want.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L554](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser_test.go#L554)<br><strong>Comment</strong>: <pre>Thx, done!</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L571](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser_test.go#L571)<br><strong>Comment</strong>: <pre>println?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser_test.go#L571](https://github.com/hyperledger-gerrit-archive/fabric/blob/1397cd802989c4b92c77dd208a30018b5247ef40/core/endorser/endorser_test.go#L571)<br><strong>Comment</strong>: <pre>Done!</pre></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 5:11:24 PM<br><strong>UnmergedRevision</strong>: [a10a579babcb86e491cef5be3f51a755cbd98ccb](https://github.com/hyperledger-gerrit-archive/fabric/commit/a10a579babcb86e491cef5be3f51a755cbd98ccb)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 5:36:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L365](https://github.com/hyperledger-gerrit-archive/fabric/blob/a10a579babcb86e491cef5be3f51a755cbd98ccb/core/endorser/endorser.go#L365)<br><strong>Comment</strong>: <pre>should be ==</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [core/endorser/endorser.go#L365](https://github.com/hyperledger-gerrit-archive/fabric/blob/a10a579babcb86e491cef5be3f51a755cbd98ccb/core/endorser/endorser.go#L365)<br><strong>Comment</strong>: <pre>good catch, thx.... that would have been bad!</pre></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 5:27:44 PM<br><strong>UnmergedRevision</strong>: [5c566524102b87e8e2c4e59a605f3d866554461a](https://github.com/hyperledger-gerrit-archive/fabric/commit/5c566524102b87e8e2c4e59a605f3d866554461a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 5:35:32 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Uploader</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Created</strong>: 2/21/2017, 6:05:05 PM<br><strong>GitHubMergedRevision</strong>: [2fc6bc606bc5f732d9b04ce28e1d28dfbd220173](https://github.com/hyperledger-gerrit-archive/fabric/commit/2fc6bc606bc5f732d9b04ce28e1d28dfbd220173)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/21/2017, 7:22:41 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/21/2017, 6:32:28 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 2/22/2017, 10:23:30 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 2/22/2017, 10:23:33 AM<br><br></blockquote>