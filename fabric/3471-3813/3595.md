<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 3595<br><strong>Subject</strong>: [FAB-1168]: Multichain support for gossip state trans.<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 1/3/2017, 11:32:30 AM<br><strong>LastUpdated</strong>: 1/9/2017, 4:00:57 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-1168]: Multichain support for gossip state trans.

Gossip state transfer mechanism should be aware of the
relevant chainID, since it has to query for peers which
part of given channel to be to initiate state replication
of missing blocks. Also while doing peer-to-peer messaging
state mechanism should indicate which chain runs required
state replication of missing blocks. Current commit extends
gossip state transfer to provide support for multi chain
functionality.

Change-Id: Ie3e3807c8efe8ee0acf323e220ddb14fc0211a33
Signed-off-by: Artem Barger <bartem@il.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/3/2017, 11:32:30 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/3/2017, 11:34:18 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4556/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/3/2017, 12:34:45 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4556/ : SUCCESS</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/4/2017, 4:15:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2: Patch Set 1 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2017, 4:15:36 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4592/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2017, 4:33:08 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4592/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/4/2017, 5:37:30 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2017, 5:42:39 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4598/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2017, 6:32:43 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4598/ : FAILURE</pre><strong>Reviewer</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>Reviewed</strong>: 1/4/2017, 9:27:06 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+2</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 1/4/2017, 12:45:04 PM<br><strong>Message</strong>: <pre>Patch Set 3:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2017, 12:51:16 PM<br><strong>Message</strong>: <pre>Patch Set 3: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4629/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/4/2017, 2:14:42 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4629/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 6:21:21 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2017, 6:24:49 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4796/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2017, 6:46:30 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4796/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 9:19:18 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2017, 9:22:59 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4803/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2017, 10:01:42 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4803/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 10:33:14 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(4 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 11:42:03 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(2 comments)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 11:54:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(5 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 11:58:35 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(4 comments)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 3:08:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2017, 3:12:08 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4813/</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/8/2017, 3:16:16 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/8/2017, 3:58:33 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4813/ : SUCCESS</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/9/2017, 1:33:25 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2017, 1:37:58 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4871/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2017, 1:59:38 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4871/ : FAILURE</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 1/9/2017, 2:13:16 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(3 comments)

reverify</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 1/9/2017, 2:16:19 PM<br><strong>Message</strong>: <pre>Patch Set 6:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2017, 2:17:10 PM<br><strong>Message</strong>: <pre>Patch Set 6: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4879/</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/9/2017, 2:50:12 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2017, 2:54:54 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/4879/ : SUCCESS</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 1/9/2017, 3:09:17 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/9/2017, 3:15:48 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 1/9/2017, 3:15:52 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2017, 3:17:17 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/696/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/9/2017, 4:00:57 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/696/ : FAILURE</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 1/3/2017, 11:32:30 AM<br><strong>UnmergedRevision</strong>: [1ceb0beafb37fdd0dbad237368fd2e5281762734](https://github.com/hyperledger-gerrit-archive/fabric/commit/1ceb0beafb37fdd0dbad237368fd2e5281762734)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/3/2017, 12:34:45 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 1/4/2017, 4:15:25 AM<br><strong>UnmergedRevision</strong>: [abba6ee635439026472a10608a0e4267a004295c](https://github.com/hyperledger-gerrit-archive/fabric/commit/abba6ee635439026472a10608a0e4267a004295c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/4/2017, 4:33:08 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: YACOVM - YACOVM@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 1/4/2017, 5:37:30 AM<br><strong>UnmergedRevision</strong>: [47df75f1bc0f71e6f338b9256d97065b5089dbd4](https://github.com/hyperledger-gerrit-archive/fabric/commit/47df75f1bc0f71e6f338b9256d97065b5089dbd4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/4/2017, 2:14:42 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>Approved</strong>: 1/4/2017, 9:27:06 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [core/util/utils.go#L37](https://github.com/hyperledger-gerrit-archive/fabric/blob/47df75f1bc0f71e6f338b9256d97065b5089dbd4/core/util/utils.go#L37)<br><strong>Comment</strong>: <pre>This is obviously not part of the changes, and i am not sure when it got in, but I just saw this, and we shouldn't do this. The value should be got from core.yaml  security.hashAlgorithm.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/util/utils.go#L37](https://github.com/hyperledger-gerrit-archive/fabric/blob/47df75f1bc0f71e6f338b9256d97065b5089dbd4/core/util/utils.go#L37)<br><strong>Comment</strong>: <pre>As this is not really part of my CR, open JIRA to address your comment and make sure to followup on it:

https://jira.hyperledger.org/browse/FAB-1569</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [core/util/utils.go#L44](https://github.com/hyperledger-gerrit-archive/fabric/blob/47df75f1bc0f71e6f338b9256d97065b5089dbd4/core/util/utils.go#L44)<br><strong>Comment</strong>: <pre>We really need @angelo to take a look at these crypto primitives as we need to consolidate all calls to hash and crypto to bccsp to enable different implementation. Again this is not part of this changeset, but I haven't seen all changesets.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [core/util/utils.go#L44](https://github.com/hyperledger-gerrit-archive/fabric/blob/47df75f1bc0f71e6f338b9256d97065b5089dbd4/core/util/utils.go#L44)<br><strong>Comment</strong>: <pre>Same as above.</pre><strong>Commenter</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>CommentLine</strong>: [gossip/state/state.go#L143](https://github.com/hyperledger-gerrit-archive/fabric/blob/47df75f1bc0f71e6f338b9256d97065b5089dbd4/gossip/state/state.go#L143)<br><strong>Comment</strong>: <pre>We should stop decorating the debug logs. Make it so that it is serviceable, not peculiar only to the code author. There are many instances in this file and others.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state.go#L143](https://github.com/hyperledger-gerrit-archive/fabric/blob/47df75f1bc0f71e6f338b9256d97065b5089dbd4/gossip/state/state.go#L143)<br><strong>Comment</strong>: <pre>Totally agree, while can we handle the logger clean up in different CR? I have also to remove these decoration in other places as well, prefer to do it in one shot. Thanks.</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 1/8/2017, 6:21:21 AM<br><strong>UnmergedRevision</strong>: [4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514](https://github.com/hyperledger-gerrit-archive/fabric/commit/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/8/2017, 10:01:42 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L269](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L269)<br><strong>Comment</strong>: <pre>I don't see you do something special with the bootstrapSet, so perhaps you will initialize the peerSet here, and simply only append to the peerSet all the peers, and simply do 1 defer for loop that shuts down all peers? saves code lines.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L269](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L269)<br><strong>Comment</strong>: <pre>I have different CR which take care of re-enabling additional state tests, will take care of your comment there, since it's doesn't belong to this commit.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L269](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L269)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L269](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L269)<br><strong>Comment</strong>: <pre>Actually just realized that I've separated bootstrap peers and normal peers because I have a loop polling to see that new peers syncs with bootstrap and got all messages. Therefore I'd like not to touch it.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L284](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L284)<br><strong>Comment</strong>: <pre>I think this is a typo/copy-paste bug or something</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L284](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L284)<br><strong>Comment</strong>: <pre>Yeap, thanks, going to fix it.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L284](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L284)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L294](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L294)<br><strong>Comment</strong>: <pre>This should be "bootstrapSetSize" as above, no?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L294](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L294)<br><strong>Comment</strong>: <pre>I meant to write this in a different place, actually</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L294](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L294)<br><strong>Comment</strong>: <pre>ok</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L295](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L295)<br><strong>Comment</strong>: <pre>Better to use "var peerSet []*peerNode"
I think that go vet/lint sometimes shouts this.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L295](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L295)<br><strong>Comment</strong>: <pre>I will take care of this in comment which do more general refactoring of state tests.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L295](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L295)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L298](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L298)<br><strong>Comment</strong>: <pre>This should be "bootstrapSetSize", no?</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L298](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L298)<br><strong>Comment</strong>: <pre>Indeed, thanks.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/state/state_test.go#L298](https://github.com/hyperledger-gerrit-archive/fabric/blob/4a0f86b7d50bd33bb9faef1cfbe30494fbd1e514/gossip/state/state_test.go#L298)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 1/8/2017, 3:08:15 PM<br><strong>UnmergedRevision</strong>: [0d54057be1e4195658f09a9eaeba14ff06d6f400](https://github.com/hyperledger-gerrit-archive/fabric/commit/0d54057be1e4195658f09a9eaeba14ff06d6f400)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/8/2017, 3:58:33 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 1/9/2017, 1:33:25 PM<br><strong>GitHubMergedRevision</strong>: [a4c510b20a97f686d7ee557cc8f21145b706e85d](https://github.com/hyperledger-gerrit-archive/fabric/commit/a4c510b20a97f686d7ee557cc8f21145b706e85d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/9/2017, 2:54:54 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Approved</strong>: 1/9/2017, 3:09:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 1/9/2017, 3:15:48 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 1/9/2017, 3:15:52 PM<br><br></blockquote>