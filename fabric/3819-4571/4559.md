<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 4559<br><strong>Subject</strong>: FAB-1849 LeaderElectionAdapter implementation<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 1/19/2017, 11:16:21 AM<br><strong>LastUpdated</strong>: 1/30/2017, 6:18:10 AM<br><strong>CommitMessage</strong>:<br><pre>FAB-1849 LeaderElectionAdapter implementation

Implements adapter that connect between gossip discovery and communication
and leader election algorithm implementation

Change-Id: I60dc6a0a5d7d36f7e689a2b896371d11e588f46d
Signed-off-by: Gennady Laventman <gennady@il.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/19/2017, 11:16:21 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/19/2017, 11:19:06 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5395/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/19/2017, 11:48:28 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5395/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/19/2017, 2:10:32 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(5 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/19/2017, 2:37:24 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(3 comments)

I'm giving you a -1 just so no one will merge this when I'm away. Please see comment on line 71.</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 2:17:12 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(8 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 7:36:28 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 7:39:19 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5517/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 7:43:55 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5517/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 7:47:18 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 7:54:20 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(3 comments)

Please see next changeset</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 7:58:37 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 8:05:36 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 8:06:27 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5518/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 8:11:24 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5518/ : FAILURE</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 8:16:52 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 8:17:47 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5519/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 8:57:37 AM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5519/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 10:30:11 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/22/2017, 10:32:55 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 10:33:20 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5523/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/22/2017, 11:14:33 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5523/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/23/2017, 11:02:39 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6: Patch Set 5 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/23/2017, 11:06:54 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5544/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/23/2017, 11:54:05 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5544/ : SUCCESS</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/23/2017, 3:49:59 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(2 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/23/2017, 4:59:01 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(7 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/24/2017, 7:40:17 AM<br><strong>Message</strong>: <pre>Patch Set 6:

(9 comments)</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/24/2017, 7:41:01 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/24/2017, 7:41:55 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5569/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/24/2017, 8:12:31 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5569/ : FAILURE</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/24/2017, 9:34:51 AM<br><strong>Message</strong>: <pre>Patch Set 7:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/24/2017, 9:37:13 AM<br><strong>Message</strong>: <pre>Patch Set 7: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5575/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/24/2017, 10:23:15 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5575/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 9:50:10 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)

reverify</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 9:53:44 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 9:54:28 AM<br><strong>Message</strong>: <pre>Patch Set 7: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5634/</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 9:59:38 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 10:03:38 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5636/</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 10:04:40 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 10:08:30 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5637/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 10:37:29 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5634/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 10:42:15 AM<br><strong>Message</strong>: <pre>Patch Set 10: Patch Set 9 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 10:46:09 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5640/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 10:58:50 AM<br><strong>Message</strong>: <pre>Patch Set 8: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5636/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 11:03:27 AM<br><strong>Message</strong>: <pre>Patch Set 9: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5637/ : SUCCESS</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 11:27:43 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 11:31:35 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5645/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 11:56:14 AM<br><strong>Message</strong>: <pre>Patch Set 10: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5640/ : SUCCESS</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 12:12:13 PM<br><strong>Message</strong>: <pre>Patch Set 11: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5645/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 1:38:16 PM<br><strong>Message</strong>: <pre>Patch Set 12: Patch Set 11 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 1:40:48 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5658/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/25/2017, 2:36:54 PM<br><strong>Message</strong>: <pre>Patch Set 12: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5658/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/25/2017, 5:07:19 PM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2017, 9:32:11 PM<br><strong>Message</strong>: <pre>Patch Set 13: Patch Set 12 was rebased</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2017, 9:32:18 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2017, 9:35:10 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5869/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2017, 10:23:37 PM<br><strong>Message</strong>: <pre>Patch Set 13: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5869/ : FAILURE</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2017, 10:32:14 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review-1

ugh, this doesn't compile anymore, and I can't fix it because then I won't be able to +2 it.</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/29/2017, 5:35:09 AM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/29/2017, 5:38:00 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5874/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/29/2017, 6:41:46 AM<br><strong>Message</strong>: <pre>Patch Set 14: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/5874/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 1/29/2017, 11:25:30 AM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+2</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 1/29/2017, 11:43:57 AM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+1</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/29/2017, 5:01:01 PM<br><strong>Message</strong>: <pre>Patch Set 14:

(1 comment)

see my other comment, but it seems like we might be missing some test(s) here which would prove that when election is connected to gossip that the correct leader is actually elected?   Also - what about a test when multiple channels are involved?  I know that the election module has various tests, but it might be good to actually see that they still work when hooked up via the adapter?</pre><strong>Reviewer</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Reviewed</strong>: 1/30/2017, 2:41:35 AM<br><strong>Message</strong>: <pre>Patch Set 14:

(1 comment)

Yes, we should have such test, but it should be not here, but in some place that connect all together - algoritm, adapter and gossip. Right now I am writing the code that connects all parts together and will run tests there.
Regarding multiple channels - each adapter/leader election algorithm instance works with single channel, we will have multiple instances for multiple channels.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 1/30/2017, 5:26:36 AM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+2

(1 comment)

> (1 comment)
 > 
 > Yes, we should have such test, but it should be not here, but in
 > some place that connect all together - algoritm, adapter and
 > gossip. Right now I am writing the code that connects all parts
 > together and will run tests there.
 > Regarding multiple channels - each adapter/leader election
 > algorithm instance works with single channel, we will have multiple
 > instances for multiple channels.

ok</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 1/30/2017, 5:26:43 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/30/2017, 5:29:26 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/910/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/30/2017, 6:18:10 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/910/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/19/2017, 11:16:21 AM<br><strong>UnmergedRevision</strong>: [1a93de4991449a4f2a314b7782fc9c311b28962b](https://github.com/hyperledger-gerrit-archive/fabric/commit/1a93de4991449a4f2a314b7782fc9c311b28962b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/19/2017, 11:48:28 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 1/19/2017, 2:37:24 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L2)<br><strong>Comment</strong>: <pre>license header year</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L2)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L27](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L27)<br><strong>Comment</strong>: <pre>goimports</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L27](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L27)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L71)<br><strong>Comment</strong>: <pre>If you use gossip.Gossip, you have to import it,
and in gossip you would have to import election.

This would lead to an import cycle.
You need only 3 capabilities of Gossip(Gossip, Peers, and Accept) so why not:
1) Pass functions?
2) Create an interface:
type Gossip interface {
	Gossip(msg *proto.GossipMessage)
	Accept ...
	Peers() []discovery.NetworkMember
}

This would remove the needed import from this file and also remove the need to "mock" all interfaces of gossip in the test file.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L71)<br><strong>Comment</strong>: <pre>Will use interface</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L95](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L95)<br><strong>Comment</strong>: <pre>1) Line too long
2) Since the leader election is now per channel, shouldn't we use isChannelRestricted()? 
After all, we don't want the message to travel to all the organization...</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L95](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L95)<br><strong>Comment</strong>: <pre>2) Doesn't CHAH_AND_ORG tag mean for that?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L95](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L95)<br><strong>Comment</strong>: <pre>Hmm, yeah. But what I really meant to say is- we should check IMO that the channel property is set (longer than 0). 
I mean, this thing is per channel or not? 
If it is- where is the channel in all this story?
If not- Then I perhaps don't understand the end goal/flow and would like an explanation.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L95](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L95)<br><strong>Comment</strong>: <pre>2) Actually, IsChannelRestricted do exactly the same</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L95](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L95)<br><strong>Comment</strong>: <pre>Did it in last changeset</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L105)<br><strong>Comment</strong>: <pre>nil check required. When inCh is closed, gossipMsg will be nil, which might cause a NPE somewhere ahead (I think)</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L105)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L136)<br><strong>Comment</strong>: <pre>I don't see code that verifies a message... where is it? If you use Sign you should Verify\Validate in a symmetrical way, don't you?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L136)<br><strong>Comment</strong>: <pre>I was sure gossip will check signatures for me</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L136)<br><strong>Comment</strong>: <pre>That can be done, but IMO if we check signatures we also set them, and vice-versa: if we don't set signatures, no reason to check them too. 
I actually think perhaps that's a good idea for gossip to handle that, so therefore- could you perhaps remove the signing from here?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L136)<br><strong>Comment</strong>: <pre>Is any generic way to set/check signatures in gossip? Or I should write this in gossip_impl by myself?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L136)<br><strong>Comment</strong>: <pre>hmm, so I would say we should probably do that after we move the signature field to the GossipMessage field.
I think in the meantime, to get things rolling, it's best to implement it in the gossip_impl and then after that we'll refactor :)</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter.go#L136)<br><strong>Comment</strong>: <pre>I put Verify in Accept. Used Mapper API from identity.go, actually, used interface that mimic Sign and Verify from it's API.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter_test.go#L1)<br><strong>Comment</strong>: <pre>license header missing</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter_test.go#L1)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L12](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter_test.go#L12)<br><strong>Comment</strong>: <pre>goimports</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L12](https://github.com/hyperledger-gerrit-archive/fabric/blob/1a93de4991449a4f2a314b7782fc9c311b28962b/gossip/election/adapter_test.go#L12)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/22/2017, 7:36:28 AM<br><strong>UnmergedRevision</strong>: [79c6244c209e0997efb9b5e0d7cca84c23e663b0](https://github.com/hyperledger-gerrit-archive/fabric/commit/79c6244c209e0997efb9b5e0d7cca84c23e663b0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/22/2017, 7:43:55 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/22/2017, 8:05:36 AM<br><strong>UnmergedRevision</strong>: [017c7588003479e4bc5ec81f937af778c9c9b78c](https://github.com/hyperledger-gerrit-archive/fabric/commit/017c7588003479e4bc5ec81f937af778c9c9b78c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/22/2017, 8:11:24 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/22/2017, 8:16:52 AM<br><strong>UnmergedRevision</strong>: [4a556a0e91b36d3ede90b842758d87c2a07bb9f7](https://github.com/hyperledger-gerrit-archive/fabric/commit/4a556a0e91b36d3ede90b842758d87c2a07bb9f7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/22/2017, 8:57:37 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/22/2017, 10:30:11 AM<br><strong>UnmergedRevision</strong>: [3ee95008ee1b316e603af5847048728ea8f1e8a3](https://github.com/hyperledger-gerrit-archive/fabric/commit/3ee95008ee1b316e603af5847048728ea8f1e8a3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/22/2017, 11:14:33 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/23/2017, 11:02:39 AM<br><strong>UnmergedRevision</strong>: [e04175f89fd6dfe1280471540ec33bfbfad97972](https://github.com/hyperledger-gerrit-archive/fabric/commit/e04175f89fd6dfe1280471540ec33bfbfad97972)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/23/2017, 11:54:05 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L15)<br><strong>Comment</strong>: <pre>line feed needed between license and "package"</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L15)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L59](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L59)<br><strong>Comment</strong>: <pre>Peers, not GetPeers</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L59](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L59)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L72](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L72)<br><strong>Comment</strong>: <pre>Can you add a comment with
// MsgCrypto 
?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L72](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L72)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L98](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L98)<br><strong>Comment</strong>: <pre>Can you add a comment with // NewAdapter
?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L98](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter.go#L98)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L1)<br><strong>Comment</strong>: <pre>can you add license please?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L1)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L105)<br><strong>Comment</strong>: <pre>no need to use adapter var here, since you don't use it.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L105)<br><strong>Comment</strong>: <pre>?
And how I can call Accept()?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L105)<br><strong>Comment</strong>: <pre>Oops, you're right. My bad, didn't see.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L253](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L253)<br><strong>Comment</strong>: <pre>Why do you have all these methods? You're only mocking 3 methods IIUC.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L253](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L253)<br><strong>Comment</strong>: <pre>Correct, will fix it. I have them since I had full Gossip interface impl</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L295](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L295)<br><strong>Comment</strong>: <pre>Could you please remove those lines if you do not need them?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L295](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L295)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L317](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L317)<br><strong>Comment</strong>: <pre>Same as above, IMO if you do not need these, please remove.</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L317](https://github.com/hyperledger-gerrit-archive/fabric/blob/e04175f89fd6dfe1280471540ec33bfbfad97972/gossip/election/adapter_test.go#L317)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/24/2017, 7:41:01 AM<br><strong>UnmergedRevision</strong>: [58757072484e0b71ae21a25232264703f5c7ba95](https://github.com/hyperledger-gerrit-archive/fabric/commit/58757072484e0b71ae21a25232264703f5c7ba95)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/25/2017, 10:37:29 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/58757072484e0b71ae21a25232264703f5c7ba95/gossip/election/adapter.go#L24)<br><strong>Comment</strong>: <pre>can you please fix the imports?</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/25/2017, 9:59:38 AM<br><strong>UnmergedRevision</strong>: [04438a04cdac883158d1bbd94cfda35291f6c9b2](https://github.com/hyperledger-gerrit-archive/fabric/commit/04438a04cdac883158d1bbd94cfda35291f6c9b2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/25/2017, 10:58:50 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/25/2017, 10:04:40 AM<br><strong>UnmergedRevision</strong>: [a9b408ebf2487e10a32915bc015dd2f9f6941129](https://github.com/hyperledger-gerrit-archive/fabric/commit/a9b408ebf2487e10a32915bc015dd2f9f6941129)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/25/2017, 11:03:27 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 1/25/2017, 10:42:15 AM<br><strong>UnmergedRevision</strong>: [456e9af1de8ef23803c15252bee70613ba5b5dca](https://github.com/hyperledger-gerrit-archive/fabric/commit/456e9af1de8ef23803c15252bee70613ba5b5dca)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/25/2017, 11:56:14 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/25/2017, 11:27:43 AM<br><strong>UnmergedRevision</strong>: [83136f48a7a451034e80061cd306a7eee2dd3d8d](https://github.com/hyperledger-gerrit-archive/fabric/commit/83136f48a7a451034e80061cd306a7eee2dd3d8d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/25/2017, 12:12:13 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 1/25/2017, 1:38:16 PM<br><strong>UnmergedRevision</strong>: [b0c5c0db40afdd166a1bcb6c2efd36be5d6232d6](https://github.com/hyperledger-gerrit-archive/fabric/commit/b0c5c0db40afdd166a1bcb6c2efd36be5d6232d6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/25/2017, 2:36:54 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 1/25/2017, 5:07:19 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 1/28/2017, 9:32:11 PM<br><strong>UnmergedRevision</strong>: [66c9bc12756d76741ad05c112c78b6de91491864](https://github.com/hyperledger-gerrit-archive/fabric/commit/66c9bc12756d76741ad05c112c78b6de91491864)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/28/2017, 10:23:37 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 1/28/2017, 10:32:14 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Uploader</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>Created</strong>: 1/29/2017, 5:35:09 AM<br><strong>GitHubMergedRevision</strong>: [e2d0fa744cfaa095ef35a9829eb1de3be90bcb93](https://github.com/hyperledger-gerrit-archive/fabric/commit/e2d0fa744cfaa095ef35a9829eb1de3be90bcb93)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/29/2017, 6:41:46 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 1/29/2017, 11:25:30 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 1/30/2017, 5:26:36 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 1/30/2017, 5:26:43 AM<br><br><strong>Approver</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Approved</strong>: 1/29/2017, 11:43:57 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2d0fa744cfaa095ef35a9829eb1de3be90bcb93/gossip/election/adapter_test.go#L136)<br><strong>Comment</strong>: <pre>are we really only testing that the adapter was able to "connect" gossip to the election module?   Are we assuming that if this works that the election module is working as advertised under the covers - e.g. that peer 0 is the leader, etc?</pre><strong>Commenter</strong>: Gennady Laventman - gennady@il.ibm.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2d0fa744cfaa095ef35a9829eb1de3be90bcb93/gossip/election/adapter_test.go#L136)<br><strong>Comment</strong>: <pre>The answer is yes. The adapter only connect between gossip instance and leader election algorithm - some shim that hides communication details from leader election algorithm. Actually, we just need to test if adapter accept messages from algorithm and pass them to gossip. It hides LeadershipMsg implementation details, channel id, etc from algorithm.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [gossip/election/adapter_test.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2d0fa744cfaa095ef35a9829eb1de3be90bcb93/gossip/election/adapter_test.go#L136)<br><strong>Comment</strong>: <pre>Done</pre></blockquote>