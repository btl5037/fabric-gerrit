<strong>Project</strong>: fabric</br><strong>Branch</strong>: master<br><strong>ID</strong>: 7139<br><strong>Subject</strong>: [FAB-2743] Fix error messages<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Assignee</strong>:<strong>Created</strong>: 3/11/2017, 2:26:17 AM<br><strong>LastUpdated</strong>: 3/12/2017, 9:29:23 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-2743] Fix error messages

https://jira.hyperledger.org/browse/FAB-2743

Change-Id: I761dc865e929b3999e6212b61ac829d0b73b9506
Signed-off-by: Ruslan Kryukov <ruslan.kryukov@ru.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/11/2017, 2:26:17 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:27:16 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8539/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:28:10 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2613/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:30:41 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/79/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:33:53 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8539/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2613/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/79/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/11/2017, 2:35:50 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:36:49 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8540/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:37:35 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2614/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:39:22 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/80/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:43:19 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8540/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2614/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/80/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/11/2017, 2:50:22 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:51:24 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8541/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:52:04 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2615/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 2:54:13 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/81/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 3:16:07 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8541/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2615/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/81/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/11/2017, 3:21:40 AM<br><strong>Message</strong>: <pre>Patch Set 3:

WIP</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/11/2017, 12:15:23 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 12:16:19 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8543/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 12:17:09 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2617/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 12:19:12 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/83/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/11/2017, 1:15:36 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2617/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8543/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/83/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 3:47:47 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Why not just change %s to %v?</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 3:56:07 AM<br><strong>Message</strong>: <pre>Patch Set 4:

> Why not just change %s to %v?

Because there too many files to change manual</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 3:58:20 AM<br><strong>Message</strong>: <pre>Patch Set 4:

I've replaced err to err.Error() and check that all look good</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 4:00:38 AM<br><strong>Message</strong>: <pre>Patch Set 4:

> Because there too many files to change manual
But you changed in each of such file from err --> err.Error() what's the difference?</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 4:03:29 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 4:04:56 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8553/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 4:05:33 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2627/ (2/3)</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 4:06:16 AM<br><strong>Message</strong>: <pre>Patch Set 4:

> > Because there too many files to change manual
 > But you changed in each of such file from err --> err.Error()
 > what's the difference?

I changed it with global replace command and after that just walked to each file and checked it. If I would did it manually, it's ton of work...</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 4:08:13 AM<br><strong>Message</strong>: <pre>Patch Set 4:

There is no smart way to the automatic find %s in string with related to err variable, hmmm</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 4:08:14 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/93/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 4:52:50 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/93/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8553/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2627/ : SUCCESS</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 6:48:41 AM<br><strong>Message</strong>: <pre>Patch Set 5:

So, you just changed all the files with a script or something?</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 6:50:42 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Also- are you sure it is always needed in all these cases? 
The following example prints with %s successfully:

https://play.golang.org/p/iRZQp5Ox6R</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 8:36:41 AM<br><strong>Message</strong>: <pre>Patch Set 4:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 8:37:58 AM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8556/ (1/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 8:38:53 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2630/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 8:41:33 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/96/ (3/3)</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 8:41:53 AM<br><strong>Message</strong>: <pre>Patch Set 4:

> Also- are you sure it is always needed in all these cases?
 > The following example prints with %s successfully:
 > 
 > https://play.golang.org/p/iRZQp5Ox6R

Hmm, you are right.  Apparently, in some cases err is just nil, but we try to print him.
Well, I've abandoned CR.</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 8:42:08 AM<br><strong>Message</strong>: <pre>Abandoned

closed</pre><strong>Reviewer</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Reviewed</strong>: 3/12/2017, 8:43:50 AM<br><strong>Message</strong>: <pre>Patch Set 5:

> So, you just changed all the files with a script or something?

yes</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 3/12/2017, 9:29:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/96/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8556/ : SUCCESS

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/2630/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Uploader</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Created</strong>: 1489217177<br><strong>UnmergedRevision</strong>: 228662142c0d583c051557b9022e20ad7ba3253b<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/11/2017, 2:33:53 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Uploader</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Created</strong>: 1489217750<br><strong>UnmergedRevision</strong>: 78a09e2d1a9d4fd5f90371dc0b085d363432907e<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/11/2017, 2:43:19 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Uploader</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Created</strong>: 1489218622<br><strong>UnmergedRevision</strong>: d5f65f2462015e6b27c7013e1135f362ee7dd277<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/11/2017, 3:16:07 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Uploader</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Created</strong>: 1489252523<br><strong>UnmergedRevision</strong>: 2ac1a7756626fada760dc6b2f3839329c546c462<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Uploader</strong>: Ruslan Kryukov - ruslan.kryukov@ru.ibm.com<br><strong>Created</strong>: 1489305809<br><strong>UnmergedRevision</strong>: bf26ac1b28485a8d5613e3c57b16640e60c08d7a<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 3/12/2017, 4:52:50 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>