<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 28707<br><strong>Subject</strong>: FAB-13666 consensus migration: kafka2raft green path #3<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 1/14/2019, 11:55:06 AM<br><strong>LastUpdated</strong>: 2/18/2019, 4:51:33 AM<br><strong>CommitMessage</strong>:<br><pre>FAB-13666 consensus migration: kafka2raft green path #3

This is the third of four (3/4) sub-tasks that focus on
the "green" path of consensus-type migration from Kafka to Raft.

By "green" we mean that there are no failures or aborts along
the way. The 4 sub-tasks are staged in a way that minimizes
dependencies between them.

In this sub-task we introduce changes to the Kafka-base OSNs
such that they implement the entire green path, until they commit
migration and are ready to be restarted. This
change concludes all the changes needed to implement the green
path on the "Kafka" side.

See respective JIRA item for further details.

Note: some of the mocks had to be re-generated by couterfeiter to make the
unit tests build.

Change-Id: I2747f7d8017c344e9ff3bdd9dd98cbaa1480083f
Signed-off-by: Yoav Tock <tock@il.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/14/2019, 11:55:06 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 11:58:09 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/8998/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 11:58:44 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:04:33 PM<br><strong>Message</strong>: <pre>Patch Set 1: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:05:22 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/8998/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/8998</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:07:26 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7948/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:07:53 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4718/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:07:56 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:08:43 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:36:25 PM<br><strong>Message</strong>: <pre>Patch Set 1: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:45:41 PM<br><strong>Message</strong>: <pre>Patch Set 1: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2019, 12:47:37 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4718/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/4718

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7948/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/7948</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/15/2019, 3:21:56 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 3:25:00 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4749/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 3:25:47 AM<br><strong>Message</strong>: <pre>Patch Set 1: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/15/2019, 3:55:04 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 4:02:20 AM<br><strong>Message</strong>: <pre>Patch Set 1: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 4:03:59 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4749/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/4749</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/15/2019, 5:43:20 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 5:46:16 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4752/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 5:46:52 AM<br><strong>Message</strong>: <pre>Patch Set 1: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 6:14:01 AM<br><strong>Message</strong>: <pre>Patch Set 1: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 6:15:24 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4752/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/4752</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/15/2019, 8:12:48 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:16:04 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9063/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:16:34 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:23:01 AM<br><strong>Message</strong>: <pre>Patch Set 2: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:23:43 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9063/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/9063</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:25:54 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8004/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:26:27 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:26:52 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4761/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:27:25 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 8:59:16 AM<br><strong>Message</strong>: <pre>Patch Set 2: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 9:02:40 AM<br><strong>Message</strong>: <pre>Patch Set 2: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2019, 9:03:34 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8004/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8004

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4761/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/4761</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 1/16/2019, 9:57:35 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(3 comments)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/17/2019, 1:27:13 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(4 comments)

Thanks for the review, Jay!</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/17/2019, 5:10:06 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:12:20 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9118/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:12:51 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:15:19 AM<br><strong>Message</strong>: <pre>Patch Set 3: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:16:26 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9118/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/9118</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/17/2019, 5:23:18 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:26:17 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9120/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:26:47 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:32:13 AM<br><strong>Message</strong>: <pre>Patch Set 4: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:33:06 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9120/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/9120</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:33:55 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8048/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:34:22 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:34:37 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4795/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:35:23 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 6:12:44 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 6:23:04 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 6:23:40 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8048/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8048

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4795/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/4795</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/17/2019, 6:28:29 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 6:32:14 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8054/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 6:32:59 AM<br><strong>Message</strong>: <pre>Patch Set 4: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 7:03:59 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 7:05:00 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8054/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8054</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/17/2019, 2:49:05 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 2:52:18 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9149/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 2:53:34 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 2:59:47 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:00:38 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9149/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/9149</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:02:28 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8076/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:02:30 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4821/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:03:57 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:05:47 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:34:32 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:42:51 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 3:43:34 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8076/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8076

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4821/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/4821</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/17/2019, 4:16:59 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 4:19:56 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8079/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 4:21:13 PM<br><strong>Message</strong>: <pre>Patch Set 5: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 4:35:45 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 4:36:29 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8079/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8079</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/17/2019, 5:00:51 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:03:02 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8081/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:04:18 PM<br><strong>Message</strong>: <pre>Patch Set 5: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:35:58 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2019, 5:36:44 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8081/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8081</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/21/2019, 9:43:37 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:46:19 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9254/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:47:30 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:53:39 AM<br><strong>Message</strong>: <pre>Patch Set 6: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:54:24 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9254/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/9254</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:55:55 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8181/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:55:57 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4900/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:57:23 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 9:59:14 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 10:29:19 AM<br><strong>Message</strong>: <pre>Patch Set 6: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 10:31:55 AM<br><strong>Message</strong>: <pre>Patch Set 6: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/21/2019, 10:32:43 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8181/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8181

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4900/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/4900</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/23/2019, 7:01:29 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7: Patch Set 6 was rebased.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 1/24/2019, 5:01:35 AM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review-1

(13 comments)

review in progress... tentatively -1</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 1/24/2019, 5:12:50 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(3 comments)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 1/24/2019, 8:59:14 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 1/24/2019, 9:10:31 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/27/2019, 8:46:45 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 8:49:53 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9459/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 8:51:44 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 8:55:52 AM<br><strong>Message</strong>: <pre>Patch Set 8: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 8:56:45 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9459/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/9459</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/27/2019, 10:34:22 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:36:05 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9463/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:37:46 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:42:54 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:43:38 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/9463/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/9463</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:44:46 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8376/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:45:42 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5060/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:46:24 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 10:47:58 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 11:13:19 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 11:39:49 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/27/2019, 11:40:54 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5060/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5060

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8376/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8376</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2019, 1:21:03 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(13 comments)

Thanks for the review!</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2019, 1:21:23 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 1:24:07 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5065/</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2019, 1:25:22 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 1:26:03 AM<br><strong>Message</strong>: <pre>Patch Set 9: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 2:01:08 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 2:02:04 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5065/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5065</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2019, 2:46:19 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2019, 2:46:43 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 2:50:19 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5066/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 2:51:59 AM<br><strong>Message</strong>: <pre>Patch Set 10: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 1/28/2019, 3:05:48 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 3:15:57 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/28/2019, 3:16:19 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/28/2019, 3:16:35 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5066/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5066</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 1/28/2019, 3:26:01 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/30/2019, 1:18:51 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/31/2019, 2:12:36 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/31/2019, 2:15:08 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5185/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/31/2019, 2:16:48 AM<br><strong>Message</strong>: <pre>Patch Set 10: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/31/2019, 2:55:42 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/31/2019, 2:56:34 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5185/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5185</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 1/31/2019, 11:50:21 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11: Patch Set 10 was rebased.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 2/1/2019, 3:18:04 AM<br><strong>Message</strong>: <pre>Patch Set 11:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/3/2019, 3:41:50 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/3/2019, 3:42:20 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/3/2019, 3:43:59 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5271/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/3/2019, 3:45:32 AM<br><strong>Message</strong>: <pre>Patch Set 11: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/3/2019, 4:26:11 AM<br><strong>Message</strong>: <pre>Patch Set 11: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/3/2019, 4:27:09 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5271/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5271</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/6/2019, 7:24:42 PM<br><strong>Message</strong>: <pre>Patch Set 11:

(12 comments)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/12/2019, 7:24:31 AM<br><strong>Message</strong>: <pre>Patch Set 11:

(14 comments)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/12/2019, 7:25:04 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/12/2019, 7:26:48 AM<br><strong>Message</strong>: <pre>Patch Set 12:

The current patch addresses all review comments. Note that many of the files in this CR will be refined in two additional CRs (abort + recovery).</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:26:51 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10017/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:27:20 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:32:25 AM<br><strong>Message</strong>: <pre>Patch Set 12: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:33:08 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10017/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/10017</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:33:57 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8834/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:34:26 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:35:12 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5599/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 7:35:43 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 8:07:07 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 8:17:49 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/12/2019, 8:18:41 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8834/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8834

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5599/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5599</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/12/2019, 10:41:04 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(9 comments)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 3:22:15 AM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 3:24:11 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(8 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:24:28 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10061/</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 3:24:56 AM<br><strong>Message</strong>: <pre>Patch Set 12:

@yacovm I pushed a new patch addressing your comments. Thanks for the review!</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:25:27 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:31:01 AM<br><strong>Message</strong>: <pre>Patch Set 13: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:31:37 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10061/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/10061</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:33:34 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8878/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:33:58 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:34:24 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5637/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:34:55 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 3:45:47 AM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 3:57:27 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 4:02:54 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(1 comment)</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 4:05:13 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 4:13:40 AM<br><strong>Message</strong>: <pre>Patch Set 13: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 4:14:26 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8878/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8878

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5637/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5637</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 4:25:48 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Run UnitTest</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 4:29:30 AM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review-1

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 4:30:04 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8881/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 4:30:28 AM<br><strong>Message</strong>: <pre>Patch Set 13: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 5:01:01 AM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 5:01:52 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8881/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8881</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/13/2019, 5:52:20 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 2/14/2019, 4:54:45 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(2 comments)

there are several places in this CR that add "[channel: %s]" to *returned* error, which should not</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2019, 5:52:45 AM<br><strong>Message</strong>: <pre>Uploaded patch set 14: Patch Set 13 was rebased.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2019, 6:51:16 AM<br><strong>Message</strong>: <pre>Patch Set 14: -Code-Review</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2019, 7:02:03 AM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2019, 7:02:21 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Run VerifyBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:04:23 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10085/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:04:52 AM<br><strong>Message</strong>: <pre>Patch Set 14: -F2-DocBuild -F1-VerifyBuild -F3-IntegrationTest -F3-UnitTest

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:10:41 AM<br><strong>Message</strong>: <pre>Patch Set 14: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:12:47 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8902/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:13:20 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5652/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:13:26 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:13:45 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:27:23 AM<br><strong>Message</strong>: <pre>Patch Set 14: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:50:54 AM<br><strong>Message</strong>: <pre>Patch Set 14: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 7:51:36 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8902/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8902

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10085/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/10085

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5652/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5652</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/14/2019, 9:16:22 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 9:18:10 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8908/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 9:18:42 AM<br><strong>Message</strong>: <pre>Patch Set 14: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 9:45:34 AM<br><strong>Message</strong>: <pre>Patch Set 14: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/14/2019, 9:46:30 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8908/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/8908</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/17/2019, 4:08:01 AM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 4:09:57 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10254/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 4:10:25 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 4:12:59 AM<br><strong>Message</strong>: <pre>Patch Set 15: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 4:14:02 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10254/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/10254</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/17/2019, 5:55:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 5:56:53 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10255/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 5:57:18 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:02:54 AM<br><strong>Message</strong>: <pre>Patch Set 16: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:03:41 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/10255/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/10255</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:05:17 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/9036/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:05:39 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:09:58 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5793/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:10:23 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Starting Integration tests</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 2/17/2019, 6:22:02 AM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:31:07 AM<br><strong>Message</strong>: <pre>Patch Set 16: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:44:41 AM<br><strong>Message</strong>: <pre>Patch Set 16: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 6:45:16 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5793/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5793

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/9036/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/9036</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/17/2019, 7:10:51 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 7:12:50 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5794/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 7:13:26 AM<br><strong>Message</strong>: <pre>Patch Set 16: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 7:54:33 AM<br><strong>Message</strong>: <pre>Patch Set 16: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 7:55:27 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5794/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5794</pre><strong>Reviewer</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Reviewed</strong>: 2/17/2019, 8:15:17 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 8:18:10 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5797/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 8:18:33 AM<br><strong>Message</strong>: <pre>Patch Set 16: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 8:52:37 AM<br><strong>Message</strong>: <pre>Patch Set 16: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/17/2019, 8:53:17 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5797/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/5797</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2019, 3:59:29 AM<br><strong>Message</strong>: <pre>Patch Set 16: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 2/18/2019, 3:59:36 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/18/2019, 4:02:09 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/5682/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/18/2019, 4:02:39 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/4367/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/18/2019, 4:51:33 AM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/5682/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/5682

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/4367/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/4367</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/14/2019, 11:55:06 AM<br><strong>UnmergedRevision</strong>: [1c1771b7a0af5161fd8d55c662dd8b742e3bb042](https://github.com/hyperledger-gerrit-archive/fabric/commit/1c1771b7a0af5161fd8d55c662dd8b742e3bb042)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/14/2019, 12:04:33 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/14/2019, 12:04:33 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2019, 6:14:01 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/14/2019, 12:36:25 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/consenter.go#L85](https://github.com/hyperledger-gerrit-archive/fabric/blob/1c1771b7a0af5161fd8d55c662dd8b742e3bb042/orderer/consensus/kafka/consenter.go#L85)<br><strong>Comment</strong>: <pre>Befor splitting the CR @kostas commented:
"...
*All* of these consensus-type migration-related fields are not/should not be first class citizens in the `consenterImpl` type definition.

Create a `migrate` field and a corresponding type, and encapsulate all of the fields that you need to coordinate consensus-type implementation inside that field. Bonus points if we do this in a `migrate.go` file.
..."</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/15/2019, 8:12:48 AM<br><strong>UnmergedRevision</strong>: [a72d23b4c17bf3b752b7b486b6dd19348cd84b97](https://github.com/hyperledger-gerrit-archive/fabric/commit/a72d23b4c17bf3b752b7b486b6dd19348cd84b97)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2019, 8:23:01 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2019, 8:23:01 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2019, 9:02:40 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2019, 8:59:16 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L828](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L828)<br><strong>Comment</strong>: <pre>this check can be performed at beginning of this case, so we drop early</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L828](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L828)<br><strong>Comment</strong>: <pre>No, we cant, I do not want to drop before processing if the config sequence has advanced, because it may send the message to reorder. I rather play it safe. This is the correct spot, right before commit.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L828](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L828)<br><strong>Comment</strong>: <pre>No, if you are already in migration, you shouldn't bother sending it to be re-ordered, you are going to drop that anyway. it's not about safety</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L828](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L828)<br><strong>Comment</strong>: <pre>hint: this is a normal message</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L901](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L901)<br><strong>Comment</strong>: <pre>use errors.Wrap</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L923](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L923)<br><strong>Comment</strong>: <pre>what prevents us from using just error here? if it's error, we drop message and return error, if it's nil, we commit block. (err is going to be logged anyway at upper level)</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L923](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L923)<br><strong>Comment</strong>: <pre>because returning commit=false is not an error. It is a condition. I reserve error for cases where things really go wrong. which reminds me - I need to wrap the error in line 901. ;-)</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L949](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L949)<br><strong>Comment</strong>: <pre>return early maybe? the same goes to the rest of method</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L949](https://github.com/hyperledger-gerrit-archive/fabric/blob/a72d23b4c17bf3b752b7b486b6dd19348cd84b97/orderer/consensus/kafka/chain.go#L949)<br><strong>Comment</strong>: <pre>It is possible, true. I'll keep it in mind, I have to refactor this into a separate file/struct anyway, I'll do it then - in the context of  FAB-13719</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/17/2019, 5:10:06 AM<br><strong>UnmergedRevision</strong>: [61571554d25223bfe248c058b5b73ac970b146fa](https://github.com/hyperledger-gerrit-archive/fabric/commit/61571554d25223bfe248c058b5b73ac970b146fa)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 5:15:19 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/17/2019, 5:23:18 AM<br><strong>UnmergedRevision</strong>: [8de3ae2242d36c11697e4a1ef90d2332379c7b4c](https://github.com/hyperledger-gerrit-archive/fabric/commit/8de3ae2242d36c11697e4a1ef90d2332379c7b4c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 5:32:13 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 5:32:13 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 6:12:44 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 7:03:59 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/17/2019, 2:49:05 PM<br><strong>UnmergedRevision</strong>: [7b80df7ebc90e1c49eace8014583c75c404324e2](https://github.com/hyperledger-gerrit-archive/fabric/commit/7b80df7ebc90e1c49eace8014583c75c404324e2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 2:59:47 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 2:59:47 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 3:42:51 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2019, 5:35:58 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/21/2019, 9:43:37 AM<br><strong>UnmergedRevision</strong>: [4eb4d4732eb59ed4f40cd64fd21e06ce498e1e02](https://github.com/hyperledger-gerrit-archive/fabric/commit/4eb4d4732eb59ed4f40cd64fd21e06ce498e1e02)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 9:53:39 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 9:53:39 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 10:31:55 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 10:29:19 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/23/2019, 7:01:29 AM<br><strong>UnmergedRevision</strong>: [1db193eaf31443795c5533393d061dfd8f3d3265](https://github.com/hyperledger-gerrit-archive/fabric/commit/1db193eaf31443795c5533393d061dfd8f3d3265)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 9:53:39 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 9:53:39 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 10:31:55 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/21/2019, 10:29:19 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Approved</strong>: 1/24/2019, 5:01:35 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L18](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265//COMMIT_MSG#L18)<br><strong>Comment</strong>: <pre>which bold?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L18](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265//COMMIT_MSG#L18)<br><strong>Comment</strong>: <pre>Typo. Copy paste error from the JIRA (where there is a bold below).</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L234](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L234)<br><strong>Comment</strong>: <pre>no need for `else` clause</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L234](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L234)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L259](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L259)<br><strong>Comment</strong>: <pre>you don't need a named return value here, especially when it's error</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L259](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L259)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L263](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L263)<br><strong>Comment</strong>: <pre>[nit] let's use more meaningful var: `id, chain := range r.chains`</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L263](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L263)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L265](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L265)<br><strong>Comment</strong>: <pre>return errors.Errorf("blah")</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L265](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L265)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L279](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L279)<br><strong>Comment</strong>: <pre>ditto</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L279](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/common/multichannel/registrar.go#L279)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/etcdraft/chain.go#L226](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/etcdraft/chain.go#L226)<br><strong>Comment</strong>: <pre>Exposed method should start with method name</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/etcdraft/chain.go#L226](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/etcdraft/chain.go#L226)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>wouldn't this panic the caller, when a etcdraft OSN that does not serve a certain channel accidentally receives a mig config?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>Hmm... This inactive chain is only used in Raft OSN, in which mig config updates are not used (right now...); that is the theory... No one should ever ask the status of an inactive chain...</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>don't users need to send mig-done after reboot? doesn't that perform some checks based on status?

also, if this is really the case:

> No one should ever ask the status of an inactive chain.

i suggest we panic here</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>I does, but at that stage there are no inactive chains. the consenter set of all chains is the same then. I don't mind putting a panic there, though...</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>> the consenter set of all chains is the same then

why? cannot we have a subnet for app channel?

>  I don't mind putting a panic there, though...

then let's do that</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>it is a design choice to simplify things. The user can reconfigure and spread his chains later.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>I don't really follow. What if user submits a mig config update, which does *not* contain all OSNs, to an app channel?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>The rational for that decision is explained in the design document. This is not the place to discuss it. Nevertheless, what I plan to do is to enforce during COMMIT that the ConsensusType.Metadata on all CONTEXT updates and the COMMIT are the same. If it is not, the commit is rejected. The user will have to abort and start over. It is well documented that all metadata should be the same. the user can reconfigure later.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/inactive/inactive_chain.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/inactive/inactive_chain.go#L49)<br><strong>Comment</strong>: <pre>After consulting Yacov we decided to do:
return &migration.StatusImpl{}
Which is by default state=NONE context=0.
We do this to minimize the chance of panic.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L239](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L239)<br><strong>Comment</strong>: <pre>we are allowing other config updates during migration? if we have a config block in between, wouldn't it violate `<R, COMMIT, x> |x+1` in your design doc? basically for the sake of simplicity, i suggest we ONLY allow mig type config during migration.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L239](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L239)<br><strong>Comment</strong>: <pre>No we are not allowing unrelated config updates in migration. This is enforced by the migration.Step interface: once in START, it will only accept COMMIT|ABORT on system channel, or CONTEXT on standard channel. 

However, right now there is nothing to prevent the config update to have additional updates outside the ConsensusType hierarchy level. This should probably be enforced in the channelconfig/Bundle somewhere. I'll open a separate JIRA for that, since I think it is of lower priority right now (FAB-13866).</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L241](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L241)<br><strong>Comment</strong>: <pre>if chain.ConsenterSupport.IsSystemChannel() && chain.ConsenterSupport.IsSystemChannel() {</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L241](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L241)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L244](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L244)<br><strong>Comment</strong>: <pre>missing verb?</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L244](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L244)<br><strong>Comment</strong>: <pre>no need to add channel here. this info is added by caller</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L244](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L244)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L249](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L249)<br><strong>Comment</strong>: <pre>ditto</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L249](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L249)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L899](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L899)<br><strong>Comment</strong>: <pre>if we are committing a MIG-COMMIT, and node crashes after this line (genesis file is replaces) and before `commitConfigMsg`. Upon next reboot, how does it find out its latest state?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L899](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L899)<br><strong>Comment</strong>: <pre>Valid observation. This will be addressed in this JIRA: FAB-13719</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L980](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L980)<br><strong>Comment</strong>: <pre>see comment at line 239</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L980](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L980)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L988](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L988)<br><strong>Comment</strong>: <pre>then why do we check?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L988](https://github.com/hyperledger-gerrit-archive/fabric/blob/1db193eaf31443795c5533393d061dfd8f3d3265/orderer/consensus/kafka/chain.go#L988)<br><strong>Comment</strong>: <pre>In the next CR this changed to "should never happen"...</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/27/2019, 8:46:45 AM<br><strong>UnmergedRevision</strong>: [952c6b6cc400ec01d179ef204da0aab843342c38](https://github.com/hyperledger-gerrit-archive/fabric/commit/952c6b6cc400ec01d179ef204da0aab843342c38)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 8:55:52 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/27/2019, 10:34:22 AM<br><strong>UnmergedRevision</strong>: [e3970201b0f621698dc81b984752dcdd02e7d9e2](https://github.com/hyperledger-gerrit-archive/fabric/commit/e3970201b0f621698dc81b984752dcdd02e7d9e2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 10:42:54 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 10:42:54 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/28/2019, 2:01:08 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 11:13:19 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/28/2019, 1:25:22 AM<br><strong>UnmergedRevision</strong>: [9d438b423ab426a30d37c62a9e01b1f394bf256d](https://github.com/hyperledger-gerrit-archive/fabric/commit/9d438b423ab426a30d37c62a9e01b1f394bf256d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 10:42:54 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 10:42:54 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/31/2019, 2:55:42 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 11:13:19 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 1/31/2019, 11:50:21 AM<br><strong>UnmergedRevision</strong>: [1622adec01ee0d362a9f48351efbf89d3b04b09e](https://github.com/hyperledger-gerrit-archive/fabric/commit/1622adec01ee0d362a9f48351efbf89d3b04b09e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 10:42:54 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 10:42:54 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/3/2019, 4:26:11 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/27/2019, 11:13:19 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L120)<br><strong>Comment</strong>: <pre>IMO migrationFSM makes more sense here :)</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L120)<br><strong>Comment</strong>: <pre>I'll rename it in the CR that relates to FAB-13247.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L123](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L123)<br><strong>Comment</strong>: <pre>It has to start with "MigrationStatus".</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L123](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L123)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L219](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L219)<br><strong>Comment</strong>: <pre>can you please explain what exactly are you checking here?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L219](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L219)<br><strong>Comment</strong>: <pre>If migration has started - from START till COMMIT (including), we're blocking incoming regular TXs. In the system channel this is START|COMMIT, in the standard channel this is START|CONTEXT.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L899](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L899)<br><strong>Comment</strong>: <pre>errors.Wrap() also not sure, but you might want also add channel name here.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L899](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L899)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L925](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L925)<br><strong>Comment</strong>: <pre>probably add a warning message to outline migration is disabled by capabilities?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L925](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L925)<br><strong>Comment</strong>: <pre>I prefer not to burden the user each time here, on every tx, there are warnings/info when the node starts</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L930](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L930)<br><strong>Comment</strong>: <pre>you might consider to use 

  utils.UnmarshalPayloadOrPanic()

instead.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L930](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L930)<br><strong>Comment</strong>: <pre>Good idea</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L939](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L939)<br><strong>Comment</strong>: <pre>You also have:

  utils.UnmarshalChannelHeaderOrPanic()</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L939](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L939)<br><strong>Comment</strong>: <pre>Good idea</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1257](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1257)<br><strong>Comment</strong>: <pre>type</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1257](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1257)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1266](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1266)<br><strong>Comment</strong>: <pre>errors.Errorf()</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1266](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1266)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1270](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1270)<br><strong>Comment</strong>: <pre>errors.Errorf()</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1270](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1270)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1275](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1275)<br><strong>Comment</strong>: <pre>errors.Errorf()</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1275](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1275)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1283](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1283)<br><strong>Comment</strong>: <pre>why not simply

   return  chdr.Type == cb.HeaderType_ORDERER_TRANSACTION, nil

?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1283](https://github.com/hyperledger-gerrit-archive/fabric/blob/1622adec01ee0d362a9f48351efbf89d3b04b09e/orderer/consensus/kafka/chain.go#L1283)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 2/12/2019, 7:25:04 AM<br><strong>UnmergedRevision</strong>: [ee68ffba6ba9b8959348da065931f466e9b7755f](https://github.com/hyperledger-gerrit-archive/fabric/commit/ee68ffba6ba9b8959348da065931f466e9b7755f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/12/2019, 7:32:25 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/12/2019, 7:32:25 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/12/2019, 8:17:49 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/12/2019, 8:07:07 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/blockwriter_test.go#L160](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/blockwriter_test.go#L160)<br><strong>Comment</strong>: <pre>please remove, as this isn't related to the change set.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/blockwriter_test.go#L160](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/blockwriter_test.go#L160)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/blockwriter_test.go#L179](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/blockwriter_test.go#L179)<br><strong>Comment</strong>: <pre>This is not part of the JIRA, and not related to the code changed. 
Please remove this in some later change set.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/blockwriter_test.go#L179](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/blockwriter_test.go#L179)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/chainsupport.go#L32)<br><strong>Comment</strong>: <pre>this is obvious... I think you should remove this.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/chainsupport.go#L32)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L229](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/registrar.go#L229)<br><strong>Comment</strong>: <pre>Now someone new to the codebase might actually understand the code better</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L229](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/registrar.go#L229)<br><strong>Comment</strong>: <pre>;-)</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L282](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/registrar.go#L282)<br><strong>Comment</strong>: <pre>I'd apply de-morgan here to make this a DNF statement, but maybe that's just me.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L282](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/registrar.go#L282)<br><strong>Comment</strong>: <pre>I read it like this: what's inside the () is what we expect; if it is not true, error.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L289](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/registrar.go#L289)<br><strong>Comment</strong>: <pre>better to check the == and do continue instead.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L289](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/common/multichannel/registrar.go#L289)<br><strong>Comment</strong>: <pre>It is the same. This form saves a line, your form saves indentation. 
But, I changed it.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L85](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/consensus/kafka/chain.go#L85)<br><strong>Comment</strong>: <pre>the newly introduced code isn't covered by UTs... is there a FAB for it?</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L85](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/consensus/kafka/chain.go#L85)<br><strong>Comment</strong>: <pre>Yes, this will be covered by this JIRA: FAB-13246</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L964](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/consensus/kafka/chain.go#L964)<br><strong>Comment</strong>: <pre>nope, we should never unmarshal something or panic. 
MarshalOrPanic is fine, but UnmarshalOrPanic is not because a client might send you a bad config update.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L964](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/consensus/kafka/chain.go#L964)<br><strong>Comment</strong>: <pre>This is post ordering, after consuming from Kafka. Any error unmarshaling here indicates a severe bug, not a user error. The payload had been Unmarshaled and validated in the broadcast phase, and any user error should have been filtered out there; nothing that fails to unmarshal should be allowed into Kafka.
I think it is better to panic than to create a potential fork here; this is what the blockwriter does too.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L964](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/consensus/kafka/chain.go#L964)<br><strong>Comment</strong>: <pre>And yet, this is:

1) Bad practice to panic upon bad input
2) Bad from a pedagogical aspect - someone might read this code and not understand the nuance, and re-use it in a forbidden way.

Please change :)

>  this is what the blockwriter does too.

Can you please link where? In case you have time, of course.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L964](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/consensus/kafka/chain.go#L964)<br><strong>Comment</strong>: <pre>https://github.com/hyperledger/fabric/blob/master/orderer/common/multichannel/blockwriter.go#L99

If you compare the panic text message, you will find out that I learned from the masters that wrote the blockwriter.go  ;-)  (which means that the pedagogical aspect is basically correct).

If the new code was not there (before my changes), this kind of envelope would have gone into the blockwriter.WriteConfigBlock() and panicked there. When I added this code, my goal was to avoid changing the server's behavior in such cases. Hence I mimicked the blockwriters response, here.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L1002](https://github.com/hyperledger-gerrit-archive/fabric/blob/ee68ffba6ba9b8959348da065931f466e9b7755f/orderer/consensus/kafka/chain.go#L1002)<br><strong>Comment</strong>: <pre>but this is as switch, and you override it in the next line.</pre></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 2/13/2019, 3:22:15 AM<br><strong>UnmergedRevision</strong>: [def67d662b11a4201653bffd40186cd6b8483370](https://github.com/hyperledger-gerrit-archive/fabric/commit/def67d662b11a4201653bffd40186cd6b8483370)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/13/2019, 3:31:01 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/13/2019, 3:31:01 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/13/2019, 4:13:40 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/13/2019, 5:01:01 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/13/2019, 4:29:30 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L284](https://github.com/hyperledger-gerrit-archive/fabric/blob/def67d662b11a4201653bffd40186cd6b8483370/orderer/common/multichannel/registrar.go#L284)<br><strong>Comment</strong>: <pre>I think this message could be a bit more informative, since you know exactly what is going on here, rather than returning a generic message of current vs expected.</pre><strong>Commenter</strong>: Yoav Tock - tock@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L284](https://github.com/hyperledger-gerrit-archive/fabric/blob/def67d662b11a4201653bffd40186cd6b8483370/orderer/common/multichannel/registrar.go#L284)<br><strong>Comment</strong>: <pre>You are probably correct. I'll fix it in FAB-13247, where the registrar migration methods are changing somewhat anyway.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain.go#L231](https://github.com/hyperledger-gerrit-archive/fabric/blob/def67d662b11a4201653bffd40186cd6b8483370/orderer/consensus/kafka/chain.go#L231)<br><strong>Comment</strong>: <pre>this is not needed in returned error.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/kafka/chain_test.go#L28](https://github.com/hyperledger-gerrit-archive/fabric/blob/def67d662b11a4201653bffd40186cd6b8483370/orderer/consensus/kafka/chain_test.go#L28)<br><strong>Comment</strong>: <pre>delete this line or move new fabric import to the group above, to preserve consistent import format</pre></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 2/14/2019, 5:52:45 AM<br><strong>UnmergedRevision</strong>: [969b76329a10bfa30ad35459a2631ef17dacdb6b](https://github.com/hyperledger-gerrit-archive/fabric/commit/969b76329a10bfa30ad35459a2631ef17dacdb6b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/14/2019, 7:10:41 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/14/2019, 7:10:41 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/14/2019, 7:50:54 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/14/2019, 9:45:34 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/14/2019, 7:02:03 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 2/17/2019, 4:08:01 AM<br><strong>UnmergedRevision</strong>: [ed0ceb4eef3dccd256fe50397cf0266a53da27a6](https://github.com/hyperledger-gerrit-archive/fabric/commit/ed0ceb4eef3dccd256fe50397cf0266a53da27a6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/17/2019, 4:12:59 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Uploader</strong>: Yoav Tock - tock@il.ibm.com<br><strong>Created</strong>: 2/17/2019, 5:55:32 AM<br><strong>GitHubMergedRevision</strong>: [4950eddfb23aebecb6ad32be22be0f06caa6b88a](https://github.com/hyperledger-gerrit-archive/fabric/commit/4950eddfb23aebecb6ad32be22be0f06caa6b88a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/17/2019, 6:02:54 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/17/2019, 6:02:54 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/17/2019, 8:52:37 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/17/2019, 6:31:07 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 2/18/2019, 3:59:29 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 2/18/2019, 3:59:36 AM<br><br><strong>Approver</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Approved</strong>: 2/17/2019, 6:22:02 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>