<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 14091<br><strong>Subject</strong>: [FAB-6159] Allow pluggable auth and decoration handlers<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 10/2/2017, 3:38:46 PM<br><strong>LastUpdated</strong>: 10/6/2017, 7:04:56 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-6159] Allow pluggable auth and decoration handlers

Change-Id: I621c9beb986cf09029bb08ec3dbdd577b55310e1
Signed-off-by: Divyank Katira <Divyank.Katira@securekey.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/2/2017, 3:38:46 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2017, 3:38:53 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13174/ (1/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2017, 3:40:22 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17503/ (2/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2017, 3:41:04 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9073/ (3/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2017, 3:41:37 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/263/ (4/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2017, 3:42:20 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11502/ (5/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/2/2017, 4:51:04 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11502/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11502/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11502

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17503/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17503

https://jenkins.hyperledger.org/job/fabric-verify-z/13174/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13174

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9073/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9073

https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/263/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/263</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/2/2017, 4:56:09 PM<br><strong>Message</strong>: <pre>Patch Set 1:

NOTE: CI will not pass until the fabric-verify-behave-x86_64 job is upgraded to Go 1.9. I have requested this.</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/5/2017, 2:05:40 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2: Patch Set 1 was rebased.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 2:05:50 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13323/ (1/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 2:07:33 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9211/ (2/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 2:07:40 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17644/ (3/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 2:07:43 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/388/ (4/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 2:08:16 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11639/ (5/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 3:15:19 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9211/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9211

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17644/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17644

https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/388/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/388

https://jenkins.hyperledger.org/job/fabric-verify-z/13323/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13323

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11639/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11639</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 10/5/2017, 4:03:34 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)

Looks pretty good. Nice job.
See small nit below.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 10/5/2017, 4:21:55 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(1 comment)

Actually I think we can improve the test, see below:</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/5/2017, 4:23:08 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:23:18 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13324/ (1/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:24:30 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9212/ (2/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:24:42 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17645/ (3/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:25:10 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/389/ (4/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:27:36 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11640/ (5/5)</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/5/2017, 4:58:17 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:58:23 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13325/ (1/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:59:06 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17645/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17645/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17645

https://jenkins.hyperledger.org/job/fabric-verify-z/13324/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-z/13324/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13324

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9212/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9212

https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/389/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/389

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11640/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11640</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 4:59:34 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9213/ (2/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 5:00:00 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17646/ (3/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 5:00:43 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/390/ (4/5)</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/5/2017, 5:02:09 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 5:03:13 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11641/ (5/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 6:16:13 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-z/13325/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-z/13325/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13325

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9213/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9213

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17646/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17646

https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/390/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/390

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11641/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11641</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/5/2017, 6:17:47 PM<br><strong>Message</strong>: <pre>Patch Set 4:

> Patch Set 4: Verified-1
> 
> Build Failed 
> 
> https://jenkins.hyperledger.org/job/fabric-verify-z/13325/ : FAILURE
> 
> No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-z/13325/ )
> 
> Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13325
> 
> https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9213/ : SUCCESS
> 
> Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9213
> 
> https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17646/ : SUCCESS
> 
> Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17646
> 
> https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/390/ : SUCCESS
> 
> Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/390
> 
> https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11641/ : SUCCESS
> 
> Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11641

rebuild-z</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 6:18:02 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13326/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2017, 7:05:02 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-z/13326/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13326</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 10/6/2017, 2:29:45 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 9:44:00 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(1 comment)

Generally I'm ok with this, but not sure about the use of ".so" extension to determine whether or not this is a plugin.  I'm trying to come up with a better option.  If I fail, will +2 and revisit.</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 10:28:06 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 10:28:15 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13336/ (1/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 10:29:27 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9222/ (2/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 10:29:27 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17655/ (3/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 10:30:09 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/399/ (4/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 10:31:36 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11650/ (5/5)</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 10:33:07 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 10:54:47 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(2 comments)

So I'd like to actually avoid using a file extension to determine whether or not this is a plugin.   I'm happy to make the modifications if it is easier?</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 11:17:32 AM<br><strong>Message</strong>: <pre>Patch Set 5:

> Patch Set 5: Code-Review-1
> 
> (2 comments)
> 
> So I'd like to actually avoid using a file extension to determine whether or not this is a plugin.   I'm happy to make the modifications if it is easier?

This does seem cleaner. I'll push another patch set soon.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 11:22:10 AM<br><strong>Message</strong>: <pre>Patch Set 5:

> > Patch Set 5: Code-Review-1
 > >
 > > (2 comments)
 > >
 > > So I'd like to actually avoid using a file extension to determine
 > whether or not this is a plugin.   I'm happy to make the
 > modifications if it is easier?
 > 
 > This does seem cleaner. I'll push another patch set soon.

This might help:

func TestHandlerMap(t *testing.T) {

	configKey := "peer.handlers"
	//envConfigKey := "CORE_PEER_HANDLERS_AUTHFILTERS"

	type filter struct {
		Name    string `mapstructure:"name" yaml:"name"`
		Library string `mapstructure:"library" yaml:"library"`
	}

	type handler struct {
		AuthFilters []*filter `mapstructure:"authFilters" yaml:"authFilters"`
                Decorators []*filter `mapstructure:"decorators" yaml:"decorators"`
	}

	config1 := `
peer:
  handlers:
    authFilters:
      -
        name: filter1
        library: /opt/lib/filter1.so
      -
        name: filter2
`
	viper.SetConfigType("yaml")
	err := viper.ReadConfig(bytes.NewBuffer([]byte(config1)))
	assert.NoError(t, err)
	t.Logf("%+v", viper.Get(configKey))
	//var filters []*filter
	var h *handler
	viperutil.EnhancedExactUnmarshalKey(configKey, &h)

	t.Logf("%+v", h)

}</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 11:38:09 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17655/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17655/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17655

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9222/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9222

https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/399/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/399

https://jenkins.hyperledger.org/job/fabric-verify-z/13336/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13336

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11650/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11650</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 2:12:58 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 2:13:05 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13359/ (1/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 2:16:51 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9245/ (2/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 2:17:05 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17678/ (3/5)</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 2:18:07 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 2:26:25 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/422/ (4/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 2:26:30 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11673/ (5/5)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 3:00:07 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9245/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9245/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9245

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17678/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17678/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17678

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11673/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11673/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11673

https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/422/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/422

https://jenkins.hyperledger.org/job/fabric-verify-z/13359/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13359</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 3:24:45 PM<br><strong>Message</strong>: <pre>Patch Set 6:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 3:24:56 PM<br><strong>Message</strong>: <pre>Patch Set 6: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/13361/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 3:26:33 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9247/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 3:26:34 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17680/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 3:27:04 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11675/ (4/4)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 4:03:50 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+1

LGTM - waiting for CI</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 4:39:39 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/9247/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/9247

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17680/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17680

https://jenkins.hyperledger.org/job/fabric-verify-z/13361/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-z/13361

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/11675/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/11675</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 10/6/2017, 4:43:34 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+1</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 10/6/2017, 4:56:02 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review-1

(4 comments)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 10/6/2017, 4:58:41 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 5:04:29 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 5:06:15 PM<br><strong>Message</strong>: <pre>Patch Set 7:

> Patch Set 6:
> 
> (1 comment)

Updated example to resemble a factory method</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 5:07:07 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17682/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 5:07:38 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/425/ (2/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 10/6/2017, 5:31:38 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review+2

Perfect</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 5:41:15 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/426/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2017, 6:42:19 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/17682/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/17682

https://jenkins.hyperledger.org/job/fabric-verify-two-staged-ci-check-x86_64/426/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-1/fabric-verify-two-staged-ci-check-x86_64/426</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 7:04:54 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/6/2017, 7:04:56 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Gari Singh</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Divyank Katira - Divyank.Katira@securekey.com<br><strong>Uploader</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Created</strong>: 10/2/2017, 3:38:46 PM<br><strong>UnmergedRevision</strong>: 7cd01c2102a84d76a4cf8fdb0ec22b8348280511<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/2/2017, 4:51:04 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Divyank Katira - Divyank.Katira@securekey.com<br><strong>Uploader</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Created</strong>: 10/5/2017, 2:05:40 PM<br><strong>UnmergedRevision</strong>: ef4689199966665e0e3f6547751702c63d978ce3<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/5/2017, 3:15:19 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 10/5/2017, 4:21:55 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Divyank Katira - Divyank.Katira@securekey.com<br><strong>Uploader</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Created</strong>: 10/5/2017, 4:23:08 PM<br><strong>UnmergedRevision</strong>: eceb2c3ccaf00ab8092d6d39093b27de4bf28977<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/5/2017, 4:59:06 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Divyank Katira - Divyank.Katira@securekey.com<br><strong>Uploader</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Created</strong>: 10/5/2017, 4:58:17 PM<br><strong>UnmergedRevision</strong>: c0b0150f776be38cb8ca5a1bb563a26e87f85a05<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/5/2017, 7:05:02 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 10/6/2017, 2:29:45 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 10/6/2017, 9:44:00 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Divyank Katira - Divyank.Katira@securekey.com<br><strong>Uploader</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Created</strong>: 10/6/2017, 10:28:06 AM<br><strong>UnmergedRevision</strong>: e8ff13d9855cb9ba548b2c01fa68c228c8bbc720<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/6/2017, 11:38:09 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 10/6/2017, 10:54:47 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Divyank Katira - Divyank.Katira@securekey.com<br><strong>Uploader</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Created</strong>: 10/6/2017, 2:12:58 PM<br><strong>UnmergedRevision</strong>: 77bb2c03f8dc89e7be61f50987bb8e4f97bddaf5<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/6/2017, 4:39:39 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 10/6/2017, 4:43:34 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 10/6/2017, 4:56:02 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 10/6/2017, 4:03:50 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Divyank Katira - Divyank.Katira@securekey.com<br><strong>Uploader</strong>: Divyank Katira - divyanktk@gmail.com<br><strong>Created</strong>: 10/6/2017, 5:04:29 PM<br><strong>GitHubMergedRevision</strong>: [fbbe6e424e5e3f0cc023cd9c1c35988ab3ab80b6](https://github.com/hyperledger/fabric/commit/fbbe6e424e5e3f0cc023cd9c1c35988ab3ab80b6)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/6/2017, 6:42:19 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 10/6/2017, 5:31:38 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 10/6/2017, 7:04:54 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Gari Singh<br><strong>Merged</strong>: 10/6/2017, 7:04:56 PM<br><br></blockquote>