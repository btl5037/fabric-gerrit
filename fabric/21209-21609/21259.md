<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 21259<br><strong>Subject</strong>: [FAB-9649] Peer CLI invoke wait for event with txid<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 5/1/2018, 11:57:40 AM<br><strong>LastUpdated</strong>: 5/16/2018, 3:23:09 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-9649] Peer CLI invoke wait for event with txid

This CR adds the ability to connect the CLI to the
deliver filtered service and wait for an event
containing the txid for a given chaincode invocation.

Change-Id: I8d0694e621467a544fb4c8cda7b880096e677f25
Signed-off-by: Will Lahti <wtlahti@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/1/2018, 11:57:40 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 11:59:18 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1079/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 11:59:39 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:02:07 PM<br><strong>Message</strong>: <pre>Patch Set 1: F1-VerifyBuild-1

$CHECKS_CMD are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:02:38 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1079/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1079/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1079</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/1/2018, 12:09:12 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:11:26 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1080/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:11:47 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:16:17 PM<br><strong>Message</strong>: <pre>Patch Set 2: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:16:38 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1080/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1080</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:18:14 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/706/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:18:43 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:22:41 PM<br><strong>Message</strong>: <pre>Patch Set 2: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:25:41 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1479/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:26:15 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:42:54 PM<br><strong>Message</strong>: <pre>Patch Set 2: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/1/2018, 12:43:32 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/706/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/706

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1479/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1479</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 5/3/2018, 12:23:24 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)

Looks generally pretty good, one question</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/3/2018, 2:17:38 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:20:12 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1224/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:20:29 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/3/2018, 2:23:55 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)

Addressed the timeout comment and improved the actual test coverage (functionally speaking, not in terms of code percentage) by adding a success case test where a deliver client first returns a block without the txid and then returns one with the txid.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:25:38 PM<br><strong>Message</strong>: <pre>Patch Set 3: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:26:03 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1224/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1224</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:28:47 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/803/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:29:05 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:33:19 PM<br><strong>Message</strong>: <pre>Patch Set 3: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:38:07 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1607/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:38:26 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:57:18 PM<br><strong>Message</strong>: <pre>Patch Set 3: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 2:57:44 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1607/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1607/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1607

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/803/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/803</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/3/2018, 3:02:15 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Run UnitTest

FAIL	github.com/hyperledger/fabric/gossip/gossip	435.805s</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 3:07:16 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1608/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 3:07:39 PM<br><strong>Message</strong>: <pre>Patch Set 3: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 3:22:34 PM<br><strong>Message</strong>: <pre>Patch Set 3: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/3/2018, 3:23:16 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1608/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1608</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 5/3/2018, 4:35:07 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/7/2018, 1:59:10 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 5/7/2018, 5:14:11 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/7/2018, 7:17:16 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/7/2018, 7:19:17 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)

Ah, very nice. I didn't think of that. I believe I implemented it the way you described but let me know if I missed anything.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:20:53 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1416/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:21:13 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:27:09 PM<br><strong>Message</strong>: <pre>Patch Set 4: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:27:33 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1416/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1416</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:30:31 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/946/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:32:59 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:46:58 PM<br><strong>Message</strong>: <pre>Patch Set 4: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:48:29 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1712/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 7:51:09 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 8:04:44 PM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2018, 8:05:08 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/946/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/946

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1712/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1712</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 5/7/2018, 8:09:17 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/8/2018, 4:22:10 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/8/2018, 4:36:19 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(3 comments)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/8/2018, 4:40:26 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/8/2018, 10:37:52 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(4 comments)</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/8/2018, 10:54:50 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/9/2018, 11:53:09 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/9/2018, 11:55:35 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 11:56:01 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1502/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 11:56:23 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:01:22 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:01:47 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1502/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1502</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:03:11 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1013/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:03:32 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:14:02 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:16:35 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1756/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:16:57 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:32:07 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/9/2018, 12:32:58 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1013/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/1013

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1756/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1756</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/10/2018, 8:37:38 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(11 comments)

Sorry to dump on at the end. I can help you with these today if you're around.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 9:35:06 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 9:36:28 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1691/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 9:36:47 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting verify build</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 9:36:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 9:37:30 AM<br><strong>Message</strong>: <pre>Patch Set 6: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1691/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1691/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1691</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 9:38:14 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1692/</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 9:46:19 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 9:48:42 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 9:48:44 AM<br><strong>Message</strong>: <pre>Patch Set 8:

No Builds Executed</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 10:10:29 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(7 comments)</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 10:10:43 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Run VerifyBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:10:44 AM<br><strong>Message</strong>: <pre>Patch Set 9:

No Builds Executed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:11:48 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1695/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:12:21 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 10:18:50 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(12 comments)

Better.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:19:23 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:21:58 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1141/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:22:22 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:35:14 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 10:35:30 AM<br><strong>Message</strong>: <pre>Patch Set 9:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:37:15 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1933/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:37:43 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:46:12 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 10:46:49 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1933/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1933/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1933

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1695/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1695

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1141/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/1141</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 11:05:34 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:09:14 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1935/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:09:44 AM<br><strong>Message</strong>: <pre>Patch Set 9: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:25:28 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:25:57 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1935/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1935/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1935</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 11:50:44 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 11:50:56 AM<br><strong>Message</strong>: <pre>Patch Set 10:

(6 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:51:26 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1710/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:51:53 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:59:08 AM<br><strong>Message</strong>: <pre>Patch Set 10: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:59:47 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1710/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1710</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:02:01 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1148/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:02:29 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:13:56 PM<br><strong>Message</strong>: <pre>Patch Set 10: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:14:07 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1943/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:14:36 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:21:53 PM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:22:21 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1943/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1943/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1943

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1148/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/1148</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 12:28:29 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Run UnitTest

FAIL	github.com/hyperledger/fabric/integration/runner	63.499s</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:30:49 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1945/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:31:13 PM<br><strong>Message</strong>: <pre>Patch Set 10: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:37:08 PM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:37:33 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1945/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1945/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1945</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 12:45:37 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Run UnitTest

FAIL	github.com/hyperledger/fabric/integration/runner	56.854s</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:49:06 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1948/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:49:28 PM<br><strong>Message</strong>: <pre>Patch Set 10: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:55:45 PM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 12:56:19 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1948/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1948/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1948</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 3:28:10 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Integration tests shouldn't be running in the unit test phase.. https://jira.hyperledger.org/browse/FAB-10086 should address that.

That said, integration tests shouldn't be failing. That seems to be due to config changes related to pluggable scc.

I recommend rebasing on top of https://gerrit.hyperledger.org/r/21839 if you can.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 3:41:22 PM<br><strong>Message</strong>: <pre>Uploaded patch set 11: Patch Set 10 was rebased.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 3:44:35 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 3:46:55 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1952/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 3:47:16 PM<br><strong>Message</strong>: <pre>Patch Set 11: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 3:59:04 PM<br><strong>Message</strong>: <pre>Patch Set 11: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 3:59:26 PM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1952/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1952</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 11:06:53 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/15/2018, 11:07:31 PM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:09:03 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1730/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:09:34 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:15:43 PM<br><strong>Message</strong>: <pre>Patch Set 12: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:16:05 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1730/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1730</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:18:02 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1163/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:18:29 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:32:15 PM<br><strong>Message</strong>: <pre>Patch Set 12: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:34:06 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1965/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:34:31 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:56:26 PM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/15/2018, 11:56:53 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1965/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1965/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1965

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1163/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/1163</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 1:43:07 AM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+2

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 1:47:40 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1969/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 1:48:12 AM<br><strong>Message</strong>: <pre>Patch Set 12: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 2:03:19 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 2:03:53 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1969/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1969/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1969</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 3:25:07 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(2 comments)</pre><strong>Reviewer</strong>: Ry Jones - ry@linux.com<br><strong>Reviewed</strong>: 5/16/2018, 3:58:45 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Run UnitTest</pre><strong>Reviewer</strong>: Ry Jones - ry@linux.com<br><strong>Reviewed</strong>: 5/16/2018, 3:58:47 AM<br><strong>Message</strong>: <pre>Removed reviewer Ry Jones.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 4:00:58 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1974/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 4:01:20 AM<br><strong>Message</strong>: <pre>Patch Set 12: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 4:15:09 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 4:15:34 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1974/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1974</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/16/2018, 10:44:42 AM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+2</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 10:46:17 AM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+1

(3 comments)

Would like to see a constructor added to simplify mainline but it's okay as is.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 11:27:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 11:28:42 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 11:31:14 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1768/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 11:32:34 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 11:42:50 AM<br><strong>Message</strong>: <pre>Patch Set 13: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 11:43:31 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1768/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1768</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 11:45:50 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1192/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 11:46:22 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:06:09 PM<br><strong>Message</strong>: <pre>Patch Set 13: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:10:00 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2002/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:11:00 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting unit tests</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 12:13:04 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:28:24 PM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:29:22 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2002/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2002/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/2002

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1192/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/1192</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 12:31:15 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Run UnitTest

FAIL	github.com/hyperledger/fabric/core/container/dockercontroller	21.029s</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:34:15 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2005/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:35:43 PM<br><strong>Message</strong>: <pre>Patch Set 13: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:38:09 PM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:38:52 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2005/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2005/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/2005</pre><strong>Reviewer</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 12:44:42 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:50:17 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2007/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 12:51:30 PM<br><strong>Message</strong>: <pre>Patch Set 13: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/16/2018, 12:56:31 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 1:15:00 PM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 1:15:53 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2007/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/2007</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 5/16/2018, 2:33:53 PM<br><strong>Message</strong>: <pre>Patch Set 13: Code-Review+2</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 5/16/2018, 2:34:17 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Christopher Ferris</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 2:36:23 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/2491/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 2:36:46 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/3820/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/16/2018, 3:23:09 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/2491/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/2491

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/3820/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/3820</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/1/2018, 11:57:40 AM<br><strong>UnmergedRevision</strong>: [78693b740e20b3505c348afd8eaab4a8a536ed06](https://github.com/hyperledger-gerrit-archive/fabric/commit/78693b740e20b3505c348afd8eaab4a8a536ed06)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/1/2018, 12:02:07 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/1/2018, 12:09:12 PM<br><strong>UnmergedRevision</strong>: [5e44fca24f6524b15d6359dd1761cffb80ae48f2](https://github.com/hyperledger-gerrit-archive/fabric/commit/5e44fca24f6524b15d6359dd1761cffb80ae48f2)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/1/2018, 12:16:17 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/1/2018, 12:16:17 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/1/2018, 12:22:41 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/1/2018, 12:42:54 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L499](https://github.com/hyperledger-gerrit-archive/fabric/blob/5e44fca24f6524b15d6359dd1761cffb80ae48f2/peer/chaincode/common_test.go#L499)<br><strong>Comment</strong>: <pre>This seems like a fairly long timeout for a test? Is it actually honored? (If not, why set it?)</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L499](https://github.com/hyperledger-gerrit-archive/fabric/blob/5e44fca24f6524b15d6359dd1761cffb80ae48f2/peer/chaincode/common_test.go#L499)<br><strong>Comment</strong>: <pre>Done.</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/3/2018, 2:17:38 PM<br><strong>UnmergedRevision</strong>: [f2ae2a0026cf8388dad0b125b40ec21042483a32](https://github.com/hyperledger-gerrit-archive/fabric/commit/f2ae2a0026cf8388dad0b125b40ec21042483a32)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/3/2018, 2:25:38 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/3/2018, 2:25:38 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/3/2018, 2:33:19 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/3/2018, 3:22:34 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L524](https://github.com/hyperledger-gerrit-archive/fabric/blob/f2ae2a0026cf8388dad0b125b40ec21042483a32/peer/chaincode/common_test.go#L524)<br><strong>Comment</strong>: <pre>Sorry to come back and nit-pick, but, I don't see why you need to ever have the deliver client return? Why not simply have it block forever?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L524](https://github.com/hyperledger-gerrit-archive/fabric/blob/f2ae2a0026cf8388dad0b125b40ec21042483a32/peer/chaincode/common_test.go#L524)<br><strong>Comment</strong>: <pre>With a counterfeiter-generated mock, I'm not sure I can have it block forever. I could increase the delay and have Recv return nil instead of returning a deliver response with a filtered block with no transactions, but I'm not sure what we'd gain by doing that.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L524](https://github.com/hyperledger-gerrit-archive/fabric/blob/f2ae2a0026cf8388dad0b125b40ec21042483a32/peer/chaincode/common_test.go#L524)<br><strong>Comment</strong>: <pre>Talked a little with @Matt about this, that we should not expose ourselves to races by having competing timers, and that we should also not be leaking go routines by preventing a path from completing.  For a ginkgo style test, this usually means creating a channel in the BeforeEach, closing it in the AfterEach (and shadowing it to prevent races).  For non-ginkgo tests, managing the channel lifecycle needs to be done independently, but should still be done.  The TLDR; version is that the best option here is probably to change

 getMockDeliverClientResponseWithDelay(time.Duration)

to be

 getMockDeliverClientResponseWithDelay(chan <-struct{})

Then, for instances where you actually want a timed delay, you may simply pass in a `time.After(x)`, or in a case like this, you may pass in a new channel, then wait until your timeout path has successfully run to close the channel to release those resources.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L524](https://github.com/hyperledger-gerrit-archive/fabric/blob/f2ae2a0026cf8388dad0b125b40ec21042483a32/peer/chaincode/common_test.go#L524)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/7/2018, 7:17:16 PM<br><strong>UnmergedRevision</strong>: [0146f67475e33c75973a1726ed486693c2ce9edc](https://github.com/hyperledger-gerrit-archive/fabric/commit/0146f67475e33c75973a1726ed486693c2ce9edc)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2018, 7:27:09 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2018, 7:27:09 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2018, 7:46:58 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2018, 8:04:44 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 5/7/2018, 8:09:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [peer/common/peerclient.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient.go#L83)<br><strong>Comment</strong>: <pre>this should return concrete type pb.DeliverClient</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient.go#L83)<br><strong>Comment</strong>: <pre>Agreed, it should, but with the way the CLI currently uses the ChaincodeCmdFactory this was the only way I could come up with to allow production code to use the GRPC deliver client and for test code to use a generated mock. 

I discussed this with Matt at the time I was initially coding this and spoke again with him just now. Ideally, we should refactor the CLI so that it not longer uses a factory.  I'm willing to take on that task and can do it either before this is merged or after.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [peer/common/peerclient.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient.go#L131)<br><strong>Comment</strong>: <pre>why do we need this function?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient.go#L131)<br><strong>Comment</strong>: <pre>This is used to add the TLS certificate hash when sending the deliver seek info request (which is needed when mutual TLS is enabled).</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient.go#L131](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient.go#L131)<br><strong>Comment</strong>: <pre>Oh, I see, maybe you're asking why have this in addition to the Certificate() function above? I was following the pattern used to mock the other functions here but getting the certificate is different from getting a client.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L116)<br><strong>Comment</strong>: <pre>while the change is OK, the reason the code is written this way is that there is no reason to call the Endorser() function is there was an error creating the client in the first place.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L116)<br><strong>Comment</strong>: <pre>Ah, I see. Didn't think about that. Switched it back.</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L153](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L153)<br><strong>Comment</strong>: <pre>this is not really a timeout test?
also ... while this test does not hurt, isn't it redundant given we already test this for the embedded type in the core/comm pkg?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L153](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L153)<br><strong>Comment</strong>: <pre>Agreed, I accidentally left the timeout part in the test case name.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L153](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L153)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L160](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L160)<br><strong>Comment</strong>: <pre>this is not really a timeout test?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L160](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L160)<br><strong>Comment</strong>: <pre>Agreed, I accidentally left the timeout part in the test case name.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/peerclient_test.go#L160](https://github.com/hyperledger-gerrit-archive/fabric/blob/0146f67475e33c75973a1726ed486693c2ce9edc/peer/common/peerclient_test.go#L160)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/9/2018, 11:53:09 AM<br><strong>UnmergedRevision</strong>: [ae8653eb5419269d4f68c08627ba0bce1ea40d1f](https://github.com/hyperledger-gerrit-archive/fabric/commit/ae8653eb5419269d4f68c08627ba0bce1ea40d1f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/9/2018, 12:01:22 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/9/2018, 12:01:22 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/9/2018, 12:14:02 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/9/2018, 12:32:07 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 5/10/2018, 8:37:38 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/api/api.go#L37](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/api/api.go#L37)<br><strong>Comment</strong>: <pre>Am I seeing things or are Deliver and DeliverFiltered the exact same interface? If so, why two?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/api/api.go#L37](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/api/api.go#L37)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L114](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L114)<br><strong>Comment</strong>: <pre>NBD, but, why not just pass the literal with the comment "// target generates transaction ID"?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L114](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L114)<br><strong>Comment</strong>: <pre>I just thought it would be clearer to read the code this way, but I don't mind changing it.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L516](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L516)<br><strong>Comment</strong>: <pre>Not something to change here, but, we shouldn't be reading flag vars down here. If it's something the function needs to know, it should be provided by the caller.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L525](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L525)<br><strong>Comment</strong>: <pre>This should be looking for readyCh != nil. Look for what you need, not the config.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L525](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L525)<br><strong>Comment</strong>: <pre>Updated this in a different way based on some refactoring.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L548](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L548)<br><strong>Comment</strong>: <pre>If the caller is supposed to treat this as a receive only channel, the return type should enforce that.
Do you expect the caller to close it? Send errors to it?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L548](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L548)<br><strong>Comment</strong>: <pre>Refactored.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L604](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L604)<br><strong>Comment</strong>: <pre>This is a go routine leak on any error path.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L604](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common.go#L604)<br><strong>Comment</strong>: <pre>Refactored.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L349](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common_test.go#L349)<br><strong>Comment</strong>: <pre>woohoo</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L375](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common_test.go#L375)<br><strong>Comment</strong>: <pre>This is unnecessary. Just use mockDC.DeliverFilteredReturns(nil, errors.New("banana")).
Yes, I said "banana" - if it's a mock you want strings you won't see in production so people looking at logs don't get confused trying to figure out problems in prod code when it's really test setup.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L375](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common_test.go#L375)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L388](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common_test.go#L388)<br><strong>Comment</strong>: <pre>Drop the `var err error` and use "g.Eventually(readych).Should(Receive(MatchError("..."))"</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L408](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/chaincode/common_test.go#L408)<br><strong>Comment</strong>: <pre>Use g.Eventually(readyCh).Should(Receive(MatchError("blah")) - applies throughout, really.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/common.go#L38](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/common/common.go#L38)<br><strong>Comment</strong>: <pre>Not for this CR, but, these need to die.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/common/common.go#L38](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae8653eb5419269d4f68c08627ba0bce1ea40d1f/peer/common/common.go#L38)<br><strong>Comment</strong>: <pre>Agreed.</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/15/2018, 9:35:06 AM<br><strong>UnmergedRevision</strong>: [2d7c2000991d06f35235bb85b9c4e622672e883f](https://github.com/hyperledger-gerrit-archive/fabric/commit/2d7c2000991d06f35235bb85b9c4e622672e883f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 9:37:30 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/15/2018, 9:36:59 AM<br><strong>UnmergedRevision</strong>: [f7e5890834b78abadb093a72ad094aae4cfac3a2](https://github.com/hyperledger-gerrit-archive/fabric/commit/f7e5890834b78abadb093a72ad094aae4cfac3a2)<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/15/2018, 9:46:19 AM<br><strong>UnmergedRevision</strong>: [acaed38c68395d1a691840c801dd488b59f90c1f](https://github.com/hyperledger-gerrit-archive/fabric/commit/acaed38c68395d1a691840c801dd488b59f90c1f)<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/15/2018, 9:48:42 AM<br><strong>UnmergedRevision</strong>: [e2ce0f8e2645c681e0a9c62cc823065bc4057d50](https://github.com/hyperledger-gerrit-archive/fabric/commit/e2ce0f8e2645c681e0a9c62cc823065bc4057d50)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 10:19:23 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 10:19:23 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 10:35:14 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:25:28 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L519](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L519)<br><strong>Comment</strong>: <pre>If you know the number of clients you need, you can make the slice with the appropriate length and use the index (i) to set them. What's here now is a sort of mix-n-match where we make the slice with a length and capacity of 0 and then append to it for each loop.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L519](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L519)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L547](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L547)<br><strong>Comment</strong>: <pre>Much easier to read this logic.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L571](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L571)<br><strong>Comment</strong>: <pre>Try to keep the mutex with the data it's serializing. In this case it's the error - it's certainly not the wait group.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L571](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L571)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L614](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L614)<br><strong>Comment</strong>: <pre>Why do we need the explicit var for df and err? Seems like := would be appropriate.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L614](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L614)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L618](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L618)<br><strong>Comment</strong>: <pre>This error idiom is used at least three times. Seems like it should become a method.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L619](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L619)<br><strong>Comment</strong>: <pre>This works and seems fine. Do you care if  the first error or the last error?

It does seem like the error string is a little off.  I'd expect something like 'error connecting to %s' where the address is at the end.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L640](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L640)<br><strong>Comment</strong>: <pre>Bail fast instead of having the meat of the method in the if block.

if len(dg.Clients) == 0 {
    return
}</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L640](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L640)<br><strong>Comment</strong>: <pre>That scares me. Makes me believe we're falling into wait when we shouldn't.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L640](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L640)<br><strong>Comment</strong>: <pre>Hmm, so nil check before calling wait and then just check the length of the clients here?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L640](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L640)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L651](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L651)<br><strong>Comment</strong>: <pre>errors.WithMessage or errors.Wrap?</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L651](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L651)<br><strong>Comment</strong>: <pre>Agreed. This is a vestige of the previous design and including an array of errors instead of just one.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L651](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L651)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L671](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L671)<br><strong>Comment</strong>: <pre>Same comment about placement of the address.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L671](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L671)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L680](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L680)<br><strong>Comment</strong>: <pre>really don't like to see new lines in log messages.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L680](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L680)<br><strong>Comment</strong>: <pre>Oops, this is a vestige of my initial trial runs in the CLI when I was just printing the message instead of logging it. Good catch.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L680](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common.go#L680)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common_test.go#L357](https://github.com/hyperledger-gerrit-archive/fabric/blob/e2ce0f8e2645c681e0a9c62cc823065bc4057d50/peer/chaincode/common_test.go#L357)<br><strong>Comment</strong>: <pre>nit - inconsistent formatting.</pre></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/15/2018, 11:50:44 AM<br><strong>UnmergedRevision</strong>: [371cdb9a488c4508b5b89a5c8bba10c02c3ce797](https://github.com/hyperledger-gerrit-archive/fabric/commit/371cdb9a488c4508b5b89a5c8bba10c02c3ce797)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:59:08 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:59:08 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 12:13:56 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 12:55:45 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/15/2018, 3:41:22 PM<br><strong>UnmergedRevision</strong>: [13c574a87a8e81aa2f399ad08fa64b7eabdce67a](https://github.com/hyperledger-gerrit-archive/fabric/commit/13c574a87a8e81aa2f399ad08fa64b7eabdce67a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:59:08 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:59:08 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 12:13:56 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 3:59:04 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/15/2018, 11:06:53 PM<br><strong>UnmergedRevision</strong>: [870da6e778b3cd9953cb6df6b5e1d9e740014596](https://github.com/hyperledger-gerrit-archive/fabric/commit/870da6e778b3cd9953cb6df6b5e1d9e740014596)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:15:43 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:15:43 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/15/2018, 11:32:15 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/16/2018, 4:15:09 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 5/16/2018, 1:43:07 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 5/16/2018, 10:44:42 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 5/16/2018, 10:46:17 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L533](https://github.com/hyperledger-gerrit-archive/fabric/blob/870da6e778b3cd9953cb6df6b5e1d9e740014596/peer/chaincode/common.go#L533)<br><strong>Comment</strong>: <pre>Suggestion: instead of embedding into the struct, you could use the more idiomatic approach of passing the context as the first argument to methods. If it causes churn, don't bother - just keep it in mind in the future.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L533](https://github.com/hyperledger-gerrit-archive/fabric/blob/870da6e778b3cd9953cb6df6b5e1d9e740014596/peer/chaincode/common.go#L533)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L540](https://github.com/hyperledger-gerrit-archive/fabric/blob/870da6e778b3cd9953cb6df6b5e1d9e740014596/peer/chaincode/common.go#L540)<br><strong>Comment</strong>: <pre>If you will extract this into separate function it will make this peace more readable, wdyt?</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L540](https://github.com/hyperledger-gerrit-archive/fabric/blob/870da6e778b3cd9953cb6df6b5e1d9e740014596/peer/chaincode/common.go#L540)<br><strong>Comment</strong>: <pre>I pretty much agree with Artem. Seems like we ought to have a constructor for most of the first half.</pre><strong>Commenter</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L540](https://github.com/hyperledger-gerrit-archive/fabric/blob/870da6e778b3cd9953cb6df6b5e1d9e740014596/peer/chaincode/common.go#L540)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L703](https://github.com/hyperledger-gerrit-archive/fabric/blob/870da6e778b3cd9953cb6df6b5e1d9e740014596/peer/chaincode/common.go#L703)<br><strong>Comment</strong>: <pre>I think it's a bit of the problem where you serialize only writes, while since error is publicly accessible you are not actually serializing the reads, making this assymetric.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [peer/chaincode/common.go#L703](https://github.com/hyperledger-gerrit-archive/fabric/blob/870da6e778b3cd9953cb6df6b5e1d9e740014596/peer/chaincode/common.go#L703)<br><strong>Comment</strong>: <pre>This isn't intended to be API or externally consumable so I'm not worried about "publicly accessible". It looks like the error is only read after the the go routines are joined by the wait group so a locked accessor doesn't seem necessary.</pre></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Uploader</strong>: Will Lahti - wtlahti@us.ibm.com<br><strong>Created</strong>: 5/16/2018, 11:27:56 AM<br><strong>GitHubMergedRevision</strong>: [37b0db9552a6981808584f54f409123b126dba6c](https://github.com/hyperledger-gerrit-archive/fabric/commit/37b0db9552a6981808584f54f409123b126dba6c)<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 5/16/2018, 2:33:53 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Christopher Ferris<br><strong>Merged</strong>: 5/16/2018, 2:34:17 PM<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/16/2018, 11:42:50 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/16/2018, 11:42:50 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/16/2018, 12:06:09 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/16/2018, 1:15:00 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 5/16/2018, 12:13:04 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 5/16/2018, 12:56:31 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>