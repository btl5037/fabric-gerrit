<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 30811<br><strong>Subject</strong>: [FAB-15181] Introduce consensus.MetadataValidator<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 4/8/2019, 9:02:51 AM<br><strong>LastUpdated</strong>: 6/27/2019, 9:39:53 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-15181] Introduce consensus.MetadataValidator

This CR introduces a consensus.MetadataValidator interface that must be
implemented by a consensus type implementation to validate updates to
its metadata. We also provide a no-op implementation that can be used by
consensus types that do not need any such validation (like solo and
kafka). The MetadataValidator is independent of the Consenter or the
Chain implementation since given the old metadata we should be able to
validate a new metadata without need for any further state information.

Change-Id: Ifcea866a096d97c1fd858f2689362b91fc028d03
Signed-off-by: Adarsh Saraf <adarshsaraf123@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 4/8/2019, 9:02:51 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/8/2019, 9:10:37 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/12917/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/8/2019, 9:11:04 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/8/2019, 9:11:05 AM<br><strong>Message</strong>: <pre>Patch Set 1:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/8/2019, 9:11:48 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/12917/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/12917</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 4/9/2019, 1:35:32 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Shouldn't ValidateConsensusMetadata be implemented at Chain instead of Consenter?</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 4/9/2019, 1:47:36 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 4/9/2019, 2:47:40 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Spoke to Jay offline and answered both the comments.</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 4/11/2019, 12:21:43 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 4/15/2019, 6:20:33 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 4/15/2019, 6:23:39 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2019, 6:24:08 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13057/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2019, 6:24:27 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2019, 6:24:28 AM<br><strong>Message</strong>: <pre>Patch Set 2:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/15/2019, 6:25:07 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13057/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13057</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 4/17/2019, 3:26:38 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:31:07 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13129/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:31:28 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:36:13 PM<br><strong>Message</strong>: <pre>Patch Set 3: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:36:53 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13129/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13129</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:38:42 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11572/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:39:07 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:39:27 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8241/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 3:39:51 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 4:03:49 PM<br><strong>Message</strong>: <pre>Patch Set 3: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 4:23:47 PM<br><strong>Message</strong>: <pre>Patch Set 3: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/17/2019, 4:24:39 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11572/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/11572

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8241/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8241</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 4/18/2019, 6:44:46 AM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)

I think I failed to understand two things:
- if validation is implemented by consenter instead of chain, how do we check against current consenter set in a channel?
- if standard channel filter is not augmented as well, how does it validate a config change?</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 4/19/2019, 3:08:21 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

I don't fully understand the rationale of adding `MetadataValidator` to consenter. IMO it is straightforward enough to add this interface to `ChainSupport` (which is already the case) and *implement it there*.

I think it's a bit misleading to say "Metadata validation is stateless and agnostic to chain", because we are in fact taking a diff (configupdate), and compare against old config, which is stateful.

I'd consenter should just carry out the duty of being a factory and nothing more. wdyt? @Jason @Adarsh

(simply -1 to draw some attention)</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 4/22/2019, 4:50:10 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 4:51:44 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13224/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 4:52:12 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 4:57:45 AM<br><strong>Message</strong>: <pre>Patch Set 4: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 4:58:41 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13224/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13224</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 4:59:17 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8325/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 4:59:41 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 5:00:01 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11653/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 5:00:25 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 5:26:13 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 5:34:48 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/22/2019, 5:35:29 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8325/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8325

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11653/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/11653</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 4/22/2019, 6:19:53 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/6/2019, 12:55:45 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

(21 comments)

In addition to the minor changes requested in the tests, the unexported interface that is used on an exported API needs to be exported. It looks like Jason and I both commented on that.

Also, Consenter and MetadataValidator seem somewhat orthogonal as two implementations are no-ops. That implies it's an optional interface that can be implemented by a Consenter. As an optional interface, a type check can be performed.

If we ever get to semantic versioning, this will be important as there are no backwards compatible interface changes.</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 5/7/2019, 10:47:24 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

Thanks everyone for the detailed reviews! 
I will take care of the comments as soon as I can get back to this.</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/6/2019, 6:24:49 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 6:24:59 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14354/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 6:25:30 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 6:29:22 AM<br><strong>Message</strong>: <pre>Patch Set 5: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/6/2019, 6:30:03 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14354/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/14354</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/7/2019, 6:55:03 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 6:57:02 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14386/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 6:57:27 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 7:02:24 AM<br><strong>Message</strong>: <pre>Patch Set 6: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 7:03:20 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14386/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/14386</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/7/2019, 3:11:17 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/7/2019, 3:18:00 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/7/2019, 3:22:44 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(22 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:23:54 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14405/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:24:26 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:30:13 PM<br><strong>Message</strong>: <pre>Patch Set 7: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:30:47 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14405/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/14405</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:32:34 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9337/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:32:36 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12750/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:32:57 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:33:02 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 3:43:59 PM<br><strong>Message</strong>: <pre>Patch Set 7: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/7/2019, 4:15:10 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 4:16:56 PM<br><strong>Message</strong>: <pre>Patch Set 7: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/7/2019, 4:17:33 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9337/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/9337

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12750/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12750</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/8/2019, 1:57:51 PM<br><strong>Message</strong>: <pre>Set Work In Progress</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/9/2019, 9:57:06 PM<br><strong>Message</strong>: <pre>Set Ready For Review</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/9/2019, 9:57:06 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)

This change is ready for review.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 6/10/2019, 3:58:15 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(4 comments)

I'd suggest that we hold off merging this, until the subsequent CR is updated, so we know how exactly they play together.</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/10/2019, 5:22:12 AM<br><strong>Message</strong>: <pre>Patch Set 7:

(4 comments)</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/10/2019, 9:28:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:31:04 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14481/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:31:30 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:38:41 AM<br><strong>Message</strong>: <pre>Patch Set 8: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:39:27 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14481/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/14481</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:41:10 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9396/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:41:20 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12828/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:41:39 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:41:51 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 9:53:07 AM<br><strong>Message</strong>: <pre>Patch Set 8: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 10:38:44 AM<br><strong>Message</strong>: <pre>Patch Set 8: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 10:39:50 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9396/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/9396

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12828/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12828</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/10/2019, 3:17:26 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:17:37 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12849/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:17:59 PM<br><strong>Message</strong>: <pre>Patch Set 8: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:28:47 PM<br><strong>Message</strong>: <pre>Patch Set 8: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:29:23 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12849/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12849</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/10/2019, 3:36:27 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Run UnitTest
Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:38:43 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9417/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:39:02 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12850/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:39:09 PM<br><strong>Message</strong>: <pre>Patch Set 8: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 3:39:30 PM<br><strong>Message</strong>: <pre>Patch Set 8: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 4:07:40 PM<br><strong>Message</strong>: <pre>Patch Set 8: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 4:23:39 PM<br><strong>Message</strong>: <pre>Patch Set 8: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/10/2019, 4:24:19 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9417/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/9417

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12850/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12850</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/11/2019, 1:21:49 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:22:00 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14522/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:22:26 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:29:03 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:29:46 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14522/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/14522</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:34:31 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9435/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:34:55 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12873/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:35:01 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 1:35:22 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 2:07:08 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 2:21:53 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 2:22:43 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9435/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/9435

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12873/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12873</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/11/2019, 3:04:38 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:06:25 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14524/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:06:50 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:13:59 AM<br><strong>Message</strong>: <pre>Patch Set 10: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:14:44 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14524/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/14524</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:15:40 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9436/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:16:05 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:16:45 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12874/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:17:13 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:45:21 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:57:14 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/11/2019, 3:58:04 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9436/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/9436

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12874/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12874</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/16/2019, 10:32:20 PM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review+2

(1 comment)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 6/17/2019, 4:55:00 AM<br><strong>Message</strong>: <pre>Patch Set 10: Code-Review+1</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 6/20/2019, 7:34:21 AM<br><strong>Message</strong>: <pre>Patch Set 11: Patch Set 10 was rebased</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 6/20/2019, 7:34:50 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+2</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 6/20/2019, 7:38:38 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+1

I know this CR has been super delayed than it should be... but given the priority of consensus migration, do you mind rebasing on top of https://gerrit.hyperledger.org/r/c/fabric/+/31932 once it's merged (I expect soon)?</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/23/2019, 3:50:48 AM<br><strong>Message</strong>: <pre>Patch Set 11:

> Patch Set 11: Code-Review+1
> 
> I know this CR has been super delayed than it should be... but given the priority of consensus migration, do you mind rebasing on top of https://gerrit.hyperledger.org/r/c/fabric/+/31932 once it's merged (I expect soon)?

Sure I can do that once it is merged.</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/26/2019, 3:11:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:15:07 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14977/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:15:39 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:21:53 AM<br><strong>Message</strong>: <pre>Patch Set 12: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:22:30 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/14977/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/14977</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:24:02 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9843/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:24:38 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:24:47 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/13307/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:25:20 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 3:56:19 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 4:43:50 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 4:44:56 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9843/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/9843

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/13307/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/13307</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/26/2019, 5:35:51 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 5:37:33 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9848/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 5:38:01 AM<br><strong>Message</strong>: <pre>Patch Set 12: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 6:37:56 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/26/2019, 6:38:39 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/9848/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/9848</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 6/26/2019, 10:17:20 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)</pre><strong>Reviewer</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Reviewed</strong>: 6/27/2019, 2:13:38 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(1 comment)

Thanks Artem for reviewing!</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 6/27/2019, 11:50:56 AM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+2</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/27/2019, 1:29:26 PM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review+2</pre><strong>Reviewer</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Reviewed</strong>: 6/27/2019, 1:29:32 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Jason Yellick</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2019, 1:31:55 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/7046/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2019, 1:32:45 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/5734/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 6/27/2019, 1:59:03 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/7046/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/7046

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/5734/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/5734</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 4/8/2019, 9:02:51 AM<br><strong>UnmergedRevision</strong>: [ed154221a53be4d46b1a1f50b358bb891c72ada7](https://github.com/hyperledger-gerrit-archive/fabric/commit/ed154221a53be4d46b1a1f50b358bb891c72ada7)<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 4/15/2019, 6:20:33 AM<br><strong>UnmergedRevision</strong>: [10f94760f3321f0961f24b0433dba76ea2ca8a4c](https://github.com/hyperledger-gerrit-archive/fabric/commit/10f94760f3321f0961f24b0433dba76ea2ca8a4c)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 4/17/2019, 3:26:38 PM<br><strong>UnmergedRevision</strong>: [7875f3c94bc5514e927facdff10d0017870fed47](https://github.com/hyperledger-gerrit-archive/fabric/commit/7875f3c94bc5514e927facdff10d0017870fed47)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/17/2019, 3:36:13 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/17/2019, 3:36:13 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/17/2019, 4:23:47 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/17/2019, 4:03:49 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Approved</strong>: 4/19/2019, 3:08:21 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/consensus.go#L28](https://github.com/hyperledger-gerrit-archive/fabric/blob/7875f3c94bc5514e927facdff10d0017870fed47/orderer/consensus/consensus.go#L28)<br><strong>Comment</strong>: <pre>exported field should be documented</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/consensus.go#L28](https://github.com/hyperledger-gerrit-archive/fabric/blob/7875f3c94bc5514e927facdff10d0017870fed47/orderer/consensus/consensus.go#L28)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/consensus.go#L28](https://github.com/hyperledger-gerrit-archive/fabric/blob/7875f3c94bc5514e927facdff10d0017870fed47/orderer/consensus/consensus.go#L28)<br><strong>Comment</strong>: <pre>This has been removed in a subsequent revision to this CR.</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 4/22/2019, 4:50:10 AM<br><strong>UnmergedRevision</strong>: [ef11c43ab4617c1bb809d06641d07bebb0a2cfce](https://github.com/hyperledger-gerrit-archive/fabric/commit/ef11c43ab4617c1bb809d06641d07bebb0a2cfce)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/22/2019, 4:57:45 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/22/2019, 4:57:45 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/22/2019, 5:34:48 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/22/2019, 5:26:13 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 5/6/2019, 12:55:45 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Approved</strong>: 5/7/2019, 10:47:24 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannel.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannel.go#L32)<br><strong>Comment</strong>: <pre>this needs to be exported - see below</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannel.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannel.go#L32)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannel.go#L54](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannel.go#L54)<br><strong>Comment</strong>: <pre>an exported function with an argument that has an unexported types does not make sense. The interface needs to be exported.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannel.go#L54](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannel.go#L54)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter.go#L42)<br><strong>Comment</strong>: <pre>same comment as above - exported or not - do not mix an exported function that uses unexported types</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter.go#L42)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter.go#L48)<br><strong>Comment</strong>: <pre>this constructor adds little value since all it's doing is wiring dependencies. The more deps you add, the more awkward the positional parameters become... This can be avoided by exporting the fields that hold dependencies and letting the caller wire them.

no action needed for this right now.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter.go#L48)<br><strong>Comment</strong>: <pre>Ack</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L29)<br><strong>Comment</strong>: <pre>please stop adding to the global state - even in test. these need to be removed</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L29)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L79](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L79)<br><strong>Comment</strong>: <pre>If you want a "constructor" for a mock, you need to provide it the deps directly or use a literal; we don't use global state</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L79](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L79)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L111](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L111)<br><strong>Comment</strong>: <pre>we don't use global state; you can use a literal here.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L111](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L111)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L393](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L393)<br><strong>Comment</strong>: <pre>please use a nonsense string so there's no mistaking production errors and test errors.

examples: mango, welp, oh noes</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L393](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L393)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L399](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L399)<br><strong>Comment</strong>: <pre>please use the correct assertion: assert.NoError</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L399](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L399)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L408](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L408)<br><strong>Comment</strong>: <pre>please use the correct assertion: assert.EqualError</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L408](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L408)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L415](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L415)<br><strong>Comment</strong>: <pre>assert on literals when you're using reference types to avoid false-success when the functions under test modify the inputs (intentionally or unintentionally)</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter_test.go#L415](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/msgprocessor/systemchannelfilter_test.go#L415)<br><strong>Comment</strong>: <pre>The idea here was to ensure that the correct values are being wired to the underlying ValidateConsensusMetadata function and not to test if the values are being modified.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport.go#L34)<br><strong>Comment</strong>: <pre>smashing all deps into a "support" : this is an anti-pattern. We should try to stop adding to the mess.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L34](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport.go#L34)<br><strong>Comment</strong>: <pre>Currently, there is no other way to do this unfortunately since it is the ChainSupport object that is being called elsewhere. Therefore marking this as resolved.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L58](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L58)<br><strong>Comment</strong>: <pre>this needs to be removed</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L58](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L58)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L65](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L65)<br><strong>Comment</strong>: <pre>with the addition of logic, it reinforces that this should no longer be a hand-crafted mock. Please open a task to replace this with a generated mock. The change can be done on the top of this stack.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L65](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L65)<br><strong>Comment</strong>: <pre>Created https://jira.hyperledger.org/browse/FAB-15641</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L140](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L140)<br><strong>Comment</strong>: <pre>please use the correct assertion: assert.NoError</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L140](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L140)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L147)<br><strong>Comment</strong>: <pre>assert on literals when you're using reference types to avoid false-success when the functions under test modify the inputs (intentionally or unintentionally)</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L147](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L147)<br><strong>Comment</strong>: <pre>The idea here was to ensure that the correct values are being wired to the underlying ValidateConsensusMetadata function and not to test if the values are being modified.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L150](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L150)<br><strong>Comment</strong>: <pre>please have fakes return error strings that we won't mistake for production code - easy way is to use nonsense - things like fruit names or phrases with words separated by hyphens instead of spaces.  When a test error looks like a production error, it can make issues harder to debug.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L150](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L150)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L158](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L158)<br><strong>Comment</strong>: <pre>do not ignore errors or assign to _.
marshal first with a '*Panic' variant from protoutil or marshal with the production package and follow it with an error assertion.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport_test.go#L158](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/chainsupport_test.go#L158)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L175](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/registrar.go#L175)<br><strong>Comment</strong>: <pre>if you're going to break things into separate lines, please use one line per arg, last arg is followed by a comma, and the closing paren is on its own.

The half-indented style is hard to parse.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/registrar.go#L175](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/common/multichannel/registrar.go#L175)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/consensus.go#L31](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/consensus/consensus.go#L31)<br><strong>Comment</strong>: <pre>why are these bound together? You have two implementations that are no-ops so it's clearly optional.

If it's optional, use a type check and call it as appropriate.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/consensus/consensus.go#L31](https://github.com/hyperledger-gerrit-archive/fabric/blob/ef11c43ab4617c1bb809d06641d07bebb0a2cfce/orderer/consensus/consensus.go#L31)<br><strong>Comment</strong>: <pre>Thanks for pointing this out. I have kept the two separate in a subsequent CR by providing a no-op implementation of the MetadataValidator which can be used for consensus-types that do not need any such validation.</pre></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 6/6/2019, 6:24:49 AM<br><strong>UnmergedRevision</strong>: [1cb8064719394b81b324540ce4d066a2bab60f59](https://github.com/hyperledger-gerrit-archive/fabric/commit/1cb8064719394b81b324540ce4d066a2bab60f59)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/6/2019, 6:29:22 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 6/7/2019, 6:55:03 AM<br><strong>UnmergedRevision</strong>: [3eae8287f270840ece5cbb4622a989db2d960d22](https://github.com/hyperledger-gerrit-archive/fabric/commit/3eae8287f270840ece5cbb4622a989db2d960d22)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2019, 7:02:24 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/3eae8287f270840ece5cbb4622a989db2d960d22/orderer/common/multichannel/chainsupport.go#L83)<br><strong>Comment</strong>: <pre>Perhaps it's just the problematic embedding in this code, but I'm not seeing how this gets overridden by the consensus implementation?  I looked at the next CR in the series, and didn't see anything.

I would have thought that there would be a type assertion on the consenter, that if it implements the MetadataValidator interface, then we use it, otherwise fall back to the no-op?</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/3eae8287f270840ece5cbb4622a989db2d960d22/orderer/common/multichannel/chainsupport.go#L83)<br><strong>Comment</strong>: <pre>Actually I haven't gotten to updating the next CR but the idea is to do what you described.
Also, since you mentioned the embedding to be problematic, could you please elaborate a bit more on your concerns so that I could see if they can be addressed?</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/3eae8287f270840ece5cbb4622a989db2d960d22/orderer/common/multichannel/chainsupport.go#L83)<br><strong>Comment</strong>: <pre>Also, I had originally thought of creating a separate struct that implements the MetadataValidator but, based on your comment, I think it should be okay to let the consenter implement it.</pre><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/3eae8287f270840ece5cbb4622a989db2d960d22/orderer/common/multichannel/chainsupport.go#L83)<br><strong>Comment</strong>: <pre>The embedding is a bit problematic, because we have a habit of producing large interfaces, then embedding multiple types in order to satisfy them.  It can make navigating the code challenging, because it's not always obvious where a call to a method actually resolves.  This isn't your fault, but I thought perhaps I was missing something because of it.

I'll let any other interested parties weigh in on this, but I think having the consenter implement this interface is fine.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/3eae8287f270840ece5cbb4622a989db2d960d22/orderer/common/multichannel/chainsupport.go#L83)<br><strong>Comment</strong>: <pre>I agree that we could just have consenter implement it.

I also advocate for adding `ValidateConsensusMetadata` to consenter interface. If we ever going to truly allow consensus plugin, it's clearer to define the contract as:
"we will call `Validate` on consenter impl while processing incoming config. it's up to implementor to leave it no-op",

comparing to current contract:
"if you implement `Validate` on your consenter impl, we will call it. otherwise, we will call a no-op validator"</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/3eae8287f270840ece5cbb4622a989db2d960d22/orderer/common/multichannel/chainsupport.go#L83)<br><strong>Comment</strong>: <pre>@Jay previous opinions by Jason and Matt have been to keep the MetadataValidator independent of Consenter. While you make a good point with your phrasing of the current contract, we can perhaps continue with leaving the Validator independent.
To sum up the discussions, unless anybody objects further, we are keeping the Validator independent, and require a consenter implementation to optionally implement it. If the consenter does not implement it, then we use the no-op validator that we also provide with this CR.  
(I will take care of updating the comments to represent this.)</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 6/7/2019, 3:18:00 PM<br><strong>UnmergedRevision</strong>: [af82b518db9d53beb62021e3ff08429f23d7f71b](https://github.com/hyperledger-gerrit-archive/fabric/commit/af82b518db9d53beb62021e3ff08429f23d7f71b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2019, 3:30:13 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2019, 3:30:13 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2019, 4:16:56 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/7/2019, 3:43:59 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannel.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/af82b518db9d53beb62021e3ff08429f23d7f71b/orderer/common/msgprocessor/systemchannel.go#L32)<br><strong>Comment</strong>: <pre>why couldn't we reuse interface defined in consensus.go?</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannel.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/af82b518db9d53beb62021e3ff08429f23d7f71b/orderer/common/msgprocessor/systemchannel.go#L32)<br><strong>Comment</strong>: <pre>Because of cyclical import errors.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter.go#L162](https://github.com/hyperledger-gerrit-archive/fabric/blob/af82b518db9d53beb62021e3ff08429f23d7f71b/orderer/common/msgprocessor/systemchannelfilter.go#L162)<br><strong>Comment</strong>: <pre>should we panic here? this should be a programming error</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/msgprocessor/systemchannelfilter.go#L162](https://github.com/hyperledger-gerrit-archive/fabric/blob/af82b518db9d53beb62021e3ff08429f23d7f71b/orderer/common/msgprocessor/systemchannelfilter.go#L162)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L276](https://github.com/hyperledger-gerrit-archive/fabric/blob/af82b518db9d53beb62021e3ff08429f23d7f71b/orderer/common/multichannel/chainsupport.go#L276)<br><strong>Comment</strong>: <pre>i think we should panic here</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L276](https://github.com/hyperledger-gerrit-archive/fabric/blob/af82b518db9d53beb62021e3ff08429f23d7f71b/orderer/common/multichannel/chainsupport.go#L276)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 6/10/2019, 9:28:56 AM<br><strong>UnmergedRevision</strong>: [8ed1901fe62a7e0450b6460c87fde291a0fcd6b7](https://github.com/hyperledger-gerrit-archive/fabric/commit/8ed1901fe62a7e0450b6460c87fde291a0fcd6b7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/10/2019, 9:38:41 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/10/2019, 9:38:41 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/10/2019, 4:23:39 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/10/2019, 4:07:40 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 6/11/2019, 1:21:49 AM<br><strong>UnmergedRevision</strong>: [6af7e29df02ba1da0b6498b4d3a7d8e8c72c30dc](https://github.com/hyperledger-gerrit-archive/fabric/commit/6af7e29df02ba1da0b6498b4d3a7d8e8c72c30dc)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 1:29:03 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 1:29:03 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 2:21:53 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 2:07:08 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 6/11/2019, 3:04:38 AM<br><strong>UnmergedRevision</strong>: [ac596b8cf9c92f7d823555c62545e8f65ac28777](https://github.com/hyperledger-gerrit-archive/fabric/commit/ac596b8cf9c92f7d823555c62545e8f65ac28777)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:13:59 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:13:59 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:57:14 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:45:21 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 6/16/2019, 10:32:20 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Approved</strong>: 6/17/2019, 4:55:00 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L36](https://github.com/hyperledger-gerrit-archive/fabric/blob/ac596b8cf9c92f7d823555c62545e8f65ac28777/orderer/common/multichannel/chainsupport.go#L36)<br><strong>Comment</strong>: <pre>We need to fix the embedding in this file, but I'm okay with this for now.</pre></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 6/20/2019, 7:34:21 AM<br><strong>UnmergedRevision</strong>: [d6dd6dff58932129bdecb7d992080945244a2b89](https://github.com/hyperledger-gerrit-archive/fabric/commit/d6dd6dff58932129bdecb7d992080945244a2b89)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:13:59 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:13:59 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:57:14 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/11/2019, 3:45:21 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 6/16/2019, 10:32:20 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Approved</strong>: 6/20/2019, 7:38:38 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Uploader</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>Created</strong>: 6/26/2019, 3:11:13 AM<br><strong>GitHubMergedRevision</strong>: [9a4412d091b4da4c43866a2987f6443884843023](https://github.com/hyperledger-gerrit-archive/fabric/commit/9a4412d091b4da4c43866a2987f6443884843023)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/26/2019, 3:21:53 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/26/2019, 3:21:53 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/26/2019, 6:37:56 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 6/26/2019, 3:56:19 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jason Yellick - jyellick@us.ibm.com<br><strong>Approved</strong>: 6/27/2019, 1:29:26 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Jason Yellick<br><strong>Merged</strong>: 6/27/2019, 1:29:32 PM<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 6/27/2019, 11:50:56 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L157](https://github.com/hyperledger-gerrit-archive/fabric/blob/9a4412d091b4da4c43866a2987f6443884843023/orderer/common/multichannel/chainsupport.go#L157)<br><strong>Comment</strong>: <pre>I know I'm a bit late here, but I'm wondering why this is not part of the validator? What I mean is this is kind of redundant in case of noop.</pre><strong>Commenter</strong>: Adarsh Saraf - adarshsaraf123@gmail.com<br><strong>CommentLine</strong>: [orderer/common/multichannel/chainsupport.go#L157](https://github.com/hyperledger-gerrit-archive/fabric/blob/9a4412d091b4da4c43866a2987f6443884843023/orderer/common/multichannel/chainsupport.go#L157)<br><strong>Comment</strong>: <pre>You are absolutely right about the redundancy of this piece of code for a noop. However, the redundancy helps us keep a cleaner and focused API and therefore this choice.</pre></blockquote>