<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 31231<br><strong>Subject</strong>: [FAB-14160] Per Org endpoint support for orderer<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 5/6/2019, 11:48:13 AM<br><strong>LastUpdated</strong>: 5/8/2019, 8:00:14 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-14160] Per Org endpoint support for orderer

This change set makes the orderer cluster infrastructure
support (and prefer) per org endpoints over global ones.

Per org endpoints use the per org TLS CAs and not the
aggregation of all TLS CAs.

Change-Id: Ibeb9bf773663574c5f0579cdaf42628d2b0e26b5
Signed-off-by: yacovm <yacovm@il.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/6/2019, 11:48:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/6/2019, 11:51:02 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13537/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/6/2019, 11:51:26 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/6/2019, 11:51:27 AM<br><strong>Message</strong>: <pre>Patch Set 1:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/6/2019, 11:52:15 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13537/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13537</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 4:39:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 4:43:02 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13570/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 4:43:27 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 4:43:28 AM<br><strong>Message</strong>: <pre>Patch Set 2:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 4:44:19 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13570/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13570</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:18:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:18:20 AM<br><strong>Message</strong>: <pre>Patch Set 4: Patch Set 3 was rebased</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:18:47 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:18:48 AM<br><strong>Message</strong>: <pre>Patch Set 3:

No Builds Executed</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:18:58 AM<br><strong>Message</strong>: <pre>Patch Set 6: Patch Set 5 was rebased</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:20:02 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13574/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:20:35 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:25:42 AM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:26:27 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13574/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13574</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:27:30 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8625/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:27:57 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11953/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:28:03 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:28:24 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting unit tests</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:34:14 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:37:02 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:38:36 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13575/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:39:01 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:44:09 AM<br><strong>Message</strong>: <pre>Patch Set 7: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:45:00 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13575/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13575</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:45:12 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8625/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8625

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11953/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/11953</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:45:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:47:02 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8626/ (1/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 6:47:26 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:47:30 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:47:42 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11954/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:48:08 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:51:32 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13576/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:51:58 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:57:15 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:58:00 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13576/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13576</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:58:12 AM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8626/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8626

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11954/ : ABORTED

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/11954</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 6:59:52 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8627/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:00:21 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:00:34 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11955/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:00:58 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:25:22 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:36:40 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:37:30 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8627/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8627

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11955/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/11955</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 8:16:22 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Run VerifyBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:18:20 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13577/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:18:48 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:24:01 AM<br><strong>Message</strong>: <pre>Patch Set 10: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:26:32 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8628/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:26:58 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:28:21 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11956/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:28:43 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:52:23 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 8:58:15 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:01:51 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:02:30 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8628/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8628

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11956/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/11956

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13577/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13577</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 9:02:59 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:06:30 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8629/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:06:52 AM<br><strong>Message</strong>: <pre>Patch Set 10: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:42:03 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:42:43 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8629/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8629</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 9:51:18 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 9:52:52 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:52:53 AM<br><strong>Message</strong>: <pre>Patch Set 11:

No Builds Executed</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 9:56:21 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Run VerifyBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:56:22 AM<br><strong>Message</strong>: <pre>Patch Set 12:

No Builds Executed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:57:11 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13579/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 9:57:34 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:02:46 AM<br><strong>Message</strong>: <pre>Patch Set 12: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:05:15 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8631/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:05:46 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:05:48 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11958/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:06:19 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:33:27 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:40:50 AM<br><strong>Message</strong>: <pre>Patch Set 12: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 10:41:32 AM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8631/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8631

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13579/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13579

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11958/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/11958</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 11:25:49 AM<br><strong>Message</strong>: <pre>Patch Set 12: Code-Review-1

(16 comments)

Lots of questions</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 7:17:08 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:19:07 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13621/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:19:36 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting verify build</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 7:24:33 PM<br><strong>Message</strong>: <pre>Patch Set 13:

(16 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:25:59 PM<br><strong>Message</strong>: <pre>Patch Set 13: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:27:19 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13621/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13621</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:27:41 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8672/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:28:06 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:28:17 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12001/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:28:39 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting unit tests</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 7:36:09 PM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:39:02 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13622/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:39:33 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:44:46 PM<br><strong>Message</strong>: <pre>Patch Set 14: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:45:31 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13622/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13622</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:47:21 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8673/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:47:48 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:48:13 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12002/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:48:48 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 7:51:11 PM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:02:09 PM<br><strong>Message</strong>: <pre>Patch Set 13: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:02:52 PM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8672/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8672

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12001/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12001</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:16:42 PM<br><strong>Message</strong>: <pre>Patch Set 14: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:22:03 PM<br><strong>Message</strong>: <pre>Patch Set 14: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/7/2019, 8:22:42 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8673/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8673

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12002/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12002</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/7/2019, 9:53:21 PM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+1

(6 comments)

seems simpler to me than the first pass

... but the eye is in the beholder

only thing you should probably do is make sure the basic clone test is done</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 4:21:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 4:21:38 AM<br><strong>Message</strong>: <pre>Patch Set 14:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:23:24 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13625/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:23:52 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:28:50 AM<br><strong>Message</strong>: <pre>Patch Set 15: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:29:32 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/13625/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/13625</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:32:14 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8676/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:32:40 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:36:54 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12005/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 4:37:21 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting unit tests</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 4:46:22 AM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 5:10:40 AM<br><strong>Message</strong>: <pre>Patch Set 15: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 5:15:26 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 5:21:20 AM<br><strong>Message</strong>: <pre>Patch Set 15: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 5:22:11 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8676/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8676

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12005/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12005</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 5:54:12 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 5:58:43 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12006/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 5:59:09 AM<br><strong>Message</strong>: <pre>Patch Set 15: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 6:17:35 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 6:20:56 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8677/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 6:21:24 AM<br><strong>Message</strong>: <pre>Patch Set 15: -F3-IntegrationTest

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 6:22:49 AM<br><strong>Message</strong>: <pre>Patch Set 15: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 6:53:42 AM<br><strong>Message</strong>: <pre>Patch Set 15: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 6:54:22 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12006/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/12006

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/8677/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/8677</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 7:04:00 AM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+2

(2 comments)

lgtm; we do need to go back and fix the godoc comment in util.go and that can be done on top.

For the embedded config vs field config, I’d prefer to see it as a field since embedding isn’t really offering any value. That can also be done on top if you agree.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 7:29:01 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 7:31:38 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/6629/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 7:32:17 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/5314/ (2/2)</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 5/8/2019, 7:44:42 AM<br><strong>Message</strong>: <pre>Patch Set 15:

(2 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/8/2019, 8:00:14 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/6629/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/6629

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/5314/ : FAILURE (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/5314</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/6/2019, 11:48:13 AM<br><strong>UnmergedRevision</strong>: [0e8120489adb05f5259f0bf663038c2a417efa5e](https://github.com/hyperledger-gerrit-archive/fabric/commit/0e8120489adb05f5259f0bf663038c2a417efa5e)<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 4:39:25 AM<br><strong>UnmergedRevision</strong>: [bbe0da47194a668b8d9f24e4f9d80c9cfa3fc1ec](https://github.com/hyperledger-gerrit-archive/fabric/commit/bbe0da47194a668b8d9f24e4f9d80c9cfa3fc1ec)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:18:13 AM<br><strong>UnmergedRevision</strong>: [99ff57cedb5c76a5947a367954ee0c16c278c4f9](https://github.com/hyperledger-gerrit-archive/fabric/commit/99ff57cedb5c76a5947a367954ee0c16c278c4f9)<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:18:20 AM<br><strong>UnmergedRevision</strong>: [360294ee138bccbaac74980f629ca5bd31d391a6](https://github.com/hyperledger-gerrit-archive/fabric/commit/360294ee138bccbaac74980f629ca5bd31d391a6)<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:18:47 AM<br><strong>UnmergedRevision</strong>: [6bd463bf5988c8fc6c9d6e566f8e4678d57c217c](https://github.com/hyperledger-gerrit-archive/fabric/commit/6bd463bf5988c8fc6c9d6e566f8e4678d57c217c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:25:42 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:25:42 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:45:12 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:18:58 AM<br><strong>UnmergedRevision</strong>: [b34add484b6c0a3f13653eb0f64a0e2d235b8418](https://github.com/hyperledger-gerrit-archive/fabric/commit/b34add484b6c0a3f13653eb0f64a0e2d235b8418)<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:34:14 AM<br><strong>UnmergedRevision</strong>: [2092047c42563b3e37bf7884e6cab9821570df36](https://github.com/hyperledger-gerrit-archive/fabric/commit/2092047c42563b3e37bf7884e6cab9821570df36)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:44:09 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:44:09 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:58:12 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:37:02 AM<br><strong>UnmergedRevision</strong>: [99238086cbcb9cb4ae2c89c4bd411d6c96559c08](https://github.com/hyperledger-gerrit-archive/fabric/commit/99238086cbcb9cb4ae2c89c4bd411d6c96559c08)<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:45:56 AM<br><strong>UnmergedRevision</strong>: [2036be72cf4104470ca13240c1e913f930070c0c](https://github.com/hyperledger-gerrit-archive/fabric/commit/2036be72cf4104470ca13240c1e913f930070c0c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:57:15 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 6:57:15 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 7:36:40 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 7:25:22 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 6:47:26 AM<br><strong>UnmergedRevision</strong>: [840f88f8f239616f65c1e0bc067e20ca5e9aa5c4](https://github.com/hyperledger-gerrit-archive/fabric/commit/840f88f8f239616f65c1e0bc067e20ca5e9aa5c4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 8:24:01 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 8:24:01 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 9:42:03 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 8:52:23 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 9:51:18 AM<br><strong>UnmergedRevision</strong>: [0ec860b6801386ddab13109348fd0c4f587c7d24](https://github.com/hyperledger-gerrit-archive/fabric/commit/0ec860b6801386ddab13109348fd0c4f587c7d24)<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 9:52:52 AM<br><strong>UnmergedRevision</strong>: [632eced40d38eb1987f92254728c6fcba3c6728a](https://github.com/hyperledger-gerrit-archive/fabric/commit/632eced40d38eb1987f92254728c6fcba3c6728a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 10:02:46 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 10:02:46 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 10:40:50 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 10:33:27 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 5/7/2019, 11:25:49 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/nwo/configtx_template.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/integration/nwo/configtx_template.go#L56)<br><strong>Comment</strong>: <pre>So, when the token team tried to do this, I pushed back saying that we shouldn't be changing the default capability value across all tests when a single test needs it. I asked them to extend the network to support this value for expansion in the template for channels while defaulting to the old level. Clearly that feedback was lost when we got to raft as we now have the 1_4_2 capability.

Since that work was never done, we're now implicitly testing everything at the 1_4_2 capability and we want to bump it to V2_0. I don't think that's the right thing.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [integration/nwo/configtx_template.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/integration/nwo/configtx_template.go#L56)<br><strong>Comment</strong>: <pre>I opened FAB-15386.

I can revert this file or keep it at it, i don't mind. I tested that it works for me :)</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/deliver_test.go#L149](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/deliver_test.go#L149)<br><strong>Comment</strong>: <pre>unrelated: we need to stop embedding mutexes and I cringe every time I see one</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/deliver_test.go#L149](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/deliver_test.go#L149)<br><strong>Comment</strong>: <pre>beauty is in the eye of the beholder, you know.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/deliver_test.go#L149](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/deliver_test.go#L149)<br><strong>Comment</strong>: <pre>sure, but this isn’t about ugly</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/deliver_test.go#L156](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/deliver_test.go#L156)<br><strong>Comment</strong>: <pre>isn't this now endpointCriteria?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/deliver_test.go#L156](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/deliver_test.go#L156)<br><strong>Comment</strong>: <pre>It is now!</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/replication.go#L375](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/replication.go#L375)<br><strong>Comment</strong>: <pre>I've seen this at least twice and wonder why we don't have a constructor that takes the configuration. You have NewTLSPinningDialer but nothing for a StandardDialer?

... but I really understand what you're doing with the embedded atomic config or why you need to assign it a new value since it's a value field.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/replication.go#L375](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/replication.go#L375)<br><strong>Comment</strong>: <pre>I thought we're against constructors, and pro choice of field assignment?</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/replication.go#L375](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/replication.go#L375)<br><strong>Comment</strong>: <pre>if we don’t need a constructor, we don’t need one but what you had before, it looked like it was impossible to create a literal that was a functional struct. We needed to create the instance and then call something.

The other bit was I didn’t understand why the zero value wasn’t sufficient with the embedded AtomicClientConfig. It’s a value *inside* the object so why did we need to set it to another zero value? afaict, it already was the zero value.

moot now anyway</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/replication_test.go#L1148](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/replication_test.go#L1148)<br><strong>Comment</strong>: <pre>why is this defined here, where it isn't used at all, instead of in util_test.go where it is?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/replication_test.go#L1148](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/replication_test.go#L1148)<br><strong>Comment</strong>: <pre>moved it.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/testdata/block2.pb#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/testdata/block2.pb#L0)<br><strong>Comment</strong>: <pre>Did this appear in the tree by magic? (I probably just missed where the generation was defined so it could be recreated in the future...)

It's also 18k, so, does it need to be a binary fixture?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/testdata/block2.pb#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/testdata/block2.pb#L0)<br><strong>Comment</strong>: <pre>Not quite. It appeared by invoking 'cp' in the terminal.

I removed it now.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/testdata/block2.pb#L0](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/testdata/block2.pb#L0)<br><strong>Comment</strong>: <pre>I was hoping for magic.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L116)<br><strong>Comment</strong>: <pre>I understand what you're doing but it's a lot of decoration for something that could be implemented as Clone on comm.ClientConfig.

Then again, I think the use of Atomic instead of a simple lock is unnecessary, so, there's that...</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L116)<br><strong>Comment</strong>: <pre>I put a lock.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L207](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L207)<br><strong>Comment</strong>: <pre>you seem to have gone through the effort of embedding the helper but we can't use it on the get side?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L207](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L207)<br><strong>Comment</strong>: <pre>I don't understand the comment, (maybe it's the time) - but I think it's better now.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L215](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L215)<br><strong>Comment</strong>: <pre>is it my imagination or is this half of what would be considered a clone of ClientConfig?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L215](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L215)<br><strong>Comment</strong>: <pre>No. I was extra cautious. 

Removed this.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L447](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L447)<br><strong>Comment</strong>: <pre>comma because we have more to say?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L447](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L447)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L450](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L450)<br><strong>Comment</strong>: <pre>Please move this *before* appending to aggregatedTLSCerts and add some vertical space.

You have a block that's really building caCerts and saving them and then you have a block to add them to aggregatedTLSCerts. They are different tasks.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L450](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L450)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L476](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L476)<br><strong>Comment</strong>: <pre>confused - you have two for loops - one nested inside the other. In the outer loop, you check the length of org.Endpoints and if zero, set a flag. If the len is zero, that implies that the follow on loop doesn't run and there's nothing to append.

So, what am I missing? Why do we need the flag? if the inner loop is skipped, we maintain a nil endpointsPerOrg and can return directly at the end of the function.

What is the complexity of the flag buying besides confusion?  To be clear, I am confused so I'm trying to understand what I'm seeing.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L476](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util.go#L476)<br><strong>Comment</strong>: <pre>You're not missing anything, it's redundant. I removed it.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L123](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util_test.go#L123)<br><strong>Comment</strong>: <pre>nit - breaking across lines in the middle of the string is hard to grok. please use one line for all args or one line per arg with closing paren by itself.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L123](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util_test.go#L123)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L467](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util_test.go#L467)<br><strong>Comment</strong>: <pre>where and how was this generated? (existing code)</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L467](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util_test.go#L467)<br><strong>Comment</strong>: <pre>removed all artifacts.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L490](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util_test.go#L490)<br><strong>Comment</strong>: <pre>where and how was this generated? (new code)</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L490](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/common/cluster/util_test.go#L490)<br><strong>Comment</strong>: <pre>removed all artifacts.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/etcdraft/util.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/consensus/etcdraft/util.go#L103)<br><strong>Comment</strong>: <pre>don't understand why the embedded struct needs separate initialization</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/consensus/etcdraft/util.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/632eced40d38eb1987f92254728c6fcba3c6728a/orderer/consensus/etcdraft/util.go#L103)<br><strong>Comment</strong>: <pre>It doesn't. I had something in there before but I removed it and didn't remove the inner initialization.</pre></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 7:17:08 PM<br><strong>UnmergedRevision</strong>: [7b6b3f60b04eb4229d9a1c450513d96b8fa3dfec](https://github.com/hyperledger-gerrit-archive/fabric/commit/7b6b3f60b04eb4229d9a1c450513d96b8fa3dfec)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 7:25:59 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 7:25:59 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 8:02:09 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 7:51:11 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/7/2019, 7:36:09 PM<br><strong>UnmergedRevision</strong>: [b7328d97ce485db54c65f20e55bd2c10f196e405](https://github.com/hyperledger-gerrit-archive/fabric/commit/b7328d97ce485db54c65f20e55bd2c10f196e405)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 7:44:46 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 7:44:46 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 8:22:03 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/7/2019, 8:16:42 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 5/7/2019, 9:53:21 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [core/comm/config_test.go#L39](https://github.com/hyperledger-gerrit-archive/fabric/blob/b7328d97ce485db54c65f20e55bd2c10f196e405/core/comm/config_test.go#L39)<br><strong>Comment</strong>: <pre>am I missing the base case where we assert the clone equals the origin but is not the same?

looks like we clone and modify the origin but never check for equality before the change.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [core/comm/config_test.go#L39](https://github.com/hyperledger-gerrit-archive/fabric/blob/b7328d97ce485db54c65f20e55bd2c10f196e405/core/comm/config_test.go#L39)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L385](https://github.com/hyperledger-gerrit-archive/fabric/blob/b7328d97ce485db54c65f20e55bd2c10f196e405/orderer/common/cluster/util.go#L385)<br><strong>Comment</strong>: <pre>nit: doesn’t the comment apply to the whole section? should it be before the caCerts declaration?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L385](https://github.com/hyperledger-gerrit-archive/fabric/blob/b7328d97ce485db54c65f20e55bd2c10f196e405/orderer/common/cluster/util.go#L385)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L140](https://github.com/hyperledger-gerrit-archive/fabric/blob/b7328d97ce485db54c65f20e55bd2c10f196e405/orderer/common/cluster/util_test.go#L140)<br><strong>Comment</strong>: <pre>nit: multi line literal would be easier to read</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util_test.go#L140](https://github.com/hyperledger-gerrit-archive/fabric/blob/b7328d97ce485db54c65f20e55bd2c10f196e405/orderer/common/cluster/util_test.go#L140)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 5/8/2019, 4:21:32 AM<br><strong>GitHubMergedRevision</strong>: [53c2be6328409c812f6a5d12afc3996e84b4f28f](https://github.com/hyperledger-gerrit-archive/fabric/commit/53c2be6328409c812f6a5d12afc3996e84b4f28f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/8/2019, 4:28:50 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/8/2019, 4:28:50 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/8/2019, 6:53:42 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/8/2019, 6:22:49 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 5/8/2019, 7:29:01 AM<br><br><strong>Approver</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Approved</strong>: 5/8/2019, 4:46:22 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 5/8/2019, 7:04:00 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L110](https://github.com/hyperledger-gerrit-archive/fabric/blob/53c2be6328409c812f6a5d12afc3996e84b4f28f/orderer/common/cluster/util.go#L110)<br><strong>Comment</strong>: <pre>not sure why this needs to be embedded instead of a field</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L110](https://github.com/hyperledger-gerrit-archive/fabric/blob/53c2be6328409c812f6a5d12afc3996e84b4f28f/orderer/common/cluster/util.go#L110)<br><strong>Comment</strong>: <pre>Not sure either.

https://gerrit.hyperledger.org/r/#/c/31278/1/orderer/common/cluster/util.go@110</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L143](https://github.com/hyperledger-gerrit-archive/fabric/blob/53c2be6328409c812f6a5d12afc3996e84b4f28f/orderer/common/cluster/util.go#L143)<br><strong>Comment</strong>: <pre>comment doesn’t match the code any more.

Also not sure why we still need or want to embed</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [orderer/common/cluster/util.go#L143](https://github.com/hyperledger-gerrit-archive/fabric/blob/53c2be6328409c812f6a5d12afc3996e84b4f28f/orderer/common/cluster/util.go#L143)<br><strong>Comment</strong>: <pre>https://gerrit.hyperledger.org/r/#/c/31278/1/orderer/common/cluster/util.go@143</pre></blockquote>