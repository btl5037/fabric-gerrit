<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 1305<br><strong>Subject</strong>: Updated existing Node SDK Unit Tests<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 9/28/2016, 8:35:46 AM<br><strong>LastUpdated</strong>: 10/17/2016, 10:45:33 AM<br><strong>CommitMessage</strong>:<br><pre>Updated existing Node SDK Unit Tests

Updating exiting Node SDK unit tests to work together
with the new unit test utility file located at
test/unit/test-util.js.

Change-Id: I3bc182ff8a2007a8853477ab8f69a1a65b647fb8
Signed-off-by: Allen E Bailey <eabailey@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 9/28/2016, 8:35:46 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2016, 10:12:52 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1446/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2016, 10:15:25 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/365/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/28/2016, 11:00:31 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1446/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/365/ : FAILURE (skipped)</pre><strong>Reviewer</strong>: Janet Wolf - jcwolf@us.ibm.com<br><strong>Reviewed</strong>: 9/28/2016, 3:18:41 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(5 comments)

Added comments</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 9/29/2016, 4:26:09 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 9/29/2016, 5:21:38 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 9/29/2016, 5:21:59 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 9/29/2016, 5:23:17 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Reviewed</strong>: 9/29/2016, 7:15:18 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(9 comments)

Giving -1 for now:

-- please explain the logic in an if condition inside chain-tests.js on line 1060. 
-- please fix formatting... it's kinda bad in this patch :-x.
-- otherwise comments for improvement.</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 9/30/2016, 10:57:14 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 9/30/2016, 11:05:00 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Reviewed</strong>: 10/3/2016, 6:19:08 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(2 comments)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 10/4/2016, 2:00:10 PM<br><strong>Message</strong>: <pre>Patch Set 2: Published edit on patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2016, 2:02:17 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/501/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2016, 2:05:31 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1598/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2016, 3:11:52 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1598/ : FAILURE

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/501/ : SUCCESS (skipped)</pre><strong>Reviewer</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Reviewed</strong>: 10/4/2016, 6:11:38 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2016, 6:13:23 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/513/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2016, 6:15:27 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1610/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/4/2016, 7:35:02 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/513/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1610/ : SUCCESS</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 10/5/2016, 12:28:31 PM<br><strong>Message</strong>: <pre>Patch Set 4: Published edit on patch set 3.</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 10/5/2016, 12:29:02 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(6 comments)

@Anya

fixed the check in chain-tests.js</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2016, 12:30:37 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/536/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2016, 12:33:59 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1633/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/5/2016, 1:55:50 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/536/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1633/ : SUCCESS</pre><strong>Reviewer</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2016, 12:32:56 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+1

@Gari, @Greg, @Chis. Can we please have this merged? We have rebased this change already multiple times. It is unreasonable to wait this long. We are blocked on waiting for these changes to go in.</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2016, 1:24:54 PM<br><strong>Message</strong>: <pre>Patch Set 5: Published edit on patch set 4.</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2016, 1:25:20 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Updated to include fix for 1485</pre><strong>Reviewer</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Reviewed</strong>: 10/6/2016, 1:28:42 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2016, 1:51:47 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/551/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/6/2016, 2:04:42 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1651/ (2/2)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 10/7/2016, 3:21:44 AM<br><strong>Message</strong>: <pre>Patch Set 5:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/7/2016, 3:22:54 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/556/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/7/2016, 3:23:50 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1656/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/7/2016, 4:31:37 AM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/556/ : FAILURE (skipped)

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1656/ : SUCCESS</pre><strong>Reviewer</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>Reviewed</strong>: 10/7/2016, 7:26:29 PM<br><strong>Message</strong>: <pre>Patch Set 5:

(8 comments)</pre><strong>Reviewer</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Reviewed</strong>: 10/17/2016, 10:45:33 AM<br><strong>Message</strong>: <pre>Abandoned

Code checked into v0.6 as part of 
7123f77dd2855ea36817099a14eb9a07c8265910
xnode-sdk: Test Updates for supporting TLS

and

925f4d9bf7c0aa98dbdaffe3a7c9ea7fa6831e47
Allow TLS conn. between the client and the CA services

For now, ongoing sdk work will be done in fabric-sdk-node, so these changes will be abandoned. However, 
925f4d9bf7c0aa98dbdaffe3a7c9ea7fa6831e47
Allow TLS conn. between the client and the CA services

still needs to go into master regardless.

If it determined that the updates in this change set are actually needed in master, they can be cherry picked from v0.6 and rolled up.</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 9/28/2016, 8:35:46 AM<br><strong>UnmergedRevision</strong>: [788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa](https://github.com/hyperledger-gerrit-archive/fabric/commit/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/28/2016, 11:00:31 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Approved</strong>: 9/29/2016, 7:15:18 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Janet Wolf - jcwolf@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25)<br><strong>Comment</strong>: <pre>Does invoking HFC this way enable a developer to run the test before checking in code?  It also seems a little inconsistent with line 29 below.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25)<br><strong>Comment</strong>: <pre>the relative inclusion of 'test/unit/test-util.js' is dependent on setting the NODE_PATH, which is done in the run-unit-test.sh script. Actually I thought that including the ''test/unit/' portion of the PATH helped to clarify the intent. 'test-util' is not really a high-level, self-contained module, but a test utility as the name implies. Lastly, test-util exists in 'user-space' and is not significant enough to warrant inclusion in the published hfc.</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25)<br><strong>Comment</strong>: <pre>+1 on the clarification of the test-util.js file.

Though, I am pretty sure it will still be included in the published `hfc` package, as it includes everything aside from /node_modules/*.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L25)<br><strong>Comment</strong>: <pre>In support of my theory, I looked at my npm installation, and the test/unit directory does not exist, including the test-utils.js file. The "bin" directory containing the run-unit-tests.sh file does however.  Do we want to publish the unit tests? (or include test-util.js in the lib directory? I was under the impression that the user would have to clone the fabric code to get these.</pre><strong>Commenter</strong>: Janet Wolf - jcwolf@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L25)<br><strong>Comment</strong>: <pre>By declaring hfc this way, can a developer run unit tests before actually checking the code in?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L25)<br><strong>Comment</strong>: <pre>yes, see previous commments</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L119](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L119)<br><strong>Comment</strong>: <pre>These two functions seem more general than just for this test. Perhaps it's better to move them out of this file into either test_util or sdk_util? This is not a requirement, but just a suggestion in case we need to reuse them in other test files.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L119](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L119)<br><strong>Comment</strong>: <pre>I agree in principle and I thought about it, but in this particular case the check is pretty specific to the testcase. Ideally we could create a lib of functions to deal with certificates as needs arise, if it's generally deemed worthwhile. We could seed it with the ones here. I'm open to alternative solutions.</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L119](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L119)<br><strong>Comment</strong>: <pre>I'm OK with this staying in for now, just trying to understand the reasoning.</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L320](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L320)<br><strong>Comment</strong>: <pre>Do we need these helper functions here? This file seems to be using t.pass() and t.fail directly.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L320](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L320)<br><strong>Comment</strong>: <pre>Correct it appears. Legacy code propagated from previous testcases. I can delete it.</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L320](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt-with-roles.js#L320)<br><strong>Comment</strong>: <pre>Please do. Thanks.</pre><strong>Commenter</strong>: Janet Wolf - jcwolf@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt.js#L25)<br><strong>Comment</strong>: <pre>Can a developer run these tests against his own branch when hfc is declared this way?

Also, it seems a little inconsistent with the way tutil is declared as a relative path name.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt.js#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/asset-mgmt.js#L25)<br><strong>Comment</strong>: <pre>yes</pre><strong>Commenter</strong>: Janet Wolf - jcwolf@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/chain-tests.js#L931](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/chain-tests.js#L931)<br><strong>Comment</strong>: <pre>Somehow, this test lost this statement:

	console.log("peer pem is blocked by issue FAB-433")</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/chain-tests.js#L931](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/chain-tests.js#L931)<br><strong>Comment</strong>: <pre>I couldn't find a reference to it in any of my copies, but we can add it back. Does this get printed if the test is marked 'skip'?</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/chain-tests.js#L1060](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/chain-tests.js#L1060)<br><strong>Comment</strong>: <pre>I am not sure I understand the logic here... shouldn't this condition test:
if (ch2 != chain)?</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/chain-tests.js#L1065](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/chain-tests.js#L1065)<br><strong>Comment</strong>: <pre>Definitely need to run lint to remove the extra white space and all the formatting weirdness in this file... all the indentation is messed up.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/chain-tests.js#L1065](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/chain-tests.js#L1065)<br><strong>Comment</strong>: <pre>I think most of this is xfer from windows to *nix. Will fix this in final commit.</pre><strong>Commenter</strong>: Janet Wolf - jcwolf@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L21](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L21)<br><strong>Comment</strong>: <pre>I have a question here.  Is this invoking the published version of the hfc? Don't we want a way to test before checking code in?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L21](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L21)<br><strong>Comment</strong>: <pre>Relies on the NODE_PATH setting. See previous comments</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L158](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L158)<br><strong>Comment</strong>: <pre>It's not clear to me if this function is being called from a test... it doesn't look like it. If so, is it here for a reason?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L158](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L158)<br><strong>Comment</strong>: <pre>Janet created a slightly different sequence to test separate methods. I incorporated it into STEP 3</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L204](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L204)<br><strong>Comment</strong>: <pre>It's not clear to me what this function is for.</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L204](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L204)<br><strong>Comment</strong>: <pre>deleted</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L209](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L209)<br><strong>Comment</strong>: <pre>It's not clear to me if this function is being called from a test... it doesn't look like it. If so, is it here for a reason?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L209](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L209)<br><strong>Comment</strong>: <pre>deleted</pre><strong>Commenter</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L228](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L228)<br><strong>Comment</strong>: <pre>It's not clear to me if this function is being called from a test... it doesn't look like it. If so, is it here for a reason?</pre><strong>Commenter</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L228](https://github.com/hyperledger-gerrit-archive/fabric/blob/788fdb5c14e657ed5f14e35f9d5914bf3a4ff2fa/sdk/node/test/unit/registrar.js#L228)<br><strong>Comment</strong>: <pre>deleted</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 10/4/2016, 2:00:10 PM<br><strong>UnmergedRevision</strong>: [367646dbf7cc45cf2c67140b83d63b013827934c](https://github.com/hyperledger-gerrit-archive/fabric/commit/367646dbf7cc45cf2c67140b83d63b013827934c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2016, 3:11:52 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Created</strong>: 10/4/2016, 6:11:38 PM<br><strong>UnmergedRevision</strong>: [4cd53f90f42a9485e2e8c22a521edb81187b8882](https://github.com/hyperledger-gerrit-archive/fabric/commit/4cd53f90f42a9485e2e8c22a521edb81187b8882)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/4/2016, 7:35:02 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 10/5/2016, 12:28:31 PM<br><strong>UnmergedRevision</strong>: [561a733b69e601aef3e7f549eed3aa72236a4d22](https://github.com/hyperledger-gerrit-archive/fabric/commit/561a733b69e601aef3e7f549eed3aa72236a4d22)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/5/2016, 1:55:50 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Approved</strong>: 10/6/2016, 12:32:56 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Uploader</strong>: Allen Bailey - eabailey@us.ibm.com<br><strong>Created</strong>: 10/6/2016, 1:24:54 PM<br><strong>UnmergedRevision</strong>: [4244041151972887b6420a14c372b99928d76c3e](https://github.com/hyperledger-gerrit-archive/fabric/commit/4244041151972887b6420a14c372b99928d76c3e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/7/2016, 4:31:37 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Anna Derbakova - adderbak@us.ibm.com<br><strong>Approved</strong>: 10/6/2016, 1:28:42 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L247](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/asset-mgmt-with-dynamic-roles.js#L247)<br><strong>Comment</strong>: <pre>affiliation & attributes might vary for different networks and its based on their membersrvc.yaml file ?</pre><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt-with-roles.js#L81](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/asset-mgmt-with-roles.js#L81)<br><strong>Comment</strong>: <pre>These credentails might not work against Bluemix or any other network.</pre><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt.js#L37](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/asset-mgmt.js#L37)<br><strong>Comment</strong>: <pre>These credentials might not work against non-local networks</pre><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/asset-mgmt.js#L113](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/asset-mgmt.js#L113)<br><strong>Comment</strong>: <pre>Should we consider enrolling these users(Alice, bob, Charlie) First
These users might not be available on non-local networks like Bluemix ?</pre><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/chain-tests.js#L31](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/chain-tests.js#L31)<br><strong>Comment</strong>: <pre>Should we avoid hardcoding event listener URL here ?
This will not work against non-local networks</pre><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/chain-tests.js#L414](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/chain-tests.js#L414)<br><strong>Comment</strong>: <pre>This might not work against Bluemix.</pre><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L67](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/registrar.js#L67)<br><strong>Comment</strong>: <pre>Should we avoid hardcoding here ?
I think tests against Bluemix service might fail without changing these values ?</pre><strong>Commenter</strong>: Ratnakar Asara - asara.ratnakar@gmail.com<br><strong>CommentLine</strong>: [sdk/node/test/unit/registrar.js#L209](https://github.com/hyperledger-gerrit-archive/fabric/blob/4244041151972887b6420a14c372b99928d76c3e/sdk/node/test/unit/registrar.js#L209)<br><strong>Comment</strong>: <pre>Same as above comment</pre></blockquote>