<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 27249<br><strong>Subject</strong>: [FAB-11918] Add CFT integration test.<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 10/29/2018, 5:58:56 AM<br><strong>LastUpdated</strong>: 11/8/2018, 11:11:09 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-11918] Add CFT integration test.

Change-Id: I23e4ef5c764dc980f1e100cfc26ffe2988ce6f6e
Signed-off-by: Jay Guo <guojiannan1101@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 10/29/2018, 5:58:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:02:25 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6536/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:03:03 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:10:51 AM<br><strong>Message</strong>: <pre>Patch Set 1: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:11:30 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6536/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/6536</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:13:32 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/5662/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:13:46 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/2918/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:14:18 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:15:33 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:30:58 AM<br><strong>Message</strong>: <pre>Patch Set 1: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:40:05 AM<br><strong>Message</strong>: <pre>Patch Set 1: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/29/2018, 6:41:02 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/5662/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/5662

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/2918/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/2918</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 10/30/2018, 8:53:29 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+1

(10 comments)

I'm okay with this as it is but I think a few swizzles would make the test read a little better, have a little more consistency, and take advantage of existing matchers that highlight differences when comparing things for equality.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 10/30/2018, 11:51:31 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:54:07 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6591/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:54:55 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:56:28 AM<br><strong>Message</strong>: <pre>Patch Set 2: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:57:15 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6591/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6591/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/6591</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 10/30/2018, 12:52:17 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(4 comments)

We've gone backwards. What you had before was simpler and faster that what's here now.

All that was needed was a change to the matcher and a small bit of word smithing in the By(...) functions for descriptions.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 10/30/2018, 11:18:39 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:22:21 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6602/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:22:56 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 10/30/2018, 11:23:35 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 10/30/2018, 11:24:00 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(14 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:24:27 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6602/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6602/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/6602</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:28:21 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6603/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:29:07 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:30:36 PM<br><strong>Message</strong>: <pre>Patch Set 4: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 10/30/2018, 11:31:32 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6603/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6603/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/6603</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 9:35:48 AM<br><strong>Message</strong>: <pre>Patch Set 4:

00:02:08.301 LINT: Running code checks..
00:02:10.432 Checking with gofmt
00:02:14.140 The following files contain gofmt errors
00:02:14.140 orderer/common/cluster/connections.go
00:02:14.140 orderer/common/cluster/util.go
00:02:14.140 The gofmt command 'gofmt -l -s -w' must be run for these files

Looks like some formatting issues in one of the earlier commits in the stack?</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 10/31/2018, 9:39:24 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2

Probably need to rebase on code without the format issues.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 11/2/2018, 9:24:20 AM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:26:54 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6676/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:27:41 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:37:09 AM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run IntegrationTest, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:38:20 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/6676/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/6676</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:39:52 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/5784/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:39:59 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/3010/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:40:42 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:41:41 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 9:57:33 AM<br><strong>Message</strong>: <pre>Patch Set 5: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 10:03:36 AM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/2/2018, 10:04:16 AM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/5784/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/5784

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/3010/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/3010</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 11/2/2018, 10:38:41 AM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 11/4/2018, 8:08:20 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6: Patch Set 5 was rebased.</pre><strong>Reviewer</strong>: Kostas Christidis - kostas@gmail.com<br><strong>Reviewed</strong>: 11/5/2018, 1:53:38 PM<br><strong>Message</strong>: <pre>Patch Set 6: Code-Review+2

(Thanks for the review Matt.)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 11/5/2018, 9:45:15 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7: Patch Set 6 was rebased.</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 11/8/2018, 8:06:21 AM<br><strong>Message</strong>: <pre>Patch Set 8: Patch Set 7 was rebased</pre><strong>Reviewer</strong>: Kostas Christidis - kostas@gmail.com<br><strong>Reviewed</strong>: 11/8/2018, 10:30:15 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Kostas Christidis</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/8/2018, 10:32:52 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/3610/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/8/2018, 10:33:35 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/4929/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 11/8/2018, 11:11:09 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/3610/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3610

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/4929/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/4929</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 10/29/2018, 5:58:56 AM<br><strong>UnmergedRevision</strong>: [98fd99f0c0a3449d9984f7ef58d87650863409e0](https://github.com/hyperledger-gerrit-archive/fabric/commit/98fd99f0c0a3449d9984f7ef58d87650863409e0)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 6:10:51 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 6:10:51 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 6:30:58 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/29/2018, 6:40:05 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 10/30/2018, 8:53:29 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L69)<br><strong>Comment</strong>: <pre>why peer instead of org1Peer1 for symmetry?</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L69)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L82](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L82)<br><strong>Comment</strong>: <pre>nit: We can use a conventional for loop and skip the continue (`for i :=1 ; i < len(network.Orderers); i++`) or we can use a range loop with `network.Orderers[1:]` and skip the continue.

What's here is fine but the continue jumps out</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L82](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L82)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L100](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L100)<br><strong>Comment</strong>: <pre>Subject-verb agreemnt: By("tearing down orderer1")

But I'd suggest you say "killing orderer1"</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L100](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L100)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L101)<br><strong>Comment</strong>: <pre>You probably want to be more aggressive about terminating this. TERM is usually associated with a graceful shutdown while KILL will kill the server with malice and avoid most recovery.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L101)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L102](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L102)<br><strong>Comment</strong>: <pre>May want to ensure the exit code indicates the correct signal was delivered and there wasn't some other cause of shutdown.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L102](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L102)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L104)<br><strong>Comment</strong>: <pre>subject-verb agreement: By("performing operations that use the running orderer")</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L104)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L108](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L108)<br><strong>Comment</strong>: <pre>subject-verb agreement: By("restarting orderer1")</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L108](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L108)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L115](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L115)<br><strong>Comment</strong>: <pre>We should avoid defers in ginkgo and use the AfterEach calllback.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L115](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L115)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L117](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L117)<br><strong>Comment</strong>: <pre>Maybe add By("executing transactions with the restarted orderer")?</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L117](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L117)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L137)<br><strong>Comment</strong>: <pre>Please use the correct matchers:

Expect(b1.Header.Bytes()).To(Equal(b2.Header.Bytes())</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/98fd99f0c0a3449d9984f7ef58d87650863409e0/integration/e2e/cft_test.go#L137)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 10/30/2018, 11:51:31 AM<br><strong>UnmergedRevision</strong>: [62301becf28c1aa8a7fc8e76dc8014f867c691ae](https://github.com/hyperledger-gerrit-archive/fabric/commit/62301becf28c1aa8a7fc8e76dc8014f867c691ae)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/30/2018, 11:56:28 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 10/30/2018, 12:52:17 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L25)<br><strong>Comment</strong>: <pre>EndToEnd Crash Fault Tolerance</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L25)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L62)<br><strong>Comment</strong>: <pre>This is implied by 'CFT'  at the top level.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L62)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L103)<br><strong>Comment</strong>: <pre>Using JustBeforeEach makes things more complicated for no value since you don't have BeforEach functions in each of the contexts.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L103)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L126)<br><strong>Comment</strong>: <pre>we have two tests where we used to have one; that means we get to bring up the network twice making the test run much longer.</pre><strong>Commenter</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>CommentLine</strong>: [integration/e2e/cft_test.go#L126](https://github.com/hyperledger-gerrit-archive/fabric/blob/62301becf28c1aa8a7fc8e76dc8014f867c691ae/integration/e2e/cft_test.go#L126)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 10/30/2018, 11:18:39 PM<br><strong>UnmergedRevision</strong>: [3f981b11e4006baad4560e486d5617fefa1f2729](https://github.com/hyperledger-gerrit-archive/fabric/commit/3f981b11e4006baad4560e486d5617fefa1f2729)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/30/2018, 11:24:27 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 10/30/2018, 11:23:35 PM<br><strong>UnmergedRevision</strong>: [e36108029afcb59cbe07b13d134849892312358c](https://github.com/hyperledger-gerrit-archive/fabric/commit/e36108029afcb59cbe07b13d134849892312358c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 10/30/2018, 11:30:36 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 10/31/2018, 9:39:24 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 11/2/2018, 9:24:20 AM<br><strong>UnmergedRevision</strong>: [0de3759b0edf29946b4c2928e7ab505d4ba343b7](https://github.com/hyperledger-gerrit-archive/fabric/commit/0de3759b0edf29946b4c2928e7ab505d4ba343b7)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:57:33 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 10:03:36 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 11/2/2018, 10:38:41 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 11/4/2018, 8:08:20 AM<br><strong>UnmergedRevision</strong>: [a776beb5885320990e56755f04be12385284f56e](https://github.com/hyperledger-gerrit-archive/fabric/commit/a776beb5885320990e56755f04be12385284f56e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:57:33 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 10:03:36 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Kostas Christidis - kostas@gmail.com<br><strong>Approved</strong>: 11/5/2018, 1:53:38 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 11/2/2018, 10:38:41 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Created</strong>: 11/5/2018, 9:45:15 PM<br><strong>UnmergedRevision</strong>: [9b65cfd56a6cb7f86e1a88737a6bf2caaf23f730](https://github.com/hyperledger-gerrit-archive/fabric/commit/9b65cfd56a6cb7f86e1a88737a6bf2caaf23f730)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:57:33 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 10:03:36 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Kostas Christidis - kostas@gmail.com<br><strong>Approved</strong>: 11/5/2018, 1:53:38 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 11/2/2018, 10:38:41 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Uploader</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Created</strong>: 11/8/2018, 8:06:21 AM<br><strong>GitHubMergedRevision</strong>: [7a2d6a5814b59083024b651181923ce54bc3b93b](https://github.com/hyperledger-gerrit-archive/fabric/commit/7a2d6a5814b59083024b651181923ce54bc3b93b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:37:09 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 9:57:33 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 11/2/2018, 10:03:36 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Kostas Christidis - kostas@gmail.com<br><strong>Approved</strong>: 11/5/2018, 1:53:38 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Kostas Christidis<br><strong>Merged</strong>: 11/8/2018, 10:30:15 AM<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 11/2/2018, 10:38:41 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>