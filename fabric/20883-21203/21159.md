<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 21159<br><strong>Subject</strong>: [FAB-8921] integrate idemix revocation<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 4/27/2018, 4:12:51 PM<br><strong>LastUpdated</strong>: 5/21/2018, 9:06:35 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-8921] integrate idemix revocation

With this commit idemix revocation algorithms are supported
by the idemix package and the idemix msp. Currently, there is
only a dummy revocation algorithm.

Change-Id: I703093428f4dff07515affe88b4c7f93a74320fe
Signed-off-by: Manu Drijvers <mdr@zurich.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Reviewed</strong>: 4/27/2018, 4:12:51 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:15:05 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/929/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:15:32 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:21:40 PM<br><strong>Message</strong>: <pre>Patch Set 1: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:22:14 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/929/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/929</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:24:23 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/597/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:24:52 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:28:35 PM<br><strong>Message</strong>: <pre>Patch Set 1: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:32:53 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1317/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:33:15 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:46:59 PM<br><strong>Message</strong>: <pre>Patch Set 1: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 4/27/2018, 4:47:24 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/597/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/597

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1317/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1317</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 4/30/2018, 7:10:19 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 4/30/2018, 11:59:25 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

I think that parts of this need to be restructured a bit .... will be back to comment.  Examples include using "get" in function names</pre><strong>Reviewer</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>Reviewed</strong>: 5/1/2018, 11:48:15 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(6 comments)</pre><strong>Reviewer</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Reviewed</strong>: 5/1/2018, 3:55:01 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)

Thanks for having a look Gari and Maria. I'll update the CR when you finished your comments Gari.</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 5/1/2018, 11:03:36 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(Hi Manu et. al, please keep me on the reviewers list on these...  have been asked to lend a hand)</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 5/1/2018, 11:03:43 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1</pre><strong>Reviewer</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Reviewed</strong>: 5/14/2018, 12:09:43 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:10:08 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1634/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:10:28 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Reviewed</strong>: 5/14/2018, 12:11:12 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(5 comments)

Thanks for the comments, I addressed Maria's comments and renamed the "nonRevokedProver" to "nonRevocationProver", as it's a prover that creates proofs of non-revocation.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:16:32 PM<br><strong>Message</strong>: <pre>Patch Set 2: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:16:57 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/1634/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/1634</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:18:41 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1106/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:19:12 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:34:12 PM<br><strong>Message</strong>: <pre>Patch Set 2: F2-SmokeTest+1

Succeeded, Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:38:48 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1872/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:39:10 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:52:05 PM<br><strong>Message</strong>: <pre>Patch Set 2: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/14/2018, 12:52:27 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/1106/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/1106

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1872/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/1872</pre><strong>Reviewer</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>Reviewed</strong>: 5/15/2018, 10:44:38 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+1</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 5/17/2018, 9:06:02 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 5/17/2018, 11:44:14 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review-1

(3 comments)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/18/2018, 6:06:07 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/18/2018, 10:46:59 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/18/2018, 12:30:52 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3: Patch Set 2 was rebased.</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/18/2018, 1:40:02 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/18/2018, 3:18:08 PM<br><strong>Message</strong>: <pre>Patch Set 4: Patch Set 3 was rebased</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/18/2018, 3:18:49 PM<br><strong>Message</strong>: <pre>Patch Set 4:

> I think that parts of this need to be restructured a bit .... will
 > be back to comment.  Examples include using "get" in function names

I did this in a later CR in the stack</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/19/2018, 7:34:07 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+1

need to make sure we address Keith's comments</pre><strong>Reviewer</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Reviewed</strong>: 5/20/2018, 10:27:07 AM<br><strong>Message</strong>: <pre>Patch Set 4:

(1 comment)</pre><strong>Reviewer</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>Reviewed</strong>: 5/20/2018, 1:28:25 PM<br><strong>Message</strong>: <pre>Patch Set 4: -Code-Review

(1 comment)</pre><strong>Reviewer</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Reviewed</strong>: 5/20/2018, 2:33:25 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 5/20/2018, 4:23:15 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review-1

Hi Keith,

I gave up on having more than the 384 earlier (I also raised the concern in other CRs and over Hyper/chat), but learned that the BCCSP layers supports only two options (which is alresdy pretty limiting, but sufficed in this case)

Also, given the timeframe/release timeline, the attributes are "fixed" (I know, I know, "fixed" is too strong a word).

Will be happy to revisit all this too, but in the interim, would you consider removing your objection/ -1 review, or put differently:

Are there any more concerns objections that make you believe that we should not merge this?

Not applying any pressure, (really!), I just promised to help/prioritize and unblock CRs whenever possible.

Again, I share the same concerns pointed here and have I raised them too... I promise to get back to them as well. (Un?)fortunately, I don't forget such CRs, but we really need "a form" of revocation.

Happy to block until we hear back from you. One way or another. Otherwise, I am g2g.

Thanks, J</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 5/21/2018, 8:19:36 AM<br><strong>Message</strong>: <pre>Removed Code-Review-1 by Keith Smith <keithsmithlfid@gmail.com>
</pre><strong>Reviewer</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Reviewed</strong>: 5/21/2018, 8:19:53 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 5/21/2018, 8:45:49 AM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2

Good morning - thanks!</pre><strong>Reviewer</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Reviewed</strong>: 5/21/2018, 8:45:51 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Jonathan Levi (HACERA)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/21/2018, 8:47:44 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/3864/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/21/2018, 8:48:39 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/2534/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 5/21/2018, 9:06:35 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/2534/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/2534/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/2534

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/3864/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/3864</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Uploader</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Created</strong>: 4/27/2018, 4:12:51 PM<br><strong>UnmergedRevision</strong>: [066d1f413b614435007dc8d0a36c7c9834931256](https://github.com/hyperledger-gerrit-archive/fabric/commit/066d1f413b614435007dc8d0a36c7c9834931256)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/27/2018, 4:21:40 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/27/2018, 4:21:40 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/27/2018, 4:28:35 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 4/27/2018, 4:46:59 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 5/1/2018, 11:03:43 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 4/30/2018, 11:59:25 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>Approved</strong>: 5/1/2018, 11:48:15 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>CommentLine</strong>: [idemix/idemix_test.go#L139](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/idemix_test.go#L139)<br><strong>Comment</strong>: <pre>it would be nice to add a comment that 4 is the index of the RH attribute</pre><strong>Commenter</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>CommentLine</strong>: [idemix/idemix_test.go#L139](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/idemix_test.go#L139)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [idemix/nonrevoked-prover.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/nonrevoked-prover.go#L15)<br><strong>Comment</strong>: <pre>is there going to be such a thing as a "revokedProver"?</pre><strong>Commenter</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>CommentLine</strong>: [idemix/nonrevoked-prover.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/nonrevoked-prover.go#L15)<br><strong>Comment</strong>: <pre>No, if a user (prover) is revoked, then such non-revocation proof cannot be created. If a prover is malicious and sends some fake proof then the non-revocation verification (which is a part of validating the identity) will fail on the peer side.</pre><strong>Commenter</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>CommentLine</strong>: [idemix/nonrevoked-prover.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/nonrevoked-prover.go#L15)<br><strong>Comment</strong>: <pre>I guess the name is not great, perhaps nonRevocationProver would be better, to express that you're proving non-revocation?</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [idemix/nonrevoked-prover.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/nonrevoked-prover.go#L15)<br><strong>Comment</strong>: <pre>I think we can just call this "Prover" then</pre><strong>Commenter</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>CommentLine</strong>: [idemix/signature.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/signature.go#L48)<br><strong>Comment</strong>: <pre>I would also add here that the RH attribute is never disclosed (thus the check for rhIndex). 
Other attributes can be disclosed with the risk of linkability (for example, EnrollmentId is only disclosed when authenticating to the CA for the re-enrollment request)</pre><strong>Commenter</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>CommentLine</strong>: [idemix/signature.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/signature.go#L48)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>CommentLine</strong>: [idemix/signature.go#L194](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/signature.go#L194)<br><strong>Comment</strong>: <pre>I would validate the input here as well (as for NewSignature)</pre><strong>Commenter</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>CommentLine</strong>: [idemix/signature.go#L194](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/idemix/signature.go#L194)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>CommentLine</strong>: [msp/idemixmsp.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/msp/idemixmsp.go#L137)<br><strong>Comment</strong>: <pre>I guess at some point we will need to certify this long-term key with a root CA</pre><strong>Commenter</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>CommentLine</strong>: [msp/idemixmsp.go#L137](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/msp/idemixmsp.go#L137)<br><strong>Comment</strong>: <pre>Why exactly? We can treat it in the same way as the issuer public key right?</pre><strong>Commenter</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>CommentLine</strong>: [protos/idemix/idemix.proto#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/protos/idemix/idemix.proto#L104)<br><strong>Comment</strong>: <pre>shall we call it RevocationEpochPK not to confuse with the long-term revocation pk (that is a part of the MSP config)</pre><strong>Commenter</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>CommentLine</strong>: [protos/idemix/idemix.proto#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/066d1f413b614435007dc8d0a36c7c9834931256/protos/idemix/idemix.proto#L104)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Uploader</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Created</strong>: 5/14/2018, 12:09:43 PM<br><strong>UnmergedRevision</strong>: [355c29029d25262473701dad2797fdecce9e50b3](https://github.com/hyperledger-gerrit-archive/fabric/commit/355c29029d25262473701dad2797fdecce9e50b3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:16:32 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:16:32 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:34:12 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:52:05 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 5/17/2018, 9:06:02 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 5/17/2018, 11:44:14 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>Approved</strong>: 5/15/2018, 10:44:38 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [idemix/signature.go#L198](https://github.com/hyperledger-gerrit-archive/fabric/blob/355c29029d25262473701dad2797fdecce9e50b3/idemix/signature.go#L198)<br><strong>Comment</strong>: <pre>How is the verifier going to know the order of attributes that the issuer gave to the attributes and so map this to attribute names?  Does the len of Disclosure also have to match the number of attributes in the credential from which the proof was generated?  If yes, how would the verifier know this len?  Or does it match the order and number of attributes the prover chooses to reveal, and if so, how would the verifier know this?

And lastly, how will verification of predicates work in the future when that is supported, since that is something the prover is disclosing?</pre><strong>Commenter</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>CommentLine</strong>: [idemix/signature.go#L198](https://github.com/hyperledger-gerrit-archive/fabric/blob/355c29029d25262473701dad2797fdecce9e50b3/idemix/signature.go#L198)<br><strong>Comment</strong>: <pre>Currently the verifier always knows exactly what type of proof it will receive because all credentials contain the same four attributes in a fixed order. When we're more flexible in proof statements, the verifier and prover must still 'agree' on what is being proved, because the verifier requests a certain statement to be proven so the prover must comply with that.</pre><strong>Commenter</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>CommentLine</strong>: [idemix/signature.go#L198](https://github.com/hyperledger-gerrit-archive/fabric/blob/355c29029d25262473701dad2797fdecce9e50b3/idemix/signature.go#L198)<br><strong>Comment</strong>: <pre>Indeed, to allow for flexible ACP we would need to agree on the language that we can use to express which predicates are proven about which attributes. This will be implemented in the next releases (issues are opened for that).</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [msp/idemixmsp.go#L132](https://github.com/hyperledger-gerrit-archive/fabric/blob/355c29029d25262473701dad2797fdecce9e50b3/msp/idemixmsp.go#L132)<br><strong>Comment</strong>: <pre>Is it always P384 for a reason?  Make it configurable?</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [msp/idemixmsp.go#L132](https://github.com/hyperledger-gerrit-archive/fabric/blob/355c29029d25262473701dad2797fdecce9e50b3/msp/idemixmsp.go#L132)<br><strong>Comment</strong>: <pre>I don't see any reason to make it configurable at this time.  The less config options the better</pre><strong>Commenter</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>CommentLine</strong>: [protos/idemix/idemix.proto#L107](https://github.com/hyperledger-gerrit-archive/fabric/blob/355c29029d25262473701dad2797fdecce9e50b3/protos/idemix/idemix.proto#L107)<br><strong>Comment</strong>: <pre>updated in https://gerrit.hyperledger.org/r/21161 to match coding guidelines</pre><strong>Commenter</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>CommentLine</strong>: [protos/msp/msp_config.proto#L123](https://github.com/hyperledger-gerrit-archive/fabric/blob/355c29029d25262473701dad2797fdecce9e50b3/protos/msp/msp_config.proto#L123)<br><strong>Comment</strong>: <pre>It isn't a time interval.  Change to "a monotonically increasing counter".</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Uploader</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Created</strong>: 5/18/2018, 12:30:52 PM<br><strong>UnmergedRevision</strong>: [6cb1a16d3883ab226a4d8eb5d816dcd69f55e2c4](https://github.com/hyperledger-gerrit-archive/fabric/commit/6cb1a16d3883ab226a4d8eb5d816dcd69f55e2c4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:16:32 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:16:32 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:34:12 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:52:05 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 5/17/2018, 9:06:02 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 5/17/2018, 11:44:14 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Maria Dubovitskaya - maria.dubovitskaya@gmail.com<br><strong>Approved</strong>: 5/15/2018, 10:44:38 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Manu Drijvers - mdr@zurich.ibm.com<br><strong>Uploader</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Created</strong>: 5/18/2018, 3:18:08 PM<br><strong>GitHubMergedRevision</strong>: [56d1ab92bac7901df0328e4b48d22ce84868a68a](https://github.com/hyperledger-gerrit-archive/fabric/commit/56d1ab92bac7901df0328e4b48d22ce84868a68a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:16:32 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:16:32 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:34:12 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 5/14/2018, 12:52:05 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jonathan Levi (HACERA) - jonathan@hacera.com<br><strong>Approved</strong>: 5/21/2018, 8:45:49 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Jonathan Levi (HACERA)<br><strong>Merged</strong>: 5/21/2018, 8:45:51 AM<br><br><strong>Approver</strong>: Keith Smith - keithsmithlfid@gmail.com<br><strong>Approved</strong>: 5/21/2018, 8:19:53 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gari Singh - gari.r.singh@gmail.com<br><strong>Approved</strong>: 5/20/2018, 2:33:25 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>