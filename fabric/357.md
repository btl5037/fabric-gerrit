<strong>Project</strong>: fabric</br><strong>Branch</strong>: master<br><strong>ID</strong>: 357<br><strong>Subject</strong>: re-enable sending of chaincode events<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Assignee</strong>:<strong>Created</strong>: 7/30/2016, 10:05:04 AM<br><strong>LastUpdated</strong>: 8/4/2016, 7:49:51 PM<br><strong>CommitMessage</strong>:<br><pre>re-enable sending of chaincode events

Chaincode events were originally stored in TransactionResults
in NonHashData(see fabric.proto). TransactionResults was removed as
part of removing error transactions from ledger which broke
sending of chaincode events. This is fixed in the patch which
stores chaincode events directly in NonHashData. Sample is also
enhanced.

Change-Id: Ifee8facb2e4760e878f15716af0e48346536c476
Signed-off-by: Srinivasan Muralidharan <muralisr@us.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 7/30/2016, 10:05:04 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/30/2016, 10:10:10 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/75/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/30/2016, 10:59:09 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/75/ : SUCCESS</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 7/31/2016, 11:06:32 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2016, 11:08:54 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/84/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/31/2016, 11:52:09 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/84/ : FAILURE</pre><strong>Reviewer</strong>: Patrick Mullaney - pm.mullaney@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 1:46:39 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+1</pre><strong>Reviewer</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 2:28:10 PM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 3:06:30 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Patrick Mullaney - pm.mullaney@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 3:08:28 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/1/2016, 3:12:48 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/96/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/1/2016, 3:56:03 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/96/ : SUCCESS</pre><strong>Reviewer</strong>: Sheehan Anderson - sranderson@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 4:37:04 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

The proto files should be compiled using the `make protos` command. I'm think you may have compiled them some other way as I see outgoing changes after running `make protos`</pre><strong>Reviewer</strong>: Sheehan Anderson - sranderson@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 4:46:22 PM<br><strong>Message</strong>: <pre>Patch Set 3:

I'm migrating https://github.com/hyperledger/fabric/pull/2224 now. This will be needed to run `make protos`. Will post update here when I've submitted the change for review.</pre><strong>Reviewer</strong>: Sheehan Anderson - sranderson@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 5:08:02 PM<br><strong>Message</strong>: <pre>Patch Set 3:

I submitted https://gerrit.hyperledger.org/r/#/c/373/. We can either merge that first and rebase this review, or you can copy the change to dah.proto, run `make protos` and submit the changes to your review.</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 8/1/2016, 6:48:40 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Sounds goo. I'll wait for https://gerrit.hyperledger.org/r/#/c/373/ and rebase</pre><strong>Reviewer</strong>: Greg Haskins - gregory.haskins@gmail.com<br><strong>Reviewed</strong>: 8/2/2016, 9:08:47 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+2

(1 comment)</pre><strong>Reviewer</strong>: Sheehan Anderson - sranderson@gmail.com<br><strong>Reviewed</strong>: 8/2/2016, 4:16:34 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+1

(5 comments)

Looks good. I added a few comments.

Now that 373 is merged, please run 'make protos' to regenerate the proto files</pre><strong>Reviewer</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>Reviewed</strong>: 8/3/2016, 3:53:27 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+1

(2 comments)

I will give +2 as soon as the current comments get fixed.</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 8/3/2016, 2:26:28 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/3/2016, 2:30:58 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/165/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/3/2016, 2:33:18 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/165/ : FAILURE</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 8/3/2016, 2:51:45 PM<br><strong>Message</strong>: <pre>Patch Set 4:

(4 comments)

Made all the reviewed changes except one. I think MD files should not have 80 char limitations as MD browser should wrap to fit.</pre><strong>Reviewer</strong>: Greg Haskins - gregory.haskins@gmail.com<br><strong>Reviewed</strong>: 8/3/2016, 3:11:40 PM<br><strong>Message</strong>: <pre>Patch Set 4: Code-Review+2</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 8/3/2016, 3:19:58 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Reviewed</strong>: 8/3/2016, 3:21:39 PM<br><strong>Message</strong>: <pre>Patch Set 4:

last patch to run goimports on the sample program</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/3/2016, 3:22:52 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/166/</pre><strong>Reviewer</strong>: Greg Haskins - gregory.haskins@gmail.com<br><strong>Reviewed</strong>: 8/3/2016, 3:28:59 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/3/2016, 4:11:54 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/166/ : SUCCESS</pre><strong>Reviewer</strong>: Sheehan Anderson - sranderson@gmail.com<br><strong>Reviewed</strong>: 8/4/2016, 6:41:56 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 8/4/2016, 6:41:59 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Sheehan Anderson</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/4/2016, 6:49:07 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/5/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/4/2016, 7:49:51 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/5/ : SUCCESS</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Srinivasan Muralidharan - muralisr@us.ibm.com<br><strong>Uploader</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Created</strong>: 1469887504<br><strong>GitHubRevision</strong>: [bad8bdc3dd8989d31c1d61d0c8cc7778ec6d723d](https://github.com/hyperledger/fabric/commit/bad8bdc3dd8989d31c1d61d0c8cc7778ec6d723d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/30/2016, 10:59:09 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Srinivasan Muralidharan - muralisr@us.ibm.com<br><strong>Uploader</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Created</strong>: 1469977592<br><strong>GitHubRevision</strong>: [1d3f2284544d0c3295924244635aa3a9e6202172](https://github.com/hyperledger/fabric/commit/1d3f2284544d0c3295924244635aa3a9e6202172)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/31/2016, 11:52:09 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Patrick Mullaney - pm.mullaney@gmail.com<br><strong>Approved</strong>: 8/1/2016, 1:46:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Binh Nguyen - binh1010010110@gmail.com<br><strong>Approved</strong>: 8/1/2016, 2:28:10 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Srinivasan Muralidharan - muralisr@us.ibm.com<br><strong>Uploader</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Created</strong>: 1470078390<br><strong>GitHubRevision</strong>: [78d84d41e306ddf741cf858f1a4b1a8abe996c7c](https://github.com/hyperledger/fabric/commit/78d84d41e306ddf741cf858f1a4b1a8abe996c7c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/1/2016, 3:56:03 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>Approved</strong>: 8/3/2016, 3:53:27 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Sheehan Anderson - sranderson@gmail.com<br><strong>Approved</strong>: 8/2/2016, 4:16:34 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Greg Haskins - gregory.haskins@gmail.com<br><strong>Approved</strong>: 8/2/2016, 9:08:47 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Patrick Mullaney - pm.mullaney@gmail.com<br><strong>Approved</strong>: 8/1/2016, 3:08:28 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Srinivasan Muralidharan - muralisr@us.ibm.com<br><strong>Uploader</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Created</strong>: 1470248788<br><strong>GitHubRevision</strong>: [5dbb2156a4cab507f4dd5c25b7c1814ce1970f59](https://github.com/hyperledger/fabric/commit/5dbb2156a4cab507f4dd5c25b7c1814ce1970f59)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/3/2016, 2:33:18 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Greg Haskins - gregory.haskins@gmail.com<br><strong>Approved</strong>: 8/3/2016, 3:11:40 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Srinivasan Muralidharan - muralisr@us.ibm.com<br><strong>Uploader</strong>: Srinivasan Muralidharan - srinivasan.muralidharan99@gmail.com<br><strong>Created</strong>: 1470251998<br><strong>GitHubRevision</strong>: [6daedfd69cf0e765ebe2ef8fb51cd1a324a95e30](https://github.com/hyperledger/fabric/commit/6daedfd69cf0e765ebe2ef8fb51cd1a324a95e30)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/3/2016, 4:11:54 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Sheehan Anderson - sranderson@gmail.com<br><strong>Approved</strong>: 8/4/2016, 6:41:56 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Sheehan Anderson<br><strong>Merged</strong>: 8/4/2016, 6:41:59 PM<br><br><strong>Approver</strong>: Greg Haskins - gregory.haskins@gmail.com<br><strong>Approved</strong>: 8/3/2016, 3:28:59 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote>