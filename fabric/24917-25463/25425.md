<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 25425<br><strong>Subject</strong>: [FAB-11540] TMS in-memory pool of unspent tokens<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 8/10/2018, 11:47:56 AM<br><strong>LastUpdated</strong>: 5/20/2019, 9:10:56 AM<br><strong>CommitMessage</strong>:<br><pre>[FAB-11540] TMS in-memory pool of unspent tokens

An implementation of an internal, in-memory pool of unspent tokens
that can be used by the other TMS components. The pool stores the
unspent tokens in an in-memory data structure, and does not
communicate with any ledger. This pool can therefore be used for
developing and testing the rest of the TMS, but shall not be used
in production.

Change-Id: Iea03932f35e7e12d7453e6f90289034d5f07bbe6
Signed-off-by: Mathias Bjoerkqvist <mbj@zurich.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/10/2018, 11:47:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 11:51:44 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/3798/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 11:52:05 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 11:59:26 AM<br><strong>Message</strong>: <pre>Patch Set 1: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 11:59:57 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/3798/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/3798</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:00:21 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2475/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:00:40 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:12:46 PM<br><strong>Message</strong>: <pre>Patch Set 1: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:15:26 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3577/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:15:45 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:16:09 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1188/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:16:56 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:30:54 PM<br><strong>Message</strong>: <pre>Patch Set 1: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:38:58 PM<br><strong>Message</strong>: <pre>Patch Set 1: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/10/2018, 12:39:30 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1188/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1188/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1188

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2475/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2475

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3577/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3577</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/10/2018, 2:45:04 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-1

(26 comments)

This implementation is starting to show how the abstractions that have been defined in the interfaces earlier in the CR chain(s) don't really hold up (Output, TransactionData). This is, again, why I really want to start seeing some concrete implementations.

Some of the items in here are relatively easy to address
- separate generate from godoc
- reorder fields near mutex
- don't declare error return from unexported method that never returns an error

Some of the items are a little harder
- exported constructors return exported types
- extract validation to a separate method
- byte slices vs hex encoded strings

My concern is that I am still seeing things like type switches an assertions that are specific to implementations that are being built while still pretending the interfaces make sense.</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/10/2018, 5:06:53 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)

Added a point of clarification.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 8/15/2018, 1:51:12 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/15/2018, 2:46:20 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/16/2018, 9:39:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 9:42:28 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4014/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 9:42:49 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 9:42:53 AM<br><strong>Message</strong>: <pre>Patch Set 2: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 9:43:27 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4014/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4014/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4014</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/16/2018, 11:20:25 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(25 comments)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/16/2018, 11:20:47 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:25:31 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4017/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:25:48 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:32:14 AM<br><strong>Message</strong>: <pre>Patch Set 3: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:32:44 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4017/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4017</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:34:51 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2611/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:35:13 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:46:00 AM<br><strong>Message</strong>: <pre>Patch Set 3: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:48:38 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3744/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:49:04 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:49:18 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1324/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 11:49:46 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 12:04:24 PM<br><strong>Message</strong>: <pre>Patch Set 3: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 12:07:38 PM<br><strong>Message</strong>: <pre>Patch Set 3: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 12:08:10 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2611/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2611

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3744/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3744

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1324/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1324</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/16/2018, 3:02:52 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:08:05 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4028/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:08:22 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:14:44 PM<br><strong>Message</strong>: <pre>Patch Set 4: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:15:07 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4028/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4028</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:19:18 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2620/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:19:43 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:33:56 PM<br><strong>Message</strong>: <pre>Patch Set 4: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:36:40 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3754/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:37:02 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:37:27 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1334/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:38:04 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:51:07 PM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:52:56 PM<br><strong>Message</strong>: <pre>Patch Set 4: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/16/2018, 3:53:17 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2620/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2620

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3754/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3754

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1334/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1334</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/19/2018, 4:12:11 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:14:06 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4074/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:14:22 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:21:24 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:21:53 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4074/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4074</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:23:19 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2649/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:23:39 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting smoke tests</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/19/2018, 4:32:28 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:35:06 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4076/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:35:22 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:38:07 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:41:00 PM<br><strong>Message</strong>: <pre>Patch Set 6: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:41:20 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4076/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4076</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:42:13 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3782/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:42:30 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:42:41 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1362/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:43:08 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2651/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:43:16 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:43:29 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:54:45 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:55:49 PM<br><strong>Message</strong>: <pre>Patch Set 6: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:56:07 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3782/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3782/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3782

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2649/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2649

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1362/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1362</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:58:37 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3784/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:58:58 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 4:59:18 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1364/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:00:00 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:07:03 PM<br><strong>Message</strong>: <pre>Patch Set 6: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:16:15 PM<br><strong>Message</strong>: <pre>Patch Set 6: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:16:49 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3784/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3784/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3784

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2651/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2651

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1364/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1364</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/20/2018, 5:05:14 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:09:02 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3791/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:09:28 AM<br><strong>Message</strong>: <pre>Patch Set 6: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:24:16 AM<br><strong>Message</strong>: <pre>Patch Set 6: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:24:42 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3791/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3791</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/21/2018, 4:24:36 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:29:19 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4142/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:29:39 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:35:53 PM<br><strong>Message</strong>: <pre>Patch Set 7: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:36:16 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4142/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4142</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:40:04 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2690/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:40:31 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:53:49 PM<br><strong>Message</strong>: <pre>Patch Set 7: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:56:26 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3830/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:56:41 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1412/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:56:44 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:57:12 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:11:28 PM<br><strong>Message</strong>: <pre>Patch Set 7: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:12:11 PM<br><strong>Message</strong>: <pre>Patch Set 7: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:12:38 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2690/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2690

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3830/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3830

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1412/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1412</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/22/2018, 2:08:27 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review-1

(10 comments)

We have to decide if this is something that is supposed to be reusable or not. The commit message says it is but most of what would be needed to make this usable outside of the package indicates otherwise.

The custom error type should encapsulate the identifiers instead of having a custom message created with encoding logic at every call site.

The hashing teat should use a fixture with a well known hash for verification.</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/22/2018, 2:24:16 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/22/2018, 2:47:10 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/23/2018, 5:10:50 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(12 comments)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/23/2018, 5:11:41 PM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:14:26 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4227/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:14:50 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:22:47 PM<br><strong>Message</strong>: <pre>Patch Set 8: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:23:22 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4227/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4227</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:26:06 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2750/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:26:27 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:39:13 PM<br><strong>Message</strong>: <pre>Patch Set 8: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:41:31 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3903/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:41:54 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:42:18 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1467/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:42:53 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:57:22 PM<br><strong>Message</strong>: <pre>Patch Set 8: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:57:40 PM<br><strong>Message</strong>: <pre>Patch Set 8: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 5:58:13 PM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2750/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2750

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3903/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3903

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1467/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1467</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 8/24/2018, 3:36:10 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(3 comments)

Thanks Mathias! A few questions from my side.</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/24/2018, 7:27:50 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:32:21 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4248/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:32:44 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:40:09 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:40:38 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4248/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4248</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/24/2018, 7:44:55 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:46:01 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2763/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:46:33 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:47:30 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4249/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:47:50 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:56:05 AM<br><strong>Message</strong>: <pre>Patch Set 10: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:56:48 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4249/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4249</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:56:51 AM<br><strong>Message</strong>: <pre>Patch Set 9: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2763/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2763/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2763</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:59:03 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2764/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 7:59:27 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:15:41 AM<br><strong>Message</strong>: <pre>Patch Set 10: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:17:53 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3917/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:18:13 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:18:38 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1480/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:19:34 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:34:03 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:35:30 AM<br><strong>Message</strong>: <pre>Patch Set 10: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 8:36:09 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2764/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2764

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3917/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3917

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1480/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1480</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/24/2018, 9:00:01 AM<br><strong>Message</strong>: <pre>Patch Set 8:

(2 comments)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/24/2018, 11:24:37 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:28:58 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4258/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:29:20 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:36:59 AM<br><strong>Message</strong>: <pre>Patch Set 11: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:37:43 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Unstable 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4258/ : UNSTABLE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4258/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4258</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:40:04 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2771/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:40:32 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:41:37 AM<br><strong>Message</strong>: <pre>Patch Set 11: F2-SmokeTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/24/2018, 11:42:32 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2771/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2771/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2771</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/25/2018, 4:26:58 AM<br><strong>Message</strong>: <pre>Uploaded patch set 12.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:09:40 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4271/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:10:10 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:16:46 PM<br><strong>Message</strong>: <pre>Patch Set 12: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:17:25 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4271/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4271</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:19:55 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2780/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:20:14 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:30:31 PM<br><strong>Message</strong>: <pre>Patch Set 12: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:33:25 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3932/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:33:41 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:34:07 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1494/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:34:43 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:45:21 PM<br><strong>Message</strong>: <pre>Patch Set 12: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:47:50 PM<br><strong>Message</strong>: <pre>Patch Set 12: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:48:19 PM<br><strong>Message</strong>: <pre>Patch Set 12:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2780/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2780

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3932/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3932

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1494/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1494</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 8/28/2018, 7:52:28 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(2 comments)

Thanks Matthias, a few minor comments from my side.</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/31/2018, 4:55:06 AM<br><strong>Message</strong>: <pre>Patch Set 12:

(2 comments)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/31/2018, 10:17:46 AM<br><strong>Message</strong>: <pre>Abandoned

Functionality rewritten and squashed into https://gerrit.hyperledger.org/r/25671</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/10/2018, 11:47:56 AM<br><strong>UnmergedRevision</strong>: [8a561cc00d67e26aa598219e3c4d253f9557d93c](https://github.com/hyperledger-gerrit-archive/fabric/commit/8a561cc00d67e26aa598219e3c4d253f9557d93c)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/10/2018, 11:59:26 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/10/2018, 11:59:26 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/10/2018, 12:12:46 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/10/2018, 12:38:58 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/10/2018, 12:30:54 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 8/10/2018, 2:45:04 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/common/common.go#L7](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/common/common.go#L7)<br><strong>Comment</strong>: <pre>This still doesn't make sense. - Common between what?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/common/common.go#L7](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/common/common.go#L7)<br><strong>Comment</strong>: <pre>Removing common package.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/credential.go#L9](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/credential.go#L9)<br><strong>Comment</strong>: <pre>please separate the generate from the type or godoc will use this generate command as documentation</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/credential.go#L9](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/credential.go#L9)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/import.go#L17](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/import.go#L17)<br><strong>Comment</strong>: <pre>Please separate the generate directive from the doc</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/import.go#L17](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/import.go#L17)<br><strong>Comment</strong>: <pre>Separating.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/import.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/import.go#L29)<br><strong>Comment</strong>: <pre>So, do we expect to ever see a nil importDataImpl? If we get one, how did it get here? If it's something that should never happen, let the runtime panic.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/import.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/import.go#L29)<br><strong>Comment</strong>: <pre>You're right, it should never happen. Removing the checks from this and other functions.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/import.go#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/import.go#L101)<br><strong>Comment</strong>: <pre>Same as earlier comment.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/import.go#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/import.go#L101)<br><strong>Comment</strong>: <pre>Same fix as earlier.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/output.go#L12](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/output.go#L12)<br><strong>Comment</strong>: <pre>why?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/output.go#L12](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/output.go#L12)<br><strong>Comment</strong>: <pre>A stray naming left over from refactoring - this file will go away anyway if we use the protobuf messages.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/output.go#L17](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/output.go#L17)<br><strong>Comment</strong>: <pre>Why isn't this exported? Also, when it's exported, the name will stutter: plain.PlainOutput - it's a concrete implementation of an Output.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/output.go#L17](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/output.go#L17)<br><strong>Comment</strong>: <pre>You're right, it should be exported. Again, when switching to using the protobuf messages, this issue should go away.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L24)<br><strong>Comment</strong>: <pre>I don't understand why a string is the key when we are continually encoding and decoding byte slices into strings.

We either don't have the correct data type on the map or on all of the methods. Something is wrong.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L24)<br><strong>Comment</strong>: <pre>And, to be clear, I understand that a byte slice can't be used as a key in a map.  So, I know why the encode and decode are happening - I'm questioning whether or not there's a better way.</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L24)<br><strong>Comment</strong>: <pre>why don't we just cast it to a string? 

entries[string(bytes)] 

what's wrong with that?</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L24)<br><strong>Comment</strong>: <pre>There's nothing wrong with casting to a string - and it's far cheaper than encoding. There was even a perf optimization added for it in go 1.3 when coded a particular way.

What I want, however, is for people to recognize that a byte slice has no behavior. Custom types, however, can implement behavior.

Also, we have a hard coded 33 somewhere in here. That implies that we could have typed a token to an array of len 33 instead of a byte slice. If we had done that, the token could be used as a key directly.

These are trade-offs between generic abstractions and concrete implementations.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L24)<br><strong>Comment</strong>: <pre>Removing the hard coded 33, and using string(bytes) for now. Using [33]bytes would be more restrictive. Refactoring to use [33]bytes is a lot of hassle, and I would prefer to defer that to later, if we see that it makes sense.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L25)<br><strong>Comment</strong>: <pre>idiomatically, we group the mutex with what it protects and place the mutex _before_ the fields</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L25)<br><strong>Comment</strong>: <pre>Moving the mutex to before the map.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L29)<br><strong>Comment</strong>: <pre>why do we declare an error when we don't ever return one?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L29)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L33](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L33)<br><strong>Comment</strong>: <pre>Why are we hiding these?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L33](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L33)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L42)<br><strong>Comment</strong>: <pre>Assertions to a concrete type are a smell. It means the abstractions are wrong.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L42](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L42)<br><strong>Comment</strong>: <pre>Removing assertion and using protobuf messages.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L68](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L68)<br><strong>Comment</strong>: <pre>This is yet another form of constructor that creates and returns a private type. This asymmetry is a sign of a problem. It means a caller can be anywhere and get something back that's largely opaque; that doesn't make a lot of sense.

It's either a detail or your hiding too much. Which is it?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L68](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L68)<br><strong>Comment</strong>: <pre>Removing constructor and keeping type private (at least for now).</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L71)<br><strong>Comment</strong>: <pre>Encode #1</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L71)<br><strong>Comment</strong>: <pre>Removing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L83)<br><strong>Comment</strong>: <pre>encode #2</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L83)<br><strong>Comment</strong>: <pre>Removing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L102](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L102)<br><strong>Comment</strong>: <pre>What's the significance of 33? It's another one of those things that's telling me Output is a bad abstraction.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L102](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L102)<br><strong>Comment</strong>: <pre>Currently it's the txId (32 bytes), plus the index of the output within the transaction (1 byte). But the pool should not have to worry about that, so removing this.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L104)<br><strong>Comment</strong>: <pre>we need a clear validation method - it needs to be extracted from addEntry.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L104)<br><strong>Comment</strong>: <pre>Removing this check from here.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L105)<br><strong>Comment</strong>: <pre>encode #3</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L105](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L105)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L136)<br><strong>Comment</strong>: <pre>no. never ever ever. Define an explicit error value that we can do an equality check on or use an explicit error type that a type switch can be used on.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L136](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L136)<br><strong>Comment</strong>: <pre>Fixing, thanks!</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L163](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L163)<br><strong>Comment</strong>: <pre>Q: Do we care that the pool can change during iteration?  We may not but that implies we can have a key in the slice for an entry that's been removed, doesn't it?  May not be an issue - can't tell how this is used yet - especially as this is "for test."</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L163](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L163)<br><strong>Comment</strong>: <pre>Good question, I'm not sure yet. However, given that race conditions are difficult to debug, I would prefer to leave the current implementation. Of course, I also see the issue with "just in case" code rotting away. The iterator should also be around for the ledger-backed pool, so this issue won't go away ones the mapPool is gone.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L169](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L169)<br><strong>Comment</strong>: <pre>hex decode</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L169](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L169)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L169](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L169)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L175](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L175)<br><strong>Comment</strong>: <pre>No io.EOF or similar to indicate we're at the end? How do I know when I've iterated through everything?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L175](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool.go#L175)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool_test.go#L104)<br><strong>Comment</strong>: <pre>Please see my earlier comment about removing an entry from the pool and an explicit error when iteration is complete.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L104](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/plain/pool_test.go#L104)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/tms.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/tms.go#L24)<br><strong>Comment</strong>: <pre>Good change. Get rid of "common" and burn it in a fire.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/tms.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/tms.go#L24)<br><strong>Comment</strong>: <pre>Removing common and the whole tms.go interface class (for now at least).</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/tms.go#L45](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/tms.go#L45)<br><strong>Comment</strong>: <pre>Please separate the generate directive from the doc</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/tms.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/8a561cc00d67e26aa598219e3c4d253f9557d93c/token/tms/tms.go#L48)<br><strong>Comment</strong>: <pre>Please see my earlier comments about how this is looking increasingly like a bad abstraction. The type concrete class type assertions are trying to tell you that.</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/16/2018, 9:39:13 AM<br><strong>UnmergedRevision</strong>: [bccc71b0fc435b2ee25d757af17fea13a765c124](https://github.com/hyperledger-gerrit-archive/fabric/commit/bccc71b0fc435b2ee25d757af17fea13a765c124)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 9:42:53 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/16/2018, 11:20:47 AM<br><strong>UnmergedRevision</strong>: [8655ba22af7237367e393409da73a38da7d7bbe3](https://github.com/hyperledger-gerrit-archive/fabric/commit/8655ba22af7237367e393409da73a38da7d7bbe3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 11:32:14 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 11:32:14 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 11:46:00 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 12:07:38 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 12:04:24 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/16/2018, 3:02:52 PM<br><strong>UnmergedRevision</strong>: [3ac77c3b1266ac7db2ab5e228799e13f3718e5d5](https://github.com/hyperledger-gerrit-archive/fabric/commit/3ac77c3b1266ac7db2ab5e228799e13f3718e5d5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 3:14:44 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 3:14:44 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 3:33:56 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 3:52:56 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/16/2018, 3:51:07 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/19/2018, 4:12:11 PM<br><strong>UnmergedRevision</strong>: [f9198002da2c825fb956a063bd90c515bdcff6fc](https://github.com/hyperledger-gerrit-archive/fabric/commit/f9198002da2c825fb956a063bd90c515bdcff6fc)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:21:24 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:21:24 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:38:07 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:54:45 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:56:07 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/19/2018, 4:32:28 PM<br><strong>UnmergedRevision</strong>: [f32423604ba074813f2a82fd00123ceeb18a358d](https://github.com/hyperledger-gerrit-archive/fabric/commit/f32423604ba074813f2a82fd00123ceeb18a358d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:41:00 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:41:00 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 4:55:49 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 5:16:15 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 5:24:16 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/21/2018, 4:24:36 PM<br><strong>UnmergedRevision</strong>: [4ec08f4091ac295313dbe156b1754ad8c7c07fe9](https://github.com/hyperledger-gerrit-archive/fabric/commit/4ec08f4091ac295313dbe156b1754ad8c7c07fe9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 4:35:53 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 4:35:53 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 4:53:49 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 5:12:11 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 5:11:28 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 8/22/2018, 2:08:27 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L10](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9//COMMIT_MSG#L10)<br><strong>Comment</strong>: <pre>I don't see how this is true given most of the API is unexported.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L10](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9//COMMIT_MSG#L10)<br><strong>Comment</strong>: <pre>The other TMS components that use the pool are in the same package, so the pool does not need to be exported. If the use is extended to other components outside the package, the functions and types will be exported as needed.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [/COMMIT_MSG#L10](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9//COMMIT_MSG#L10)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L2)<br><strong>Comment</strong>: <pre>All of the copyrights (here and further in the chain) need to be updated. It's not 2017.

Might want to check with someone else but I believe we're omitting the year anyway.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L2)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L30](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L30)<br><strong>Comment</strong>: <pre>Stop hiding if it's API. As coded, it's unusable. Nobody can do a type assertion.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L30](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L30)<br><strong>Comment</strong>: <pre>Exporting since this error may find its way out of the package.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L69)<br><strong>Comment</strong>: <pre>5-6 levels of nesting is really deep. This should be refactored.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L69](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L69)<br><strong>Comment</strong>: <pre>Refactoring.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L76](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L76)<br><strong>Comment</strong>: <pre>this is an example of where context would be helpful. What was the transaction type?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L76](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L76)<br><strong>Comment</strong>: <pre>Creating new error type, printing out type in error message.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L92](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L92)<br><strong>Comment</strong>: <pre>Please explain how this makes sense to an API consumer? We have an exported method that returns an unexported concrete type.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L92](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L92)<br><strong>Comment</strong>: <pre>Not exporting the iterator at this time.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L98](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L98)<br><strong>Comment</strong>: <pre>you may want do a quick browse of the go language spec and review maps and zero values.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L98](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L98)<br><strong>Comment</strong>: <pre>Storing a copy of the PlainOutput value in the map, instead of a pointer. Also removing the nil-check on output (which is anyway not relevant anymore).</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L100](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L100)<br><strong>Comment</strong>: <pre>The id is a byte slice yet we hex-encode the value to a string in the error. You have a custom error type. If you needed to keep the key in the error, it makes more sense to create the error around the slice to preserve it.

That said, I don't know what we're doing with this yet...</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L100](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L100)<br><strong>Comment</strong>: <pre>I'm not sure I understood exactly what you meant. I changed the way the error is created and printed, could you let me know if the new version is more what you had in mind, or how I should fix it?</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L108](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L108)<br><strong>Comment</strong>: <pre>this pattern does not benefit from the map byte-string key conversion optimization. You need to explicitly cast and reference together as you did on line 97.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L108](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L108)<br><strong>Comment</strong>: <pre>Addressing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L155)<br><strong>Comment</strong>: <pre>combine into a single block and we'll go to one idiomatic and readable block

if _, ok := err.(poolErrNotFound); !ok {
    logger.Error(err)
}

There's no need to check for err != nil and there's no need for an else.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L155](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool.go#L155)<br><strong>Comment</strong>: <pre>Addressing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L31](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool_test.go#L31)<br><strong>Comment</strong>: <pre>why do we need this for unit tests when hard coded IDs are perfectly appropriate and sane for basic assertions?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L31](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/pool_test.go#L31)<br><strong>Comment</strong>: <pre>Removing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/transactionid_test.go#L19](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/transactionid_test.go#L19)<br><strong>Comment</strong>: <pre>A proper unit test would be using calculating the SHA or using a fixture with a well known SHA for the assertions. This isn't testing the implementation as much as making sure a non-nil value comes back.

I could easily change the implementation to return an xor checksum or a constant []byte{1, 2, 3, 4} and this would continue to pass.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/transactionid_test.go#L19](https://github.com/hyperledger-gerrit-archive/fabric/blob/4ec08f4091ac295313dbe156b1754ad8c7c07fe9/token/tms/plain/transactionid_test.go#L19)<br><strong>Comment</strong>: <pre>Adding a more comprehensive test.</pre></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/23/2018, 5:11:41 PM<br><strong>UnmergedRevision</strong>: [2d17561f5e84e4c200ca62da5be4db9b2a42786a](https://github.com/hyperledger-gerrit-archive/fabric/commit/2d17561f5e84e4c200ca62da5be4db9b2a42786a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 5:22:47 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 5:22:47 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 5:39:13 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 5:57:22 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 5:57:40 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L91](https://github.com/hyperledger-gerrit-archive/fabric/blob/2d17561f5e84e4c200ca62da5be4db9b2a42786a/token/tms/plain/pool.go#L91)<br><strong>Comment</strong>: <pre>Just for me to confirm: while the in-memory pool needs these locks, the ledger equivalent of this would not need it, right? Meaning the updateContent would only be invoked within "Commit" process, that already ensures single occupation of the ledger's pool.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L91](https://github.com/hyperledger-gerrit-archive/fabric/blob/2d17561f5e84e4c200ca62da5be4db9b2a42786a/token/tms/plain/pool.go#L91)<br><strong>Comment</strong>: <pre>In that case we wouldn't need it for processing transactions, but if someone is listing tokens at the same time as a transaction is performed, depending on how and from where the outputIterator is obtained, it may end up with an inconsistent view of the pool. Currently that is not an issue since this is not implemented yet, and the outputIterator is not exported, but this should be taken into account.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/transactionid.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/2d17561f5e84e4c200ca62da5be4db9b2a42786a/token/tms/plain/transactionid.go#L15)<br><strong>Comment</strong>: <pre>Same question as in the transfer CR, repeating here as it looks that it is in context: why dont we use solely the resulting transaction's identifier as tms transaction identifier? I am asking cause the "marshalledTransaction" (If i undestand correctly, would be identical for two distinct tms transactions with the same details, sender, recipient, quantity and type of tokens), so would not add to the uniqueness of the identifier.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/transactionid.go#L15](https://github.com/hyperledger-gerrit-archive/fabric/blob/2d17561f5e84e4c200ca62da5be4db9b2a42786a/token/tms/plain/transactionid.go#L15)<br><strong>Comment</strong>: <pre>I think that makes sense, and that simplifies things on the TMS side.</pre></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/24/2018, 7:27:50 AM<br><strong>UnmergedRevision</strong>: [9e62260ff66416db615bcaaab8a04ef98cbb9005](https://github.com/hyperledger-gerrit-archive/fabric/commit/9e62260ff66416db615bcaaab8a04ef98cbb9005)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 7:40:09 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 7:40:09 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 7:56:51 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/24/2018, 7:44:55 AM<br><strong>UnmergedRevision</strong>: [a2dc3f082ab437896718442aadec12ecb7457d5d](https://github.com/hyperledger-gerrit-archive/fabric/commit/a2dc3f082ab437896718442aadec12ecb7457d5d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 7:56:05 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 7:56:05 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 8:15:41 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 8:35:30 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 8:34:03 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/24/2018, 11:24:37 AM<br><strong>UnmergedRevision</strong>: [217c0cb2f353fc1fea4d6cee71b080e1fdf78162](https://github.com/hyperledger-gerrit-archive/fabric/commit/217c0cb2f353fc1fea4d6cee71b080e1fdf78162)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 11:36:59 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 11:36:59 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/24/2018, 11:41:37 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/25/2018, 4:26:58 AM<br><strong>UnmergedRevision</strong>: [445b7df871016d228e2a090aa50aacb46819bde5](https://github.com/hyperledger-gerrit-archive/fabric/commit/445b7df871016d228e2a090aa50aacb46819bde5)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/25/2018, 2:16:46 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/25/2018, 2:16:46 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/25/2018, 2:30:31 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/25/2018, 2:45:21 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/25/2018, 2:47:50 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/445b7df871016d228e2a090aa50aacb46819bde5/token/tms/plain/pool.go#L29)<br><strong>Comment</strong>: <pre>It's better to define the method with pointer receiver - this way the caller of whichever function returns this error doesn't need to test for

```
case (*thisErr), (thisErr):
```
if they want to typecast.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L29](https://github.com/hyperledger-gerrit-archive/fabric/blob/445b7df871016d228e2a090aa50aacb46819bde5/token/tms/plain/pool.go#L29)<br><strong>Comment</strong>: <pre>Thanks for the suggestion! This is addressed in https://gerrit.hyperledger.org/r/#/c/25671/</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/transactiondata.go#L16](https://github.com/hyperledger-gerrit-archive/fabric/blob/445b7df871016d228e2a090aa50aacb46819bde5/token/tms/transactiondata.go#L16)<br><strong>Comment</strong>: <pre>Feel free to disregard this but: when I first read the code I thought TxID was going to be fabric's TxID (and I got confused because that's usually a string and not bytes). If you think it makes sense, could you come up with a different name, like tokId, tokTxID or something else? If not, feel free to disregard.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/transactiondata.go#L16](https://github.com/hyperledger-gerrit-archive/fabric/blob/445b7df871016d228e2a090aa50aacb46819bde5/token/tms/transactiondata.go#L16)<br><strong>Comment</strong>: <pre>Changing this to a string in https://gerrit.hyperledger.org/r/#/c/25671/
We will actually use the fabric TxID directly, and having it as a string simplifies things.</pre></blockquote>