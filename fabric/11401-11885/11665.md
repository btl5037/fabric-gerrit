<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 11665<br><strong>Subject</strong>: [FAB-5322] fixed docker-compose example using host time<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 7/15/2017, 1:12:13 AM<br><strong>LastUpdated</strong>: 9/13/2017, 9:23:56 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-5322] fixed docker-compose example using host time

Change-Id: I3860033c930a0f391dc91661ae86719abe78792c
Signed-off-by: liuwenliang0632@qq.com <liuwenliang0632@qq.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Reviewed</strong>: 7/15/2017, 1:12:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:12:31 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9758/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:13:31 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/14106/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:13:59 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/5609/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:14:54 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/8156/ (4/4)</pre><strong>Reviewer</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Reviewed</strong>: 7/15/2017, 1:16:52 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:17:02 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9759/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:19:01 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/14107/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:19:19 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/8157/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:19:19 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/5610/ (3/4)</pre><strong>Reviewer</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Reviewed</strong>: 7/15/2017, 1:21:35 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:21:46 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-x86_64/14108/ (2/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:21:47 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-z/9760/ (1/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:25:46 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/5611/ (3/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 1:26:39 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/8158/ (4/4)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 2:17:48 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/14108/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/14108

https://jenkins.hyperledger.org/job/fabric-verify-z/9760/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9760

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/5611/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/5611

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/8158/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/8158</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 2:46:25 AM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/14106/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/14106

https://jenkins.hyperledger.org/job/fabric-verify-z/9758/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9758

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/5609/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/5609

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/8156/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/8156</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 7/15/2017, 3:12:57 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/14107/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-x86_64/14107

https://jenkins.hyperledger.org/job/fabric-verify-z/9759/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/9759

https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/5610/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-end-2-end-x86_64/5610

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/8157/ : SUCCESS

Logs: https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-behave-x86_64/8157</pre><strong>Reviewer</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>Reviewed</strong>: 7/15/2017, 9:03:30 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Why we need to mount the host time?
To make time clock more close to each other among containers?</pre><strong>Reviewer</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Reviewed</strong>: 7/15/2017, 10:22:47 AM<br><strong>Message</strong>: <pre>Patch Set 3:

when the log show 
2017-07-15 14:16:41.443 UTC 
but my time zone is CST.i think it should be show
2017-07-15 22:17:14.443 CST</pre><strong>Reviewer</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>Reviewed</strong>: 7/15/2017, 10:22:03 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review+1

> when the log show
 > 2017-07-15 14:16:41.443 UTC
 > but my time zone is CST.i think it should be show
 > 2017-07-15 22:17:14.443 CST

Aha, so is it more simple to set like TZ=UTC?
I'm OK with the change, only to know if it could work in those non-linux os.
Thanks!</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 7/16/2017, 10:02:17 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

If it's time deviation, it's a docker bug. (At least it happens sometimes on OSX and Windows: https://forums.docker.com/t/time-in-container-is-out-of-sync/16566

If it's timezone difference, I don't think the issue is significant enough that we should sweep config files for that. If people REALLY care about it, they should set timezone when build the image, instead of mounting host config into it.</pre><strong>Reviewer</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Reviewed</strong>: 7/16/2017, 10:25:18 PM<br><strong>Message</strong>: <pre>Patch Set 3:

i understand that if i want to use my timezone, i need build my image from office images.</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 7/16/2017, 10:27:09 PM<br><strong>Message</strong>: <pre>Patch Set 3: -Code-Review

> i understand that if i want to use my timezone, i need build my
 > image from office images.

You could of course do exactly what are doing in this patch, I just don't think it's something should be upstreamed. :)</pre><strong>Reviewer</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Reviewed</strong>: 7/16/2017, 10:27:28 PM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-1

> > i understand that if i want to use my timezone, i need build my
 > > image from office images.
 > 
 > You could of course do exactly what are doing in this patch, I just
 > don't think it's something should be upstreamed. :)</pre><strong>Reviewer</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Reviewed</strong>: 7/16/2017, 10:36:44 PM<br><strong>Message</strong>: <pre>Patch Set 3:

One more choice</pre><strong>Reviewer</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Reviewed</strong>: 9/13/2017, 8:25:07 AM<br><strong>Message</strong>: <pre>Patch Set 3: Code-Review-2

As @Gari indicated in the JIRA, this is not a Fabric defect. Restarting Docker will resolve any discrepancy.</pre><strong>Reviewer</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Reviewed</strong>: 9/13/2017, 9:23:56 PM<br><strong>Message</strong>: <pre>Abandoned

it is not a bug</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Uploader</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Created</strong>: 7/15/2017, 1:12:13 AM<br><strong>UnmergedRevision</strong>: dd3b6285891104537cc43cf8aa37938aaac99dc8<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/15/2017, 2:46:25 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Uploader</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Created</strong>: 7/15/2017, 1:16:52 AM<br><strong>UnmergedRevision</strong>: a1a332d2558a3447e1614063a9dc8949fd1ebb2f<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/15/2017, 3:12:57 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Uploader</strong>: Liu Wenliang - liuwenliang0632@qq.com<br><strong>Created</strong>: 7/15/2017, 1:21:35 AM<br><strong>UnmergedRevision</strong>: 1913d07c97cffa0599c6947d3da16c34ce10a07e<br><br><strong>Approver</strong>: Christopher Ferris - chris.ferris@gmail.com<br><strong>Approved</strong>: 9/13/2017, 8:25:07 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 7/15/2017, 2:17:48 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Baohua Yang - yangbaohua@gmail.com<br><strong>Approved</strong>: 7/15/2017, 10:22:03 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Jay Guo - guojiannan1101@gmail.com<br><strong>Approved</strong>: 7/16/2017, 10:27:28 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote>