<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 25679<br><strong>Subject</strong>: Store & ret. missingDataInfo in pvtstore<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 8/20/2018, 8:12:42 AM<br><strong>LastUpdated</strong>: 8/28/2018, 12:13:44 PM<br><strong>CommitMessage</strong>:<br><pre>Store & ret. missingDataInfo in pvtstore

The scope of this CR is to tackle only regular block commit (i.e. not
the private data for previous blocks)

This CR constructs key-val entries for stroing missing data info
in pvtdatastore
(1) For the eligible collections, an entry of type
     `<eligible_prefix><Max_Uint64-blockNum><chaincode><collection>:<bitmap>`
      is stored.
(2) For ineligible collections, an entry of type
    `<non_eligible_prefix><chaincode><collection><Max_Uint64-blockNum>:<bitmap>`
    is stored.

The i-th bit in the bitmap indicates the missing data for the
i-th transaction in the block.

Further this CR implements missing data tracker that is intended to be
used by gossip for retrieving the details of the missing pvt data
periodically.

Purging of missing data entries is also tackled in this CR.

As a bitmap is required to denote the txNum within a block which
misses a private data, this CR vendors a simple bitmap package.
We choose https://github.com/willf/bitset as it is popular and
also used in https://github.com/RoaringBitmap/RoaringBitmap

FAB-11318 #done
FAB-11653 #done

Change-Id: Ica8a06f20c951c68e885c3310a9913274dda3a85
Signed-off-by: senthil <cendhu@gmail.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 8:12:42 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:15:28 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4096/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:15:50 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:17:14 AM<br><strong>Message</strong>: <pre>Patch Set 1: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:17:50 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4096/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4096/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4096</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 8:18:23 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2: Commit message was updated.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 8:27:36 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Run VerifyBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:31:08 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4098/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:31:43 AM<br><strong>Message</strong>: <pre>Patch Set 2: -F1-VerifyBuild

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:31:44 AM<br><strong>Message</strong>: <pre>Patch Set 2:

WIP - No Build</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 8:32:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:32:15 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4098/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4098/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4098</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:34:49 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4099/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:35:16 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:35:18 AM<br><strong>Message</strong>: <pre>Patch Set 3:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 8:36:05 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4099/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4099</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 8:52:13 AM<br><strong>Message</strong>: <pre>Patch Set 4: Patch Set 3 was rebased</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 1:27:36 PM<br><strong>Message</strong>: <pre>Patch Set 5: Patch Set 4 was rebased</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 1:38:49 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/20/2018, 2:42:33 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 2:59:30 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4106/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 2:59:54 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 2:59:55 PM<br><strong>Message</strong>: <pre>Patch Set 7:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 3:00:29 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4106/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4106</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 3:01:03 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4113/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 3:01:23 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 3:01:24 PM<br><strong>Message</strong>: <pre>Patch Set 6:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 3:01:52 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4113/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4113</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 8:01:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:04:38 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4130/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:04:55 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:11:40 AM<br><strong>Message</strong>: <pre>Patch Set 8: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:12:02 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4130/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4130</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:14:19 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2683/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:14:39 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:28:54 AM<br><strong>Message</strong>: <pre>Patch Set 8: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:31:45 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3823/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:32:05 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:37:20 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1403/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:37:56 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:47:13 AM<br><strong>Message</strong>: <pre>Patch Set 8: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:53:08 AM<br><strong>Message</strong>: <pre>Patch Set 8: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 8:53:30 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2683/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2683

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3823/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3823

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1403/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1403</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 9:05:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:12:29 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4132/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:12:44 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:19:09 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:19:31 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4132/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4132</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:24:23 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2684/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:24:54 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:42:03 AM<br><strong>Message</strong>: <pre>Patch Set 9: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:44:32 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3825/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:44:59 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:45:12 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1406/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:45:48 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 9:59:11 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 10:03:07 AM<br><strong>Message</strong>: <pre>Patch Set 9: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 10:03:30 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2684/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2684

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3825/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3825

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1406/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1406</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 1:13:51 PM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:19:02 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4139/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:19:23 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:26:57 PM<br><strong>Message</strong>: <pre>Patch Set 10: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:27:29 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4139/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4139</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:29:24 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2688/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:29:46 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:43:36 PM<br><strong>Message</strong>: <pre>Patch Set 10: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:46:36 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3828/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:46:57 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:47:13 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1409/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 1:47:49 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 2:01:33 PM<br><strong>Message</strong>: <pre>Patch Set 10: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 2:04:26 PM<br><strong>Message</strong>: <pre>Patch Set 10: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 2:04:49 PM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2688/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2688

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3828/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3828

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1409/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1409</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 9:46:13 PM<br><strong>Message</strong>: <pre>Patch Set 11: Patch Set 10 was rebased</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 10:03:26 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12: Commit message was updated.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 10:16:08 PM<br><strong>Message</strong>: <pre>Uploaded patch set 13.</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 10:17:03 PM<br><strong>Message</strong>: <pre>Patch Set 10:

(13 comments)

Senthil, I know that you still need to write UTs for this code but I have reviewed this and made a few comments.

Also, you should a line or to in the commit message to indicate the scope of this CR is to tackle only regular block commit (i.e. not the private data for previous blocks)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/21/2018, 10:45:44 PM<br><strong>Message</strong>: <pre>Patch Set 13:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:12:59 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4159/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:13:19 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:20:30 AM<br><strong>Message</strong>: <pre>Patch Set 13: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:20:58 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4159/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4159</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:22:44 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2700/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:23:10 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:36:38 AM<br><strong>Message</strong>: <pre>Patch Set 13: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:39:03 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3841/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:39:30 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:40:02 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1421/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:40:49 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:52:14 AM<br><strong>Message</strong>: <pre>Patch Set 13: F3-IntegrationTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:53:51 AM<br><strong>Message</strong>: <pre>Patch Set 13: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 7:54:09 AM<br><strong>Message</strong>: <pre>Patch Set 13:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1421/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1421/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1421

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2700/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2700

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3841/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3841</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/22/2018, 1:18:26 PM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:21:24 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4177/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:21:42 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:21:44 PM<br><strong>Message</strong>: <pre>Patch Set 14: F1-VerifyBuild-1

Trailing white spaces found</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:22:09 PM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4177/ : FAILURE (skipped)

You have a whitespace problem, probably a trailing space or two. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4177/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4177</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/22/2018, 1:25:12 PM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:27:54 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4178/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:28:11 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:28:13 PM<br><strong>Message</strong>: <pre>Patch Set 15:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:28:33 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4178/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4178</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/22/2018, 1:30:07 PM<br><strong>Message</strong>: <pre>Patch Set 15:

(12 comments)

Manish, I have made all modifications as suggested. Unit-test is still pending. Once you ack on the overall design, I will add unit-test. In the mean time, I will continue my work on FAB-11388</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/22/2018, 1:32:34 PM<br><strong>Message</strong>: <pre>Uploaded patch set 16.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/22/2018, 1:34:34 PM<br><strong>Message</strong>: <pre>Uploaded patch set 17: Commit message was updated.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:35:29 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4179/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:35:49 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:35:51 PM<br><strong>Message</strong>: <pre>Patch Set 16:

WIP - No Build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/22/2018, 1:36:16 PM<br><strong>Message</strong>: <pre>Patch Set 16:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4179/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4179</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/22/2018, 1:40:50 PM<br><strong>Message</strong>: <pre>Uploaded patch set 18: Commit message was updated.</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/22/2018, 5:56:36 PM<br><strong>Message</strong>: <pre>Patch Set 18:

(7 comments)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/23/2018, 12:50:50 AM<br><strong>Message</strong>: <pre>Patch Set 19: Patch Set 18 was rebased</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/23/2018, 8:04:51 AM<br><strong>Message</strong>: <pre>Uploaded patch set 20.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/23/2018, 8:05:33 AM<br><strong>Message</strong>: <pre>Uploaded patch set 21: Commit message was updated.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/23/2018, 8:06:10 AM<br><strong>Message</strong>: <pre>Patch Set 21:

(6 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:07:20 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4206/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:07:40 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:07:41 AM<br><strong>Message</strong>: <pre>Patch Set 20: F1-VerifyBuild-1

Trailing white spaces found</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:08:10 AM<br><strong>Message</strong>: <pre>Patch Set 20:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4206/ : FAILURE (skipped)

You have a whitespace problem, probably a trailing space or two. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4206/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4206</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/23/2018, 8:09:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 22.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:11:22 AM<br><strong>Message</strong>: <pre>Patch Set 22:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4207/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:11:45 AM<br><strong>Message</strong>: <pre>Patch Set 22:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:13:22 AM<br><strong>Message</strong>: <pre>Patch Set 22: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:14:07 AM<br><strong>Message</strong>: <pre>Patch Set 22:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4207/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4207/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4207</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/23/2018, 8:24:08 AM<br><strong>Message</strong>: <pre>Uploaded patch set 23.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:26:43 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4209/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:27:04 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:34:13 AM<br><strong>Message</strong>: <pre>Patch Set 23: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:34:37 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4209/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4209</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:38:04 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2731/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:38:29 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 8:49:56 AM<br><strong>Message</strong>: <pre>Patch Set 23: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 9:02:29 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3879/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 9:02:51 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 9:04:50 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1450/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 9:05:22 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 9:16:03 AM<br><strong>Message</strong>: <pre>Patch Set 23: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 9:19:32 AM<br><strong>Message</strong>: <pre>Patch Set 23: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/23/2018, 9:20:08 AM<br><strong>Message</strong>: <pre>Patch Set 23:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2731/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2731

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3879/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3879

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1450/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1450</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/24/2018, 7:36:03 PM<br><strong>Message</strong>: <pre>Patch Set 23:

(10 comments)

Mostly looks good now. A few code clean up related comments.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 1:19:46 AM<br><strong>Message</strong>: <pre>Uploaded patch set 24.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 1:20:15 AM<br><strong>Message</strong>: <pre>Patch Set 24:

(8 comments)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 1:46:04 AM<br><strong>Message</strong>: <pre>Uploaded patch set 25.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 1:46:08 AM<br><strong>Message</strong>: <pre>Patch Set 24:

No Builds Executed</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 2:06:29 AM<br><strong>Message</strong>: <pre>Patch Set 25:

(1 comment)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 2:18:03 AM<br><strong>Message</strong>: <pre>Patch Set 25:

(1 comment)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 3:02:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 26.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 3:03:01 AM<br><strong>Message</strong>: <pre>Patch Set 25:

No Builds Executed</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 3:03:51 AM<br><strong>Message</strong>: <pre>Patch Set 26:

Run VerifyBuild</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 3:03:52 AM<br><strong>Message</strong>: <pre>Patch Set 26:

No Builds Executed</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 3:38:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 27.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 3:39:01 AM<br><strong>Message</strong>: <pre>Patch Set 26:

No Builds Executed</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 6:12:52 AM<br><strong>Message</strong>: <pre>Patch Set 27:

(1 comment)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 7:41:31 AM<br><strong>Message</strong>: <pre>Uploaded patch set 28.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 7:41:33 AM<br><strong>Message</strong>: <pre>Patch Set 27:

No Builds Executed</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/25/2018, 9:14:15 AM<br><strong>Message</strong>: <pre>Uploaded patch set 29.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 9:14:17 AM<br><strong>Message</strong>: <pre>Patch Set 28:

No Builds Executed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:10:23 PM<br><strong>Message</strong>: <pre>Patch Set 29:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4275/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:11:05 PM<br><strong>Message</strong>: <pre>Patch Set 29:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:12:27 PM<br><strong>Message</strong>: <pre>Patch Set 29: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:13:02 PM<br><strong>Message</strong>: <pre>Patch Set 29:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4275/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4275/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4275</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/26/2018, 12:00:06 AM<br><strong>Message</strong>: <pre>Patch Set 25:

(5 comments)

Thanks for cleanups Senthil. I guess that we are reaching there. Just a couple of more comments. Mostly related to the newer code.</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/26/2018, 12:02:03 AM<br><strong>Message</strong>: <pre>Patch Set 29:

(1 comment)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/26/2018, 8:47:23 AM<br><strong>Message</strong>: <pre>Uploaded patch set 30.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/26/2018, 8:47:50 AM<br><strong>Message</strong>: <pre>Patch Set 30:

(5 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 8:52:44 AM<br><strong>Message</strong>: <pre>Patch Set 30:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4293/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 8:53:04 AM<br><strong>Message</strong>: <pre>Patch Set 30:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 8:54:33 AM<br><strong>Message</strong>: <pre>Patch Set 30: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 8:55:20 AM<br><strong>Message</strong>: <pre>Patch Set 30:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4293/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4293/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4293</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/26/2018, 2:33:48 PM<br><strong>Message</strong>: <pre>Uploaded patch set 31.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:37:07 PM<br><strong>Message</strong>: <pre>Patch Set 31:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4299/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:37:23 PM<br><strong>Message</strong>: <pre>Patch Set 31:

Starting verify build</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/26/2018, 2:43:22 PM<br><strong>Message</strong>: <pre>Uploaded patch set 32.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:43:51 PM<br><strong>Message</strong>: <pre>Patch Set 31: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4299/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4299/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4299</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:46:13 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4301/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:46:31 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:54:28 PM<br><strong>Message</strong>: <pre>Patch Set 32: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:55:15 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4301/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4301</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:58:18 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2803/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 2:58:38 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:13:34 PM<br><strong>Message</strong>: <pre>Patch Set 32: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:15:28 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3955/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:15:46 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:15:53 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1515/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:16:24 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:28:07 PM<br><strong>Message</strong>: <pre>Patch Set 32: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:30:35 PM<br><strong>Message</strong>: <pre>Patch Set 32: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/26/2018, 3:31:11 PM<br><strong>Message</strong>: <pre>Patch Set 32:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2803/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2803

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3955/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3955

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1515/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1515</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/27/2018, 9:23:49 AM<br><strong>Message</strong>: <pre>Patch Set 29:

(1 comment)</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/27/2018, 1:29:47 PM<br><strong>Message</strong>: <pre>Uploaded patch set 33.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 1:35:12 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4339/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 1:35:30 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 1:42:29 PM<br><strong>Message</strong>: <pre>Patch Set 33: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 1:43:05 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4339/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4339</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 1:44:52 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2826/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 1:45:20 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 1:58:28 PM<br><strong>Message</strong>: <pre>Patch Set 33: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 2:02:13 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3983/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 2:02:43 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1546/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 2:02:45 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 2:03:23 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 2:11:17 PM<br><strong>Message</strong>: <pre>Patch Set 33: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 2:16:06 PM<br><strong>Message</strong>: <pre>Patch Set 33: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 2:16:45 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3983/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3983/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3983

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2826/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2826

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1546/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1546</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/27/2018, 3:06:31 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 3:10:29 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3985/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 3:10:47 PM<br><strong>Message</strong>: <pre>Patch Set 33: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 3:25:47 PM<br><strong>Message</strong>: <pre>Patch Set 33: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 3:26:17 PM<br><strong>Message</strong>: <pre>Patch Set 33:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3985/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3985</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/27/2018, 5:05:56 PM<br><strong>Message</strong>: <pre>Patch Set 33:

(3 comments)

Senthil, just one last bug. I had missed to catch this earlier.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/27/2018, 10:41:41 PM<br><strong>Message</strong>: <pre>Uploaded patch set 34.</pre><strong>Reviewer</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Reviewed</strong>: 8/27/2018, 10:43:13 PM<br><strong>Message</strong>: <pre>Patch Set 34:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 10:45:44 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4371/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 10:46:06 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Starting verify build</pre><strong>Reviewer</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Reviewed</strong>: 8/27/2018, 10:51:33 PM<br><strong>Message</strong>: <pre>Patch Set 34: Code-Review+2</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 10:54:14 PM<br><strong>Message</strong>: <pre>Patch Set 34: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 10:54:59 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4371/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4371</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 10:59:12 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2849/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 10:59:32 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:11:49 PM<br><strong>Message</strong>: <pre>Patch Set 34: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:14:45 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4008/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:15:12 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:15:50 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1568/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:16:28 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:25:59 PM<br><strong>Message</strong>: <pre>Patch Set 34: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:32:10 PM<br><strong>Message</strong>: <pre>Patch Set 34: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/27/2018, 11:32:50 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2849/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2849

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4008/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/4008

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1568/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1568</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/28/2018, 11:28:51 AM<br><strong>Message</strong>: <pre>Patch Set 34: Code-Review+2</pre><strong>Reviewer</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Reviewed</strong>: 8/28/2018, 11:28:54 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by David Enyeart</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2018, 11:31:31 AM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/4406/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2018, 11:33:52 AM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/3076/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/28/2018, 12:13:44 PM<br><strong>Message</strong>: <pre>Patch Set 34:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/4406/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/4406

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/3076/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3076</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/20/2018, 8:12:42 AM<br><strong>UnmergedRevision</strong>: [73dad4501d359a971501baff4d4ebeb6f03db411](https://github.com/hyperledger-gerrit-archive/fabric/commit/73dad4501d359a971501baff4d4ebeb6f03db411)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 8:17:14 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/20/2018, 8:18:23 AM<br><strong>UnmergedRevision</strong>: [b96c763208dc74a5ff734f0fa7c49bc55a8ce045](https://github.com/hyperledger-gerrit-archive/fabric/commit/b96c763208dc74a5ff734f0fa7c49bc55a8ce045)<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/20/2018, 8:32:13 AM<br><strong>UnmergedRevision</strong>: [cd0976dec9f0ea224d0ae453d49bfadf151bc665](https://github.com/hyperledger-gerrit-archive/fabric/commit/cd0976dec9f0ea224d0ae453d49bfadf151bc665)<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/20/2018, 8:52:13 AM<br><strong>UnmergedRevision</strong>: [1978267b8fedb26fb48af02b239c78a8fdfea242](https://github.com/hyperledger-gerrit-archive/fabric/commit/1978267b8fedb26fb48af02b239c78a8fdfea242)<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/20/2018, 1:27:36 PM<br><strong>UnmergedRevision</strong>: [bc7b6c0f3b3cab05cc58e0c0c540f363432a04e8](https://github.com/hyperledger-gerrit-archive/fabric/commit/bc7b6c0f3b3cab05cc58e0c0c540f363432a04e8)<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/20/2018, 1:38:49 PM<br><strong>UnmergedRevision</strong>: [b785d2c476a5ccf897699392b31aefbe344e86ed](https://github.com/hyperledger-gerrit-archive/fabric/commit/b785d2c476a5ccf897699392b31aefbe344e86ed)<br><br></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/20/2018, 2:42:33 PM<br><strong>UnmergedRevision</strong>: [ee7e49413ef0567a10f82719eede51fc05e7acb0](https://github.com/hyperledger-gerrit-archive/fabric/commit/ee7e49413ef0567a10f82719eede51fc05e7acb0)<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/21/2018, 8:01:59 AM<br><strong>UnmergedRevision</strong>: [f0c320e0e7735f8039185e7281fe8d802d47656d](https://github.com/hyperledger-gerrit-archive/fabric/commit/f0c320e0e7735f8039185e7281fe8d802d47656d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 8:11:40 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 8:11:40 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 8:28:54 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 8:53:08 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 8:47:13 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/21/2018, 9:05:08 AM<br><strong>UnmergedRevision</strong>: [fbcecb77717666d5a6b81574e1076c3128a19baa](https://github.com/hyperledger-gerrit-archive/fabric/commit/fbcecb77717666d5a6b81574e1076c3128a19baa)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 9:19:09 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 9:19:09 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 9:42:03 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 10:03:07 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 9:59:11 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/21/2018, 1:13:51 PM<br><strong>UnmergedRevision</strong>: [8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522](https://github.com/hyperledger-gerrit-archive/fabric/commit/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:26:57 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:26:57 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:43:36 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 2:04:26 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 2:01:33 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledgerstorage/store.go#L168](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/ledgerstorage/store.go#L168)<br><strong>Comment</strong>: <pre>this has some implication... see the related comments in the file store_impl.go</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L76](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/helper.go#L76)<br><strong>Comment</strong>: <pre>As commented in the other file, the code can be concise if we do not explicit differentiate between two types of entries and this function can return a single map.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L76](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/helper.go#L76)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/helper.go#L116)<br><strong>Comment</strong>: <pre>this looks a bit odd... 

since the three elements <blockNum, ns, coll> are common both in the dataKey and missingDataKey, can we have this as follows.

type nsCollBlk struct {
  ns, coll string
  blk uint64
}

type missingDataKey struct {
  *nsCollBlk
  eligible bool
}

type dataKey struct {
  *nsCollBlk
  txNum uint64
}

then this function can take type *nsCollBlk</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/helper.go#L116)<br><strong>Comment</strong>: <pre>nice.. i will use these structs. I too did not like it as only one variable was different between dataKey and missingDataKey but this encapsulation technique didn't strike me.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L116](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/helper.go#L116)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L24)<br><strong>Comment</strong>: <pre>Would you mind using 'Eligible'... (I would rather prefer eligibleMissingDataKeyPrefix :-)

Same for the next variable.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L24](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L24)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L100](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L100)<br><strong>Comment</strong>: <pre>Instead of having two separate functions for encoding/decoding - one for Elgibile and the other one for InEligible, can you add an additional field (`isEligible`) in the struct `missingDataKey`?</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L100](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L100)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L101)<br><strong>Comment</strong>: <pre>this is not required</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L101](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L101)<br><strong>Comment</strong>: <pre>Done. earlier I added an extra nilByte for simple decoding.. anyway, we shouldn't increase the storage space.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L102](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L102)<br><strong>Comment</strong>: <pre>protobuf won't give order preserving property. In the raw form, we need to use BigEndian encoding. When I was gearing up on starting the missing data work towards in end of 1.2, I had written a util that encodes and then trims the initial 0xFF to save space.  Since, we already have it, better to use that here. I have pushed a CR for this here https://gerrit.hyperledger.org/r/#/c/25787/</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L102](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L102)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L103)<br><strong>Comment</strong>: <pre>again, this is not required</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L103](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L103)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L134](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L134)<br><strong>Comment</strong>: <pre>better to construct this within this function and return it?</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/kv_encoding.go#L134](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/kv_encoding.go#L134)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L71)<br><strong>Comment</strong>: <pre>as commented in the other file, we can have just one of these two.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L71](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L71)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L303](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L303)<br><strong>Comment</strong>: <pre>This is performing an unprotected read. We need to do either of the followings

1) Take a read lock in the higher layer just for reading the value of last committed block and pass that in this function as a parameter. This may look odd though :-)

2) use an atomic load of this value - https://golang.org/src/sync/atomic/doc.go?s=4548:4587#L104</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L303](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L303)<br><strong>Comment</strong>: <pre>Oh. I was under the assumption that read/write of a basic types like int is always atomic. Will use atomic load.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L303](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L303)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L327](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L327)<br><strong>Comment</strong>: <pre>I don't think that whether we should deal with the deletion of expiry entries here. Because - first, most likely we won;t get any expired here as such because we are fetching most recent ones and second, we need to deal with the purging of these entries offline anyways.

The next function in this file does so for the data and that function we need to modify for including the entries for missing data as well.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L327](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L327)<br><strong>Comment</strong>: <pre>I will move the delete part to data purge function. Here, we can still check for expired entries and skip them.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L327](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L327)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L371](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L371)<br><strong>Comment</strong>: <pre>see above comment about purging the expired ones</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L371](https://github.com/hyperledger-gerrit-archive/fabric/blob/8c1b7f0b4def1f71c9c02c811c5c2698ce8c5522/core/ledger/pvtdatastorage/store_impl.go#L371)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/21/2018, 9:46:13 PM<br><strong>UnmergedRevision</strong>: [1005fbd36a97299569221753a5f81d48b4a44010](https://github.com/hyperledger-gerrit-archive/fabric/commit/1005fbd36a97299569221753a5f81d48b4a44010)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:26:57 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:26:57 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:43:36 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 2:04:26 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 2:01:33 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/21/2018, 10:03:26 PM<br><strong>UnmergedRevision</strong>: [7715b17b4c7459b36f85d9caebd452b430a19027](https://github.com/hyperledger-gerrit-archive/fabric/commit/7715b17b4c7459b36f85d9caebd452b430a19027)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:26:57 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:26:57 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 1:43:36 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 2:04:26 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 2:01:33 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/21/2018, 10:16:08 PM<br><strong>UnmergedRevision</strong>: [87ac61648251f1a0dd50126508901e4c2bda7b1d](https://github.com/hyperledger-gerrit-archive/fabric/commit/87ac61648251f1a0dd50126508901e4c2bda7b1d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2018, 7:20:30 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2018, 7:20:30 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2018, 7:36:38 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2018, 7:52:14 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2018, 7:53:51 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/22/2018, 1:18:26 PM<br><strong>UnmergedRevision</strong>: [b1a66773cfa13efd633ccc717b4b306019abcb34](https://github.com/hyperledger-gerrit-archive/fabric/commit/b1a66773cfa13efd633ccc717b4b306019abcb34)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/22/2018, 1:21:44 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/22/2018, 1:25:12 PM<br><strong>UnmergedRevision</strong>: [51b00d322b596827b9ba2ed8974d7be29829382c](https://github.com/hyperledger-gerrit-archive/fabric/commit/51b00d322b596827b9ba2ed8974d7be29829382c)<br><br></blockquote><h3>PatchSet Number: 16</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/22/2018, 1:32:34 PM<br><strong>UnmergedRevision</strong>: [6d30a69243c8069dd4b5ef213ac2e4fead4dac32](https://github.com/hyperledger-gerrit-archive/fabric/commit/6d30a69243c8069dd4b5ef213ac2e4fead4dac32)<br><br></blockquote><h3>PatchSet Number: 17</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/22/2018, 1:34:34 PM<br><strong>UnmergedRevision</strong>: [48f64e5bdf17ff572566e252df4cbd91327cbb9f](https://github.com/hyperledger-gerrit-archive/fabric/commit/48f64e5bdf17ff572566e252df4cbd91327cbb9f)<br><br></blockquote><h3>PatchSet Number: 18</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/22/2018, 1:40:50 PM<br><strong>UnmergedRevision</strong>: [0ea66e4f9e4fe05e952be5eb6211833dbdaa8b33](https://github.com/hyperledger-gerrit-archive/fabric/commit/0ea66e4f9e4fe05e952be5eb6211833dbdaa8b33)<br><br></blockquote><h3>PatchSet Number: 19</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/23/2018, 12:50:50 AM<br><strong>UnmergedRevision</strong>: [91efe706cc8dedcefe91961d332069149db1bc66](https://github.com/hyperledger-gerrit-archive/fabric/commit/91efe706cc8dedcefe91961d332069149db1bc66)<br><br></blockquote><h3>PatchSet Number: 20</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/23/2018, 8:04:51 AM<br><strong>UnmergedRevision</strong>: [1b7e2c5bfeaa447300dc24334689b623a334a65d](https://github.com/hyperledger-gerrit-archive/fabric/commit/1b7e2c5bfeaa447300dc24334689b623a334a65d)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 8:07:41 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 21</h3><blockquote><strong>Type</strong>: NO_CODE_CHANGE<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/23/2018, 8:05:33 AM<br><strong>UnmergedRevision</strong>: [722622639934373177987c0625cf46cbc374ca7d](https://github.com/hyperledger-gerrit-archive/fabric/commit/722622639934373177987c0625cf46cbc374ca7d)<br><br></blockquote><h3>PatchSet Number: 22</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/23/2018, 8:09:13 AM<br><strong>UnmergedRevision</strong>: [48e7d31b37c47eeb075e2eed91d8f704afc23333](https://github.com/hyperledger-gerrit-archive/fabric/commit/48e7d31b37c47eeb075e2eed91d8f704afc23333)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 8:13:22 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 23</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/23/2018, 8:24:08 AM<br><strong>UnmergedRevision</strong>: [0c7e1dcef57dd587d8630227492554c235d3a2f9](https://github.com/hyperledger-gerrit-archive/fabric/commit/0c7e1dcef57dd587d8630227492554c235d3a2f9)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 8:34:13 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 8:34:13 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 8:49:56 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 9:16:03 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/23/2018, 9:19:32 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledger_interface.go#L194](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/ledger_interface.go#L194)<br><strong>Comment</strong>: <pre>I think that everywhere else we are taking this as uint64... so better to be consistent</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data.proto#L18](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data.proto#L18)<br><strong>Comment</strong>: <pre>this can be removed</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data.proto#L18](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data.proto#L18)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data_helper.go#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data_helper.go#L13)<br><strong>Comment</strong>: <pre>getOrCreateCollections</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data_helper.go#L13](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data_helper.go#L13)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data_helper.go#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data_helper.go#L26)<br><strong>Comment</strong>: <pre>Since we have a dedicated function for creating "collections" Can we move these lines and the similar lines in the next function into above "getOrCreateCollections" functions... just to split the construction and "adding" aspects.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data_helper.go#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data_helper.go#L26)<br><strong>Comment</strong>: <pre>The reason for keeping this out of getOrCreateCollection is the following:
(i) assume that this expiry entry only contains missingPvtData: then there is no need to create TxNums list and waste storage space. 
(ii) assume that this expiry entry only contains pvtData: then there is no need to create missingDataMap and waste storage space. 

For now, I have added an additional flag in getOrCreateCollection argumenet (like isMissing) and then create only the appropriate structs. The extra flag may look add.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data_helper.go#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data_helper.go#L26)<br><strong>Comment</strong>: <pre>No, there is no additional storage cost as such...protobuf does not serialize any additional information about empty list/maps.. they are as good as nil. You can remove this flag (which as you said indeed looks odd)</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/expiry_data_helper.go#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/expiry_data_helper.go#L26)<br><strong>Comment</strong>: <pre>Done. Oh i see. Good to know that.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L78](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L78)<br><strong>Comment</strong>: <pre>Entries?</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L78](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L78)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L83)<br><strong>Comment</strong>: <pre>Entries?</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L83)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L120)<br><strong>Comment</strong>: <pre>The code in this function and it's usage makes this a bit unreadable. I would suggest the following

- Copy first seven lines in the each of the two prepare*** functions. (Anyways already 6 lines are repeated in those functions just for calling this function :-)

- Rename this function as "getOrCreateExpiryData"

- Better if we create a dedicated type 'mapByExpiryBlk' and this function defined on that type (something, we can do later)</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L120)<br><strong>Comment</strong>: <pre>In the previous patches, it was a single function only. For readability, we splitted this into two function with known code repeatability. For now, I have only renamed the function. If we need to merge functions, we need to rename this to prepareExpiryEntries() and do both presentData and missingData within the same function (so unneeded arguments need to be passed as we use a common function for both). IMO, this structure provides readability with some extra code duplication.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L120)<br><strong>Comment</strong>: <pre>Clarification: `IMO, this structure provides readability with some extra code duplication.` -- `this` in the above statement denotes the current function definitions.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L120)<br><strong>Comment</strong>: <pre>I think that you misunderstood my comment. Yes, I had suggested the code splitted in the functions "prepareExpiryDataForPresentData" and "prepareExpiryDataForMissingData" and we should keep it like this. I am not suggesting merging the two functions into one.

What I was suggesting was to simply move first seven lines from this function ("getExpiryData") to the above two functions. Because, these lines does not seem to belong to this function.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L120](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/helper.go#L120)<br><strong>Comment</strong>: <pre>Done. I still have getOrCreateExpiryData but overall it looks better than earlier. Let me know if you are fine with this. 

i see. I think, I did not interpret `this` correctly.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L199](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/store_impl.go#L199)<br><strong>Comment</strong>: <pre>Just add a comment here as a TODO for recovery....

"After a Rollback, when we commit the same block again, we need to do ANDing of already committed bitmap to the new one". In absence of this, the query for the data and the missing data for the particular block (at with crash took place), may give inconsistent result to the extent that it may may report some data as a missing while having in store. Since, this is a corner case (i.e. crash happens exactly during block commit to store) and the extend is limited such that this does not impact any functioning of the system from user perspective, deferring it for later"</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L199](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/store_impl.go#L199)<br><strong>Comment</strong>: <pre>I had some related code in FAB 11388. Let me copy here and finish this instead of a TODO.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl_test.go#L63](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/store_impl_test.go#L63)<br><strong>Comment</strong>: <pre>for underscore in variable names, gofmt shows warning in editors...</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl_test.go#L65](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/store_impl_test.go#L65)<br><strong>Comment</strong>: <pre>Most of the code in this section and the section below is related to the construction of 'ledger.MissingPrivateData' for committing and 'MissingPvtDataInfo'. Which adds avoidable details to the test. 

Also, the construction of these two objects are needed in the production code - first one in the gossip code and the latter one is already happening in this CR.

Instead of dealing with the complexity of nested structure at each individual place over and over, we should add function in the above types. The function in 'MissingPvtDataInfo' would look like "Add(blk, txNum, ns, coll)". There are already a couple of such functions in ledger_interface.go.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl_test.go#L65](https://github.com/hyperledger-gerrit-archive/fabric/blob/0c7e1dcef57dd587d8630227492554c235d3a2f9/core/ledger/pvtdatastorage/store_impl_test.go#L65)<br><strong>Comment</strong>: <pre>Yes, Manish. I agree. May be as a separate refactoring CR? Just saying.</pre></blockquote><h3>PatchSet Number: 24</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/25/2018, 1:19:46 AM<br><strong>UnmergedRevision</strong>: [5eca10e90fe7605c40f37cff1422f1b09e35a348](https://github.com/hyperledger-gerrit-archive/fabric/commit/5eca10e90fe7605c40f37cff1422f1b09e35a348)<br><br></blockquote><h3>PatchSet Number: 25</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/25/2018, 1:46:04 AM<br><strong>UnmergedRevision</strong>: [a144d8f43a1359d0e2826cf3bcec53d45477424f](https://github.com/hyperledger-gerrit-archive/fabric/commit/a144d8f43a1359d0e2826cf3bcec53d45477424f)<br><br></blockquote><h3>PatchSet Number: 26</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/25/2018, 3:02:59 AM<br><strong>UnmergedRevision</strong>: [1b45ecda2d8bdea5317135ca59e912e54111fd8b](https://github.com/hyperledger-gerrit-archive/fabric/commit/1b45ecda2d8bdea5317135ca59e912e54111fd8b)<br><br></blockquote><h3>PatchSet Number: 27</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/25/2018, 3:38:59 AM<br><strong>UnmergedRevision</strong>: [3a239c3245ddfe6005bfb1c56137d02ec4ca3a6d](https://github.com/hyperledger-gerrit-archive/fabric/commit/3a239c3245ddfe6005bfb1c56137d02ec4ca3a6d)<br><br></blockquote><h3>PatchSet Number: 28</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/25/2018, 7:41:31 AM<br><strong>UnmergedRevision</strong>: [e013362f38ee3a60a0b61d2cac8b2c4895893966](https://github.com/hyperledger-gerrit-archive/fabric/commit/e013362f38ee3a60a0b61d2cac8b2c4895893966)<br><br></blockquote><h3>PatchSet Number: 29</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/25/2018, 9:14:15 AM<br><strong>UnmergedRevision</strong>: [ae3c61f78c762f5e345d12957cd2a226b42ae115](https://github.com/hyperledger-gerrit-archive/fabric/commit/ae3c61f78c762f5e345d12957cd2a226b42ae115)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/25/2018, 2:12:27 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledger_interface.go#L201](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/ledger_interface.go#L201)<br><strong>Comment</strong>: <pre>This itself can be defined as a type MissingPrivateDataList.List can be avoided.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledger_interface.go#L201](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/ledger_interface.go#L201)<br><strong>Comment</strong>: <pre>Yes Manish. I tried that first but the method on slide does not seem to update the slice. Here is an example -- https://play.golang.org/p/DfswqFhOu_s</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/ledger_interface.go#L201](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/ledger_interface.go#L201)<br><strong>Comment</strong>: <pre>In order to make this work, your function needs to work with pointers...

```
func (l *listItems) add(value int) {
	*l = append(*l, value)
}
```

But, lets leave this as is as with slice pointers, it may cause confusion.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L158](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/pvtdatastorage/store_impl.go#L158)<br><strong>Comment</strong>: <pre>We should not be doing this in every prepare call as this is expensive since this would cause the additional cost of read operation. We need to do this only in the first prepare call after a crash. 

- We need to introduce a flag 'firstPrepareCallAfterCrash' in 'store' struct

- The 'rollback' function sets the flag to true

- This call is done only if the flag is set to true

- Unset the flag in the end of 'Prepare' call</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L158](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/pvtdatastorage/store_impl.go#L158)<br><strong>Comment</strong>: <pre>"firstPrepareCallAfterCrash" -> "firstPrepareCallAfterRollback"</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L158](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/pvtdatastorage/store_impl.go#L158)<br><strong>Comment</strong>: <pre>Done.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L173](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/pvtdatastorage/store_impl.go#L173)<br><strong>Comment</strong>: <pre>same as above</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L173](https://github.com/hyperledger-gerrit-archive/fabric/blob/ae3c61f78c762f5e345d12957cd2a226b42ae115/core/ledger/pvtdatastorage/store_impl.go#L173)<br><strong>Comment</strong>: <pre>Done.</pre></blockquote><h3>PatchSet Number: 30</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/26/2018, 8:47:23 AM<br><strong>UnmergedRevision</strong>: [d722e8410ca053ab44a957e4e52b7c28d3064f82](https://github.com/hyperledger-gerrit-archive/fabric/commit/d722e8410ca053ab44a957e4e52b7c28d3064f82)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2018, 8:54:33 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 31</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/26/2018, 2:33:48 PM<br><strong>UnmergedRevision</strong>: [db26d97c17d9f8373d2f9836415efa0e28778c9a](https://github.com/hyperledger-gerrit-archive/fabric/commit/db26d97c17d9f8373d2f9836415efa0e28778c9a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2018, 2:43:51 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 32</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/26/2018, 2:43:22 PM<br><strong>UnmergedRevision</strong>: [cad728451a238a27a2d377ee414065403441548e](https://github.com/hyperledger-gerrit-archive/fabric/commit/cad728451a238a27a2d377ee414065403441548e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2018, 2:54:28 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2018, 2:54:28 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2018, 3:13:34 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2018, 3:28:07 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/26/2018, 3:30:35 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 33</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/27/2018, 1:29:47 PM<br><strong>UnmergedRevision</strong>: [69296934830249db79e7b9e847080464733c3dd3](https://github.com/hyperledger-gerrit-archive/fabric/commit/69296934830249db79e7b9e847080464733c3dd3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 1:42:29 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 1:42:29 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 1:58:28 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 2:16:06 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 3:25:47 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/69296934830249db79e7b9e847080464733c3dd3/core/ledger/pvtdatastorage/helper.go#L62)<br><strong>Comment</strong>: <pre>Sorry, didn't catch this earlier. This won't work as a map key as this embeds a pointer type. Either, we need to use a local struct without pointer while constructing the map or simply replace pointer in struct 'missingDataKey'. Also, it would be good to verify this getting fixed with a test that mimics missing data for more than one transactions in a block for the same tuple <ns, coll, eiligible>.</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/helper.go#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/69296934830249db79e7b9e847080464733c3dd3/core/ledger/pvtdatastorage/helper.go#L62)<br><strong>Comment</strong>: <pre>nice catch. Add UT to ensure that we cover all code (only return err statements could not be covered). Otherwise, the coverage is 100%.</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L321](https://github.com/hyperledger-gerrit-archive/fabric/blob/69296934830249db79e7b9e847080464733c3dd3/core/ledger/pvtdatastorage/store_impl.go#L321)<br><strong>Comment</strong>: <pre>can be removed</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L321](https://github.com/hyperledger-gerrit-archive/fabric/blob/69296934830249db79e7b9e847080464733c3dd3/core/ledger/pvtdatastorage/store_impl.go#L321)<br><strong>Comment</strong>: <pre>Done</pre><strong>Commenter</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L484](https://github.com/hyperledger-gerrit-archive/fabric/blob/69296934830249db79e7b9e847080464733c3dd3/core/ledger/pvtdatastorage/store_impl.go#L484)<br><strong>Comment</strong>: <pre>missed removing these as part of removal of recovery code?</pre><strong>Commenter</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>CommentLine</strong>: [core/ledger/pvtdatastorage/store_impl.go#L484](https://github.com/hyperledger-gerrit-archive/fabric/blob/69296934830249db79e7b9e847080464733c3dd3/core/ledger/pvtdatastorage/store_impl.go#L484)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 34</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Uploader</strong>: Senthilnathan N - cendhu@gmail.com<br><strong>Created</strong>: 8/27/2018, 10:41:41 PM<br><strong>GitHubMergedRevision</strong>: [e2b93663dd823668aeaa1f2dd93a53f8d29a0f1e](https://github.com/hyperledger-gerrit-archive/fabric/commit/e2b93663dd823668aeaa1f2dd93a53f8d29a0f1e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 10:54:14 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 10:54:14 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 11:11:49 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 11:25:59 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/27/2018, 11:32:10 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Manish Sethi - manish.sethi@gmail.com<br><strong>Approved</strong>: 8/27/2018, 10:51:33 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: David Enyeart - enyeart@us.ibm.com<br><strong>Approved</strong>: 8/28/2018, 11:28:51 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: David Enyeart<br><strong>Merged</strong>: 8/28/2018, 11:28:54 AM<br><br></blockquote>