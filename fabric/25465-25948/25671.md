<strong>Project</strong>: fabric<br><strong>Branch</strong>: master<br><strong>ID</strong>: 25671<br><strong>Subject</strong>: [FAB-11171] TMS issuer and verifier for import<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 8/19/2018, 5:11:34 PM<br><strong>LastUpdated</strong>: 9/7/2018, 2:49:30 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-11171] TMS issuer and verifier for import

Implementation of a TMS issuer that is able to handle requestImport
requests, and the corresponding verifier that can validate and commit
the import transactions to the mockup, in-memory ledger.

Change-Id: I1f7de79ff64eba1193b1ee70d7da2ef6d587047d
Signed-off-by: Mathias Bjoerkqvist <mbj@zurich.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/19/2018, 5:11:34 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:15:16 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4077/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:15:37 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:15:42 PM<br><strong>Message</strong>: <pre>Patch Set 1: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/19/2018, 5:16:13 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4077/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4077/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4077</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 8/19/2018, 5:17:53 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(4 comments)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/20/2018, 5:05:47 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:09:20 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4084/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:09:43 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:13:03 AM<br><strong>Message</strong>: <pre>Patch Set 2: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:13:43 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4084/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4084/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4084</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/20/2018, 5:20:53 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:33:31 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4085/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:34:22 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:36:55 AM<br><strong>Message</strong>: <pre>Patch Set 3: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:37:40 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4085/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4085/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4085</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/20/2018, 5:40:13 AM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:59:04 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4087/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 5:59:22 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:05:50 AM<br><strong>Message</strong>: <pre>Patch Set 4: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:06:20 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4087/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4087</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:10:16 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2657/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:10:43 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:24:25 AM<br><strong>Message</strong>: <pre>Patch Set 4: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:27:08 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3793/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:27:34 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:27:52 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1372/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:28:34 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:36:02 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:40:01 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 6:40:27 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3793/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3793/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3793

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2657/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2657

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1372/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1372</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/20/2018, 7:21:44 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 7:25:31 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3794/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 7:25:58 AM<br><strong>Message</strong>: <pre>Patch Set 4: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 7:50:35 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 7:51:21 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3794/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3794/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3794</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/20/2018, 9:44:16 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 9:48:59 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3799/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 9:49:22 AM<br><strong>Message</strong>: <pre>Patch Set 4: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 10:04:45 AM<br><strong>Message</strong>: <pre>Patch Set 4: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/20/2018, 10:05:16 AM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3799/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3799</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/21/2018, 4:32:58 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:37:46 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4144/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:38:01 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:45:20 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:45:45 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4144/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4144</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:45:47 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2692/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:46:07 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 4:59:34 PM<br><strong>Message</strong>: <pre>Patch Set 5: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:01:25 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3832/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:01:43 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:02:39 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1414/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:03:18 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:09:10 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest-1

Failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:17:43 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:18:10 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3832/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3832/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3832

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2692/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2692

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1414/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1414</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/21/2018, 5:30:41 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Run UnitTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:33:39 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3833/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:34:02 PM<br><strong>Message</strong>: <pre>Patch Set 5: -F3-UnitTest

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:51:10 PM<br><strong>Message</strong>: <pre>Patch Set 5: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/21/2018, 5:51:41 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/3833/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/3833</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/22/2018, 2:39:29 PM<br><strong>Message</strong>: <pre>Patch Set 5: Code-Review-1

(25 comments)</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 8/24/2018, 5:00:15 AM<br><strong>Message</strong>: <pre>Patch Set 5:

(2 comments)

Thanks Mathias once again! Adding more comments to a comment from Matt, that I think hit a lot of birds with one shot. Let's discuss it further.</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/25/2018, 5:36:12 AM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:10:19 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4274/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:10:45 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:10:50 PM<br><strong>Message</strong>: <pre>Patch Set 6: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/25/2018, 2:11:39 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4274/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4274/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4274</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/28/2018, 4:55:40 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/30/2018, 6:59:09 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Mathias, please take a look at https://github.com/sykesm/fabric/tree/mjb-wip and see how badly I mangled things.</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/31/2018, 4:49:30 AM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 4:52:39 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4582/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 4:53:02 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 4:53:06 AM<br><strong>Message</strong>: <pre>Patch Set 7: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 4:53:47 AM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4582/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4582/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4582</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/31/2018, 4:57:59 AM<br><strong>Message</strong>: <pre>Uploaded patch set 8.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:00:54 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4583/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:01:14 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:03:03 AM<br><strong>Message</strong>: <pre>Patch Set 8: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:03:36 AM<br><strong>Message</strong>: <pre>Patch Set 8:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4583/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4583/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4583</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/31/2018, 5:39:47 AM<br><strong>Message</strong>: <pre>Uploaded patch set 9.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:42:38 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4586/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:43:00 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:44:26 AM<br><strong>Message</strong>: <pre>Patch Set 9: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 5:45:01 AM<br><strong>Message</strong>: <pre>Patch Set 9:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4586/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4586/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4586</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/31/2018, 7:51:14 AM<br><strong>Message</strong>: <pre>Uploaded patch set 10.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 7:54:11 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4590/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 7:54:31 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 7:55:58 AM<br><strong>Message</strong>: <pre>Patch Set 10: F1-VerifyBuild-1

code checks are failed</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 7:56:38 AM<br><strong>Message</strong>: <pre>Patch Set 10:

Build Failed 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4590/ : FAILURE (skipped)

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4590/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4590</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 8/31/2018, 8:01:37 AM<br><strong>Message</strong>: <pre>Uploaded patch set 11.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:06:24 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4591/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:06:40 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:13:30 AM<br><strong>Message</strong>: <pre>Patch Set 11: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:14:05 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4591/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4591</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:16:27 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2995/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:16:49 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:30:00 AM<br><strong>Message</strong>: <pre>Patch Set 11: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:33:33 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4170/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:33:44 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1711/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:33:58 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:34:31 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:48:08 AM<br><strong>Message</strong>: <pre>Patch Set 11: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:50:28 AM<br><strong>Message</strong>: <pre>Patch Set 11: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 8/31/2018, 8:51:04 AM<br><strong>Message</strong>: <pre>Patch Set 11:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/2995/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/2995

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4170/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/4170

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1711/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1711</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 8/31/2018, 10:46:30 AM<br><strong>Message</strong>: <pre>Patch Set 11: Code-Review+2</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 9/3/2018, 5:10:48 PM<br><strong>Message</strong>: <pre>Uploaded patch set 12: Patch Set 11 was rebased.</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 9/3/2018, 6:12:05 PM<br><strong>Message</strong>: <pre>Patch Set 13: Patch Set 12 was rebased</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 9/4/2018, 3:23:09 AM<br><strong>Message</strong>: <pre>Topic changed from tms_transactor to tms_issuer</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 9/4/2018, 4:08:45 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(7 comments)

Thanks Mathias - a couple of minor comments from my side</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 9/4/2018, 7:58:19 AM<br><strong>Message</strong>: <pre>Uploaded patch set 14.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:03:14 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4697/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:03:34 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:10:13 AM<br><strong>Message</strong>: <pre>Patch Set 14: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:10:40 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4697/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4697</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:13:38 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/3069/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:14:05 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:30:06 AM<br><strong>Message</strong>: <pre>Patch Set 14: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:32:47 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4262/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:33:07 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:33:26 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1789/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:34:14 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:46:03 AM<br><strong>Message</strong>: <pre>Patch Set 14: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:49:16 AM<br><strong>Message</strong>: <pre>Patch Set 14: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/4/2018, 8:49:44 AM<br><strong>Message</strong>: <pre>Patch Set 14:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/3069/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/3069

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4262/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/4262

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1789/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1789</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 9/4/2018, 9:53:40 AM<br><strong>Message</strong>: <pre>Patch Set 13:

(5 comments)</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 9/4/2018, 10:02:16 AM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review+1

(6 comments)

Thanks Mathias - LGTM!</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 9/4/2018, 1:49:09 PM<br><strong>Message</strong>: <pre>Patch Set 14: Code-Review-1

(7 comments)

The minor refactors had some fallout that need cleanup.</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 9/5/2018, 7:11:48 AM<br><strong>Message</strong>: <pre>Patch Set 14:

(7 comments)</pre><strong>Reviewer</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Reviewed</strong>: 9/5/2018, 7:13:35 AM<br><strong>Message</strong>: <pre>Uploaded patch set 15.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:17:02 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4745/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:17:21 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting verify build</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:24:00 AM<br><strong>Message</strong>: <pre>Patch Set 15: F2-DocBuild+1 F1-VerifyBuild+1

Succeeded, Run SmokeTest</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:24:39 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/4745/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4745</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:26:45 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/3108/</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:27:05 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting smoke tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:41:50 AM<br><strong>Message</strong>: <pre>Patch Set 15: F2-SmokeTest+1

Succeeded, Run UnitTest, Run IntegrationTest</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 9/5/2018, 7:42:30 AM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:44:24 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4303/ (2/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:44:45 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting unit tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:45:12 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1824/ (3/3)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:46:06 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Starting Integration tests</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:56:23 AM<br><strong>Message</strong>: <pre>Patch Set 15: F3-IntegrationTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:59:27 AM<br><strong>Message</strong>: <pre>Patch Set 15: F3-UnitTest+1

Succeeded</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/5/2018, 7:59:58 AM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/3108/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/3108

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4303/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/4303

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/1824/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/1824</pre><strong>Reviewer</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 2:59:33 AM<br><strong>Message</strong>: <pre>Patch Set 15:

(2 comments)

Hi Mathias, thanks much! Just a few comments associated to the discussion we had earlier to keep everyone updated.</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 9/7/2018, 9:57:38 AM<br><strong>Message</strong>: <pre>Patch Set 15:

(1 comment)

A minor comment reinforcing Elli's</pre><strong>Reviewer</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Reviewed</strong>: 9/7/2018, 10:45:27 AM<br><strong>Message</strong>: <pre>Patch Set 15:

(1 comment)</pre><strong>Reviewer</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 1:21:10 PM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 2:16:11 PM<br><strong>Message</strong>: <pre>Patch Set 15: Code-Review+2</pre><strong>Reviewer</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Reviewed</strong>: 9/7/2018, 2:16:16 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Yacov Manevich</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/7/2018, 2:18:58 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-x86_64/4481/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/7/2018, 2:19:23 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Started https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/3150/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 9/7/2018, 2:49:30 PM<br><strong>Message</strong>: <pre>Patch Set 15:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/4481/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/4481

https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/3150/ : SUCCESS (skipped)

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3150</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/19/2018, 5:11:34 PM<br><strong>UnmergedRevision</strong>: [b3386d16a768f44ed218826753d6fd9ccc69a3aa](https://github.com/hyperledger-gerrit-archive/fabric/commit/b3386d16a768f44ed218826753d6fd9ccc69a3aa)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/19/2018, 5:15:42 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/b3386d16a768f44ed218826753d6fd9ccc69a3aa/token/tms/plain/issuer.go#L1)<br><strong>Comment</strong>: <pre>license header?</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/b3386d16a768f44ed218826753d6fd9ccc69a3aa/token/tms/plain/issuer_test.go#L1)<br><strong>Comment</strong>: <pre>license header</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/b3386d16a768f44ed218826753d6fd9ccc69a3aa/token/tms/plain/verifier.go#L1)<br><strong>Comment</strong>: <pre>license header</pre><strong>Commenter</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier_test.go#L1](https://github.com/hyperledger-gerrit-archive/fabric/blob/b3386d16a768f44ed218826753d6fd9ccc69a3aa/token/tms/plain/verifier_test.go#L1)<br><strong>Comment</strong>: <pre>license header</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/20/2018, 5:05:47 AM<br><strong>UnmergedRevision</strong>: [195062a7e1a679dc2e1ba63ea4a34712aebd01dd](https://github.com/hyperledger-gerrit-archive/fabric/commit/195062a7e1a679dc2e1ba63ea4a34712aebd01dd)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 5:13:03 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/20/2018, 5:20:53 AM<br><strong>UnmergedRevision</strong>: [020aa102ea97084f5ac59e3233b20106499ddcfd](https://github.com/hyperledger-gerrit-archive/fabric/commit/020aa102ea97084f5ac59e3233b20106499ddcfd)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 5:36:55 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/20/2018, 5:40:13 AM<br><strong>UnmergedRevision</strong>: [668fcc7c6132afbd264ec15a56f6027c399502d4](https://github.com/hyperledger-gerrit-archive/fabric/commit/668fcc7c6132afbd264ec15a56f6027c399502d4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 6:05:50 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 6:05:50 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 6:24:25 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 6:40:01 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/20/2018, 10:04:45 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/21/2018, 4:32:58 PM<br><strong>UnmergedRevision</strong>: [890171f923b9fc1baffff11b40a9562b4fae6c39](https://github.com/hyperledger-gerrit-archive/fabric/commit/890171f923b9fc1baffff11b40a9562b4fae6c39)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 4:45:20 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 4:45:20 PM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 4:59:34 PM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 5:17:43 PM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/21/2018, 5:51:10 PM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 8/22/2018, 2:39:29 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/credential.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/credential.go#L2)<br><strong>Comment</strong>: <pre>This is really old.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer.go#L2)<br><strong>Comment</strong>: <pre>This is really old.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L21](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer.go#L21)<br><strong>Comment</strong>: <pre>So, this is 

```
return &token.TokenTransaction{
    Action: &token.TokenTransaction__PlainAction{
        PlainAction: &token.PlainTokenAction{
            Data: &token.PlainTokenAction_PlainImport{
                PlainImport: &token.PlainImport{
                    Outputs; tokensToIssue,
                },
            },
        },
    },
}
```
While more verbose, it's idiomatic and clear as to how many levels of boxing there are around the actual token slice. (There are a lot.)</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L26](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer.go#L26)<br><strong>Comment</strong>: <pre>Here, we can use ImportRequest from prover protos, no?</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L28](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer.go#L28)<br><strong>Comment</strong>: <pre>what is outTokens?</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L32](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer.go#L32)<br><strong>Comment</strong>: <pre>len(nil) and len([]*token.PlainOutput{}) are both zero. I don't know why there are two blocks here.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L2](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L2)<br><strong>Comment</strong>: <pre>This is really old.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L18](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L18)<br><strong>Comment</strong>: <pre>this is unnecessary.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L25](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L25)<br><strong>Comment</strong>: <pre>Please just make this a literal.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L43](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L43)<br><strong>Comment</strong>: <pre>Please just make this assert.Equal(t, <the literal you want>)</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L48)<br><strong>Comment</strong>: <pre>this is unnecessary.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L51](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L51)<br><strong>Comment</strong>: <pre>Any error will do? You have an explicit error in the production code; the test should assert it.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L52)<br><strong>Comment</strong>: <pre>you can leave this but it's not strictly necessary; when an error is returned, unless explicitly stated otherwise, the convention is that the remaining return values can't be used.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer_test.go#L56](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/issuer_test.go#L56)<br><strong>Comment</strong>: <pre>Any error will do? You have an explicit error in the production code; the test should assert it.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L21](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L21)<br><strong>Comment</strong>: <pre>I was excited to see Issuer get exported but now we're back to hiding types.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L39](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L39)<br><strong>Comment</strong>: <pre>Please refactor. If plainImport is nil, return with the error. Don't defer the error processing.

This is *especially* true of validation functions. If you get to the bottom, everything should be good - that's not how this is coded.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L43](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L43)<br><strong>Comment</strong>: <pre>While I'm guilty of not always following this advice, please follow this advice:

https://github.com/golang/go/wiki/CodeReviewComments#declaring-empty-slices</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L62)<br><strong>Comment</strong>: <pre>Deja-vu. These appear to be the exact same checks as validate. Seems that function ought to be reused.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L62)<br><strong>Comment</strong>: <pre>No need for a dangling else. Bail quickly on the error path.  If we don't have a plainImport, just return the error without delay.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L62](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L62)<br><strong>Comment</strong>: <pre>Indeed, the plainAction/plainImport nil check will not be needed in commit. If an improperly formed action/import appears, it will result in a rejected validation, that would prevent the transaction from reaching the commit phase. 

For what is included in the block where PlainImport is non empty in each case: 

* peer validation (vscc plugin outside tms.validate) should do offline checks on the signature of the transaction matching the creator id => this check is done in many places and may be redandant here 
* tms validation does not need to do anything

* commit should ensure that the transaction creator is among the authorised issuers listed in the token system's configuration. The reason why this check needs to take place at commit time is because a the list of authorised issuers may change via another transaction in the same block. There is now a question on whether it makes sense that the check is done inside the TMS (the function that we analyse here) or in the peer transaction processor prior to reaching the TMS invocation. There are pros and cons in each case. But this merits discussion.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L84](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L84)<br><strong>Comment</strong>: <pre>This should just return a literal...</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L85](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier.go#L85)<br><strong>Comment</strong>: <pre>when possible, constructors should be defined near the thing they construct.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier_test.go#L33](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier_test.go#L33)<br><strong>Comment</strong>: <pre>please use a literal.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier_test.go#L47](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier_test.go#L47)<br><strong>Comment</strong>: <pre>Any error? Need to assert on the *expected* error.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier_test.go#L52](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier_test.go#L52)<br><strong>Comment</strong>: <pre>need to assert on the actual value of the removed transaction</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier_test.go#L57](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier_test.go#L57)<br><strong>Comment</strong>: <pre>need to assert on the *expected* error</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier_test.go#L61](https://github.com/hyperledger-gerrit-archive/fabric/blob/890171f923b9fc1baffff11b40a9562b4fae6c39/token/tms/plain/verifier_test.go#L61)<br><strong>Comment</strong>: <pre>type is good. having an error is good. verifying the equality against a literal that includes the type and the error is better.</pre></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/25/2018, 5:36:12 AM<br><strong>UnmergedRevision</strong>: [e26aa91c52cc42935f37c57e36576b5409faa88b](https://github.com/hyperledger-gerrit-archive/fabric/commit/e26aa91c52cc42935f37c57e36576b5409faa88b)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/25/2018, 2:10:50 PM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L17](https://github.com/hyperledger-gerrit-archive/fabric/blob/e26aa91c52cc42935f37c57e36576b5409faa88b/token/tms/plain/issuer.go#L17)<br><strong>Comment</strong>: <pre>Now that FAB-11524 is sort of in place, I can't normalize what's there with what's here.

The Issuer interface in Angelo's CR is:

```
// An Issuer creates token import requests.
type Issuer interface {
	// Issue creates an import request transaction.
	RequestImport(tokensToIssue []*token.TokenToIssue) (*token.TokenTransaction, error)
}
```

The types don't match even though the data within the messages do. I thought the prover peer grpc endpoint was to receive the signed ImportRequest command, use the TMS issuer to create a PlainImport transaction enveloped inside of a Token transaction, and return that?

Also, credential seem to be managed differently. The TMS manager has

```
type TMSManager interface {
	// GetIssuer returns an Issuer bound to the passed channel and whose credential
	// is the tuple (privateCredential, publicCredential).
	GetIssuer(channel string, privateCredential, publicCredential []byte) (Issuer, error)
}
```
implying that the credentials (public and private) are associated with an instance of an issuer. What is the relationship between a transactor/issuer, ImportRequest.Credential and ImportRequest.Header.Creator ?</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/31/2018, 4:49:30 AM<br><strong>UnmergedRevision</strong>: [959f6b7ac1510b8d23bac48cb9ec310c4ff8c22e](https://github.com/hyperledger-gerrit-archive/fabric/commit/959f6b7ac1510b8d23bac48cb9ec310c4ff8c22e)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 4:53:06 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 8</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/31/2018, 4:57:59 AM<br><strong>UnmergedRevision</strong>: [a8ca87071029ed0cb052cacac752d4c0221859cf](https://github.com/hyperledger-gerrit-archive/fabric/commit/a8ca87071029ed0cb052cacac752d4c0221859cf)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 5:03:03 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 9</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/31/2018, 5:39:47 AM<br><strong>UnmergedRevision</strong>: [113e469654bc032dc78e84d9f5e71befc79a207f](https://github.com/hyperledger-gerrit-archive/fabric/commit/113e469654bc032dc78e84d9f5e71befc79a207f)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 5:44:26 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 10</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/31/2018, 7:51:14 AM<br><strong>UnmergedRevision</strong>: [1703b5fe65d42f6bd1688ff3da7807de038d1416](https://github.com/hyperledger-gerrit-archive/fabric/commit/1703b5fe65d42f6bd1688ff3da7807de038d1416)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 7:55:58 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 11</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 8/31/2018, 8:01:37 AM<br><strong>UnmergedRevision</strong>: [e642da86e41bc9a6557148b30fa83e706f8478b3](https://github.com/hyperledger-gerrit-archive/fabric/commit/e642da86e41bc9a6557148b30fa83e706f8478b3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:13:30 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:13:30 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:30:00 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:48:08 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:50:28 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 8/31/2018, 10:46:30 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 12</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 9/3/2018, 5:10:48 PM<br><strong>UnmergedRevision</strong>: [a2345daf08e1216b87bcb63294b11d118bd24662](https://github.com/hyperledger-gerrit-archive/fabric/commit/a2345daf08e1216b87bcb63294b11d118bd24662)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:13:30 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:13:30 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:30:00 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:48:08 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:50:28 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 8/31/2018, 10:46:30 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br></blockquote><h3>PatchSet Number: 13</h3><blockquote><strong>Type</strong>: TRIVIAL_REBASE<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Created</strong>: 9/3/2018, 6:12:05 PM<br><strong>UnmergedRevision</strong>: [f3f2c3b9b5126b446b217cb0f342b51fdd6a8438](https://github.com/hyperledger-gerrit-archive/fabric/commit/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:13:30 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:13:30 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:30:00 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:48:08 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 8/31/2018, 8:50:28 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 8/31/2018, 10:46:30 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L74)<br><strong>Comment</strong>: <pre>td.TxID is already a string, why the conversion?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L74)<br><strong>Comment</strong>: <pre>Leftover from previous refactoring - will remove!</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L74](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L74)<br><strong>Comment</strong>: <pre>Thanks! Done</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L83)<br><strong>Comment</strong>: <pre>Just a thought: there doesn't seem to be a way for the implementation of this interface to check this invariant. If this is important from a security perspective, how about you don't export the CheckUpdate function and simply have CommitUpdate call it first? This way by definition all committed updates will be checked first.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L83)<br><strong>Comment</strong>: <pre>Since the pool and history functionality are now merged into a single Pool, there is no need to export the check and commit functions separately. What you suggested makes sense, I will make the change. Thanks!</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L83](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L83)<br><strong>Comment</strong>: <pre>Thanks, done!</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L94](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L94)<br><strong>Comment</strong>: <pre>td.TxID is already a string, why the conversion?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L94](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L94)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L94](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L94)<br><strong>Comment</strong>: <pre>Thanks! Done</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L121](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L121)<br><strong>Comment</strong>: <pre>How about
```
if _, ok := p.entries[entryID]; ok {
```
instead?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L121](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L121)<br><strong>Comment</strong>: <pre>I originally had what you suggested, but the current approach was recommended by Matt, since the zero value of the entries map is a pointer, and if the entry doesn't exist, we will already get nil and don't need the two-value form. IMHO both approaches produce the same result, so if you don't insist, I would leave this as is.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L121](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L121)<br><strong>Comment</strong>: <pre>Thanks for the explanation and no problem leaving it as is. I personally try to stay away from nil-checking as I was burned a couple of times when dealing with interfaces, but that's not the case here so it should be safe.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L203](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L203)<br><strong>Comment</strong>: <pre>Why Bytes?</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L203](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L203)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L203](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L203)<br><strong>Comment</strong>: <pre>Thanks! Done</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L250](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/plain/pool.go#L250)<br><strong>Comment</strong>: <pre>This smells like a composite key - any chance you might want to use the same code used for composite keys to build this string?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/transactiondata.go#L11](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/transactiondata.go#L11)<br><strong>Comment</strong>: <pre>Could you please add a comment to describe the purpose of this struct?</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/transactiondata.go#L11](https://github.com/hyperledger-gerrit-archive/fabric/blob/f3f2c3b9b5126b446b217cb0f342b51fdd6a8438/token/tms/transactiondata.go#L11)<br><strong>Comment</strong>: <pre>Done</pre></blockquote><h3>PatchSet Number: 14</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 9/4/2018, 7:58:19 AM<br><strong>UnmergedRevision</strong>: [d95bddd967040f56d0fb26cf61532ed640d89858](https://github.com/hyperledger-gerrit-archive/fabric/commit/d95bddd967040f56d0fb26cf61532ed640d89858)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/4/2018, 8:10:13 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/4/2018, 8:10:13 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/4/2018, 8:30:06 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/4/2018, 8:46:03 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/4/2018, 8:49:16 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Approved</strong>: 9/4/2018, 10:02:16 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 9/4/2018, 1:49:09 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L16](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/issuer.go#L16)<br><strong>Comment</strong>: <pre>the argument name should match the reference in the godoc comment; also, the documentation should be complete sentences when possible (including a period).  From the blog on godoc:

```
Notice this comment is a complete sentence that begins with the name of the element it describes. This important convention allows us to generate documentation in a variety of formats, from plain text to HTML to UNIX man pages, and makes it read better when tools truncate it for brevity, such as when they extract the first line or sentence.
```</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/issuer.go#L16](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/issuer.go#L16)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L57](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool.go#L57)<br><strong>Comment</strong>: <pre>Now that you've removed the two-phase logic that was present when checks were exported, you need to review the comments.

When the comments don't match the code, you can't trust either.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L57](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool.go#L57)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L96](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool.go#L96)<br><strong>Comment</strong>: <pre>This doesn't look accurate and isn't really needed if it's not exported.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L96](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool.go#L96)<br><strong>Comment</strong>: <pre>Removing comment since not exported.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L250](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool.go#L250)<br><strong>Comment</strong>: <pre>this is a nit but the constant really doesn't add anything; it's no exported; it's used in one place inside of a format string.

Constants are important - when they're meaningful and repeatedly used.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L250](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool.go#L250)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L68](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool_test.go#L68)<br><strong>Comment</strong>: <pre>not needed since you removed phase 1</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L68](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool_test.go#L68)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L134](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool_test.go#L134)<br><strong>Comment</strong>: <pre>this function no longer exists so the tests need to be refactored to accurate reflect the new structure and model of the production code.</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/pool_test.go#L134](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/pool_test.go#L134)<br><strong>Comment</strong>: <pre>Fixing.</pre><strong>Commenter</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/verifier.go#L49)<br><strong>Comment</strong>: <pre>"for all token transactions" or "for all of the token transactions"</pre><strong>Commenter</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L49](https://github.com/hyperledger-gerrit-archive/fabric/blob/d95bddd967040f56d0fb26cf61532ed640d89858/token/tms/plain/verifier.go#L49)<br><strong>Comment</strong>: <pre>Fixing.</pre></blockquote><h3>PatchSet Number: 15</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Uploader</strong>: Mathias Bjoerkqvist - mathiasb303@outlook.com<br><strong>Created</strong>: 9/5/2018, 7:13:35 AM<br><strong>GitHubMergedRevision</strong>: [c7da428569a007bee44ccf7345c60fb5f4f19b80](https://github.com/hyperledger-gerrit-archive/fabric/commit/c7da428569a007bee44ccf7345c60fb5f4f19b80)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/5/2018, 7:24:00 AM<br><strong>Type</strong>: F1-VerifyBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/5/2018, 7:24:00 AM<br><strong>Type</strong>: F2-DocBuild<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/5/2018, 7:41:50 AM<br><strong>Type</strong>: F2-SmokeTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/5/2018, 7:56:23 AM<br><strong>Type</strong>: F3-IntegrationTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 9/5/2018, 7:59:27 AM<br><strong>Type</strong>: F3-UnitTest<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Yacov Manevich - yacovm@il.ibm.com<br><strong>Approved</strong>: 9/7/2018, 2:16:11 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Yacov Manevich<br><strong>Merged</strong>: 9/7/2018, 2:16:16 PM<br><br><strong>Approver</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>Approved</strong>: 9/5/2018, 7:42:30 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Matthew Sykes - sykesmat@us.ibm.com<br><strong>Approved</strong>: 9/7/2018, 1:21:10 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/c7da428569a007bee44ccf7345c60fb5f4f19b80/token/tms/plain/pool.go#L48)<br><strong>Comment</strong>: <pre>Just a suggestion. So NewMemoryPool creates a pool that leverages memory map for storing and retrieving pool-state. Would it make sense to provide a *Pool object that includes as a field a LedgerKV object (exposing solely get/put state capabilities) that would be provided at setup time, and would  allow our pool to read/write to a ledger?  

A possible version of this object would be the MemoryLedgerKV (or give it any other name), or the actual LedgerShim (at proof generation time) or TxSimulator (validation) in the future.</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/c7da428569a007bee44ccf7345c60fb5f4f19b80/token/tms/plain/pool.go#L48)<br><strong>Comment</strong>: <pre>That's a pretty good idea. Going one step further, let me point you to

https://gerrit.hyperledger.org/r/#/c/25671/13/token/tms/plain/pool.go@250

The idea would be to basically start treating the keys as composite ones already in preparation for the ledger pool. Let me know if you think it makes sense. Thx</pre><strong>Commenter</strong>: Alessandro Sorniotti - ale.linux@sopit.net<br><strong>CommentLine</strong>: [token/tms/plain/pool.go#L48](https://github.com/hyperledger-gerrit-archive/fabric/blob/c7da428569a007bee44ccf7345c60fb5f4f19b80/token/tms/plain/pool.go#L48)<br><strong>Comment</strong>: <pre>Just to clarify - this point is very minor and can definitely be skipped or addressed in a later change set.</pre><strong>Commenter</strong>: Elli Androulaki - lli@zurich.ibm.com<br><strong>CommentLine</strong>: [token/tms/plain/verifier.go#L94](https://github.com/hyperledger-gerrit-archive/fabric/blob/c7da428569a007bee44ccf7345c60fb5f4f19b80/token/tms/plain/verifier.go#L94)<br><strong>Comment</strong>: <pre>So this function checks the import rights of the creator, instead of the entire import. Would it make sense to rename it to reflect this fact?</pre></blockquote>