<strong>Project</strong>: fabric-sdk-java<br><strong>Branch</strong>: master<br><strong>ID</strong>: 2207<br><strong>Subject</strong>: FAB-649 Implement Java Chaincode support<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 11/3/2016, 12:23:56 AM<br><strong>LastUpdated</strong>: 11/4/2016, 11:35:26 AM<br><strong>CommitMessage</strong>:<br><pre>FAB-649 Implement Java Chaincode support

Currently the SDK only supports deploy,invoke or query
functions for GO chaincode. This commit adds the java
chaincode support

Change-Id: Id1ed6f7c207e32b1290017936ebec18c5c07b50a
Signed-off-by: Muhammad Altaf <muhammada@fast.au.fujitsu.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Reviewed</strong>: 11/3/2016, 12:23:56 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>Reviewed</strong>: 11/3/2016, 5:05:23 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(5 comments)</pre><strong>Reviewer</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>Reviewed</strong>: 11/3/2016, 7:22:57 AM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+1

(2 comments)</pre><strong>Reviewer</strong>: Artem Barger - bartem@il.ibm.com<br><strong>Reviewed</strong>: 11/3/2016, 8:01:59 AM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Reviewed</strong>: 11/3/2016, 8:34:11 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>Reviewed</strong>: 11/4/2016, 11:21:01 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+1 Verified+1

Verified. Please comment on using fileWalkTree. LGTM otherwise.</pre><strong>Reviewer</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Reviewed</strong>: 11/4/2016, 11:33:51 AM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>Reviewed</strong>: 11/4/2016, 11:35:23 AM<br><strong>Message</strong>: <pre>Patch Set 2: Code-Review+2</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 11/4/2016, 11:35:26 AM<br><strong>Message</strong>: <pre>Change has been successfully merged by Satheesh Kathamuthu</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Uploader</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Created</strong>: 11/3/2016, 12:23:56 AM<br><strong>UnmergedRevision</strong>: [9c1981a5c135bdba62cd37a27ffb65a34e25df39](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/commit/9c1981a5c135bdba62cd37a27ffb65a34e25df39)<br><br><strong>Approver</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>Approved</strong>: 11/3/2016, 7:22:57 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/helper/SDKUtil.java#L87](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/main/java/org/hyperledger/fabric/sdk/helper/SDKUtil.java#L87)<br><strong>Comment</strong>: <pre>I would consider using resolve from http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html or at least read http://stackoverflow.com/questions/412380/combine-paths-in-java/20069477#20069477 as there are different solutions.</pre><strong>Commenter</strong>: Artem Barger - bartem@il.ibm.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/helper/SDKUtil.java#L89](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/main/java/org/hyperledger/fabric/sdk/helper/SDKUtil.java#L89)<br><strong>Comment</strong>: <pre>While this method iterates over files in specific directory, there an API in Java 1.7, which allows to do so in more modular way. Please consider to refactor according to: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,%20java.nio.file.FileVisitor) and https://docs.oracle.com/javase/tutorial/essential/io/walk.html</pre><strong>Commenter</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/helper/SDKUtil.java#L89](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/main/java/org/hyperledger/fabric/sdk/helper/SDKUtil.java#L89)<br><strong>Comment</strong>: <pre>The logic to walk the file tree is not touched in this commit. There are couple of more places where we traverse the file tree (like when creating the tar.gz file), and there could be other optimization in the code path that we can do, but they are not relevant to this commit.

My take on this is that we keep that as a separate commit, so that if for some reason we need to revert this commit at some stage, we don't loose all those good changes that are otherwise not part of this feature.</pre><strong>Commenter</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L54](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L54)<br><strong>Comment</strong>: <pre>Just a nit: please remove trailing whitespaces.</pre><strong>Commenter</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L101](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L101)<br><strong>Comment</strong>: <pre>I would suggest using a path combiner function here (as in the other file).</pre><strong>Commenter</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L108](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L108)<br><strong>Comment</strong>: <pre>Please put a space around the operator.</pre><strong>Commenter</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L152](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/main/java/org/hyperledger/fabric/sdk/transaction/DeployTransactionBuilder.java#L152)<br><strong>Comment</strong>: <pre>I think it would be a good idea to make it configurable. May be a follow up. And peer has a mechanism to get a specific tag of the image, so we should try that.</pre><strong>Commenter</strong>: Gabor Hosszu - gabor@digitalasset.com<br><strong>CommentLine</strong>: [src/test/java/org/hyperledger/fabric/sdk/PeerClientTest.java#L35](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/test/java/org/hyperledger/fabric/sdk/PeerClientTest.java#L35)<br><strong>Comment</strong>: <pre>isn't there some Java constant for this?</pre><strong>Commenter</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>CommentLine</strong>: [src/test/java/org/hyperledger/fabric/sdk/PeerClientTest.java#L93](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/9c1981a5c135bdba62cd37a27ffb65a34e25df39/src/test/java/org/hyperledger/fabric/sdk/PeerClientTest.java#L93)<br><strong>Comment</strong>: <pre>Do we need an assert to confirm the result ?</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Uploader</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Created</strong>: 11/3/2016, 8:34:11 AM<br><strong>GitHubMergedRevision</strong>: [a44193cc67f077804b8830d87daaebbc49253ea3](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/commit/a44193cc67f077804b8830d87daaebbc49253ea3)<br><br><strong>Approver</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>Approved</strong>: 11/4/2016, 11:35:23 AM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Satheesh Kathamuthu<br><strong>Merged</strong>: 11/4/2016, 11:35:26 AM<br><br><strong>Approver</strong>: Satheesh Kathamuthu - satheesh.ceg@gmail.com<br><strong>Approved</strong>: 11/4/2016, 11:21:01 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br></blockquote>