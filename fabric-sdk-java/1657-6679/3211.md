<strong>Project</strong>: fabric-sdk-java<br><strong>Branch</strong>: WIP_fabric_v1<br><strong>ID</strong>: 3211<br><strong>Subject</strong>: Transaction flow for V1.0<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 12/12/2016, 12:49:40 AM<br><strong>LastUpdated</strong>: 12/12/2016, 3:15:21 PM<br><strong>CommitMessage</strong>:<br><pre>Transaction flow for V1.0

Change-Id: Iba70fd99de6cdf485cf3f32ef1a0eff1b0adefff
Signed-off-by: Muhammad Altaf <muhammada@fast.au.fujitsu.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Reviewed</strong>: 12/12/2016, 12:49:40 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>Reviewed</strong>: 12/12/2016, 3:14:14 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review+2

(10 comments)

Merging this in WIP branch to move forward.. Let's discuss the comments tonight</pre><strong>Reviewer</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>Reviewed</strong>: 12/12/2016, 3:15:16 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1</pre><strong>Reviewer</strong>: Gerrit Code Review - gerrit@hyperledger.org<br><strong>Reviewed</strong>: 12/12/2016, 3:15:21 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Pardha Vishnumolakala</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Uploader</strong>: Muhammad Altaf - muhammada@fast.au.fujitsu.com<br><strong>Created</strong>: 12/12/2016, 12:49:40 AM<br><strong>GitHubMergedRevision</strong>: [e7f8e9011c9d57463e326eb8b07e83499e90b132](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/commit/e7f8e9011c9d57463e326eb8b07e83499e90b132)<br><br><strong>Approver</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>Approved</strong>: 12/12/2016, 3:14:14 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Pardha Vishnumolakala<br><strong>Merged</strong>: 12/12/2016, 3:15:21 PM<br><br><strong>Approver</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>Approved</strong>: 12/12/2016, 3:15:16 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/Chain.java#L433](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/Chain.java#L433)<br><strong>Comment</strong>: <pre>a) Do we retry sending this failed transaction?
b) Do we want to mark this peer as not available so that future transactions do not fail?

We should take action a or b based on the error.</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/Chain.java#L437](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/Chain.java#L437)<br><strong>Comment</strong>: <pre>If no peer is available, is this a valid chain?
We need to be clear about the retry mechanism.
Is this client's responsibility or SDK's responsibility?</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/Member.java#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/Member.java#L0)<br><strong>Comment</strong>: <pre>No need to keep a generic "Member" name for this class.
We should rename this as "User".</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/DeploymentProposalBuilder.java#L41](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/transaction/DeploymentProposalBuilder.java#L41)<br><strong>Comment</strong>: <pre>remove hardcoding chain name
rename variable to remove "LCCC".</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/DeploymentProposalBuilder.java#L85](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/transaction/DeploymentProposalBuilder.java#L85)<br><strong>Comment</strong>: <pre>what about other languages?</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/ProposalBuilder.java#L87](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/transaction/ProposalBuilder.java#L87)<br><strong>Comment</strong>: <pre>rename to createProposal.
If the project name changes, this name would need explanation</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/ProposalBuilder.java#L146](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/transaction/ProposalBuilder.java#L146)<br><strong>Comment</strong>: <pre>Missing error check.

If the language is null or something other than java or go, ccType would not be set</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/ProposalBuilder.java#L159](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/transaction/ProposalBuilder.java#L159)<br><strong>Comment</strong>: <pre>Missing error check:

Throw exception or take some other action to indicate language is not supported</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/main/java/org/hyperledger/fabric/sdk/transaction/TransactionBuilder.java#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/main/java/org/hyperledger/fabric/sdk/transaction/TransactionBuilder.java#L0)<br><strong>Comment</strong>: <pre>Let's keep Transaction class to capture the fact that "Transactions are sent to Orderers".

TransactionBuilder can be a private class that can build it and create a Transaction object.</pre><strong>Commenter</strong>: Pardha Vishnumolakala - psaradhi@gmail.com<br><strong>CommentLine</strong>: [src/test/java/org/hyperledger/fabric/sdk/MemberTest.java#L0](https://github.com/hyperledger-gerrit-archive/fabric-sdk-java/blob/e7f8e9011c9d57463e326eb8b07e83499e90b132/src/test/java/org/hyperledger/fabric/sdk/MemberTest.java#L0)<br><strong>Comment</strong>: <pre>rename to UserTest?</pre></blockquote>