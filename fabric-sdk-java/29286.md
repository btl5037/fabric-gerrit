<strong>Project</strong>: fabric-sdk-java</br><strong>Branch</strong>: master<br><strong>ID</strong>: 29286<br><strong>Subject</strong>: FABJ-409: Code coverage checks<br><strong>Status</strong>: ABANDONED<br><strong>Owner</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Assignee</strong>:<strong>Created</strong>: 2/13/2019, 11:36:25 AM<br><strong>LastUpdated</strong>: 2/28/2019, 4:27:40 AM<br><strong>CommitMessage</strong>:<br><pre>FABJ-409: Code coverage checks

Code coverage checks for unit and integration tests

Change-Id: I5583ab5b0241e1a143239de30bc48ab8926e082a
Signed-off-by: Mark S. Lewis <mark_lewis@uk.ibm.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Reviewed</strong>: 2/13/2019, 11:36:25 AM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 11:39:10 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-1.4-x86_64/34/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 11:39:47 AM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-x86_64/2627/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/13/2019, 12:10:11 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-1.4-x86_64/34/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-verify-1.4-x86_64/34

https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-x86_64/2627/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-verify-x86_64/2627</pre><strong>Reviewer</strong>: Rick Rine - cr22rc@gmail.com<br><strong>Reviewed</strong>: 2/26/2019, 1:38:34 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-2

There was no discussion on this and if anyone really agreed or details in the JIRA why this is needed. We already have code coverage provided by Jacoco this change only seems to puts some measure on complexity which is not something we've had any rules on. The only measure we held to was line coverage which is the same for other projects.</pre><strong>Reviewer</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Reviewed</strong>: 2/27/2019, 5:56:04 AM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2019, 5:58:33 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-1.4-x86_64/46/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2019, 5:59:28 AM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-x86_64/2638/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2019, 6:27:46 AM<br><strong>Message</strong>: <pre>Patch Set 2: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-1.4-x86_64/46/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-verify-1.4-x86_64/46

https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-x86_64/2638/ : FAILURE

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-verify-x86_64/2638</pre><strong>Reviewer</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Reviewed</strong>: 2/27/2019, 6:35:06 AM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2019, 6:41:26 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-1.4-x86_64/47/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2019, 6:42:12 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-x86_64/2639/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 2/27/2019, 7:10:59 AM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-1.4-x86_64/47/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-verify-1.4-x86_64/47

https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-x86_64/2639/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-verify-x86_64/2639</pre><strong>Reviewer</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Reviewed</strong>: 2/27/2019, 7:12:05 AM<br><strong>Message</strong>: <pre>Patch Set 3:

> Patch Set 1: Code-Review-2
> 
> There was no discussion on this and if anyone really agreed or details in the JIRA why this is needed. We already have code coverage provided by Jacoco this change only seems to puts some measure on complexity which is not something we've had any rules on. The only measure we held to was line coverage which is the same for other projects.

Changed to line coverage checks as per your advice.</pre><strong>Reviewer</strong>: Rick Rine - cr22rc@gmail.com<br><strong>Reviewed</strong>: 2/27/2019, 11:25:06 AM<br><strong>Message</strong>: <pre>Patch Set 3:

Needs these changes yet.
Our coverage criteria is only on the aggregate and not on unit tests. 
This also will be enforced by 1.4 builds (backward compatibility) which won't necessarily cover new code showing falsing reduced coverage.</pre><strong>Reviewer</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Reviewed</strong>: 2/27/2019, 1:08:43 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Please could you explain why you think maintaining both unit and integration test code coverage at current levels is a bad idea. The Jira might be a could place for you to record your view.

I don't see where the code coverage criteria you mention are documented or checked. I don't understand your other comments.</pre><strong>Reviewer</strong>: Rick Rine - cr22rc@gmail.com<br><strong>Reviewed</strong>: 2/27/2019, 2:04:31 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Not sure what you're questioning.  We've only ever looked at the aggregate integration test line coverage.   If I add a lot of new code to master (2.0) it would not be run in 1.4 test so its coverage would be inaccurate because that code would not be used on 1.4.</pre><strong>Reviewer</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Reviewed</strong>: 2/28/2019, 4:27:40 AM<br><strong>Message</strong>: <pre>Abandoned</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mark S. Lewis - mark_lewis@uk.ibm.com<br><strong>Uploader</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Created</strong>: 1550075785<br><strong>UnmergedRevision</strong>: 9310fefd1b73421d020de22abb3dd34e7a4d8435<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/13/2019, 12:10:11 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Rick Rine - cr22rc@gmail.com<br><strong>Approved</strong>: 2/26/2019, 1:38:34 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mark S. Lewis - mark_lewis@uk.ibm.com<br><strong>Uploader</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Created</strong>: 1551264964<br><strong>UnmergedRevision</strong>: 4d1afc4922c0df4797053515363f990aaef95e2a<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/27/2019, 6:27:46 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Rick Rine - cr22rc@gmail.com<br><strong>Approved</strong>: 2/26/2019, 1:38:34 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Mark S. Lewis - mark_lewis@uk.ibm.com<br><strong>Uploader</strong>: Mark S. Lewis - Mark.S.Lewis@outlook.com<br><strong>Created</strong>: 1551267306<br><strong>UnmergedRevision</strong>: 707c57eb33b9b36d7cef6dcc39b804e79a748b6f<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 2/27/2019, 7:10:59 AM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Rick Rine - cr22rc@gmail.com<br><strong>Approved</strong>: 2/26/2019, 1:38:34 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote>